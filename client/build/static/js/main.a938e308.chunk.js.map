{"version":3,"sources":["config/constant.js","components/TrangChuPage/TrangChu.js","components/Header/Header.js","components/Footer/Footer.js","components/TrangChuPage/DealComponent.js","components/TrangChuPage/MarkettingComponent.js","components/TrangChuPage/ForCustomerComponent.js","components/SanPhamPage/SanPham.js","components/SanPhamDetailPage/SanPhamDetail.js","components/SanPhamDetailPage/InforItemComponent.js","components/SanPhamDetailPage/ClientCommentComponent.js","components/SanPhamDetailPage/QuestAndAnswerComponent.js","components/SanPhamDetailPage/InforDetailItemComponent.js","components/SanPhamDetailPage/DescriptionItemComponent.js","components/Header/DangKyComponent.js","components/Header/DangNhapComponent.js","components/DungChung/UserComponent.js","firebase/firebase.js","components/Modals/ModalThemBaiViet.js","components/Modals/ModalChiTietBaiViet.js","components/Modals/ModalThemCategory.js","components/Modals/ModalChiTietCategory.js","components/Modals/ModalThemBrand.js","components/Modals/ModalChiTietBrand.js","components/Modals/ModalChiTietProduct_Admin.js","components/Modals/ModalChiTietProduct_ChuShop.js","components/Modals/ModalChiTietDonHang_ChuShop.js","components/Modals/ModalChiTietCauHoi.js","components/Modals/ModalChiTietNhanXet.js","components/Modals/ModalCapNhatKho.js","components/Modals/ModalCapNhatGiaTriGiam.js","components/Modals/ModalThemMaGiamGia.js","components/Admin/QLCategoryComponent.js","components/Admin/QLMaGiamGiaComponent.js","components/Admin/QLBrandComponent.js","components/Admin/QLDonHangComponent.js","components/Admin/QLGianHangComponent.js","components/Admin/QLNguoiDungComponent.js","components/Admin/QLBaiVietComponent.js","components/Admin/QLProductComponent.js","components/Admin/QLCauHoiComponent.js","components/Admin/QLDoanhThuComponent.js","components/Admin/QLNhanXetComponent.js","components/CheckoutCartPage/CheckoutCartt.js","components/CheckoutShippingPage/CheckoutShipping.js","components/CheckoutPaymentPage/CheckoutPayment.js","components/BanHangPage/BanHang.js","components/BanHangPage/BanHang_DangKy.js","components/BanHangPage/BanHang_TrangChu.js","components/BanHangPage/BanHang_DanhSachSanPham.js","components/BanHangPage/BanHang_TaoMoiSanPham.js","components/BanHangPage/BanHang_DonHang.js","components/BanHangPage/BanHang_DanhSachGiamGia.js","components/BanHangPage/BanHang_QuanLyTonKho.js","components/BanHangPage/BanHang_TongHopDonHang.js","components/BanHangPage/BanHang_Top10SanPhamBanChay.js","components/BanHangPage/BanHang_BaoCaoBanHangTongHop.js","components/CheckoutPaymentPage/ResultSuccessPage.js","components/DealPage/Deal.js","components/ShopPage/ShopPage.js","components/ErrorPage/ErrorPhanQuyen.js","components/CustomerPage/Customer_Account.js","components/CustomerPage/Customer_DonHang.js","components/CustomerPage/Customer_ThongTinThanhToan.js","components/CustomerPage/Customer_DonHang_Detail.js","components/CustomerPage/Customer_Comment.js","components/CustomerPage/Customer_SanPhamDaXem.js","components/CustomerPage/Customer.js","components/TimKiemPage/TimKiem.js","components/DungChung/QuillEditor.js","components/BaiVietPage/BaiViet.js","components/ActivationAccountPage/ActivationAccount.js","components/ForgetPasswordPage/ForgetPassword.js","components/ResetPasswordPage/ResetPassword.js","components/Admin/MainAdmin.js","components/App/App.js","serviceWorker.js","reducers/DungChung/trangThaiDaDangNhapThanhCong.js","reducers/DungChung/showMainComponentAdminReducer.js","reducers/DungChung/reloadDatabaseReducer.js","reducers/DungChung/setSpinnerReducer.js","reducers/DungChung/isAdminReducer.js","reducers/DungChung/objectIDDangDuocChonReducer.js","reducers/DungChung/showModalThemCategoryReducer.js","reducers/DungChung/showChiTietCategoryReducer.js","reducers/DungChung/setSpinnerChiTietCategoryReducer.js","reducers/DungChung/showModalThemBrandReducer.js","reducers/DungChung/showChiTietBrandReducer.js","reducers/DungChung/setSpinnerChiTietBrandReducer.js","reducers/DungChung/showChiTietProductReducer.js","reducers/DungChung/tongSoSanPhamTrongGioHangReducer.js","reducers/DungChung/statusThayDoiGioHangReducer.js","reducers/DungChung/showModalDangNhapDangKyReducer.js","reducers/DungChung/showHeaderReducer.js","reducers/DungChung/thongTinDatHangKhachHangReducer.js","reducers/DungChung/thongTinVoucherReducer.js","reducers/DungChung/setKeyMenu_BanHangReducer.js","reducers/DungChung/reloadAnhReducer.js","reducers/DungChung/showChiTietProduct_ChuShopReducer.js","reducers/DungChung/statusDangXuatReducer.js","reducers/DungChung/showChiTietDonHang_ChuShopReducer.js","reducers/DungChung/showChiTietNguoiDungReducer.js","reducers/DungChung/showModalCapNhatKhoReducer.js","reducers/DungChung/showModalCapNhatGiaTriGiamReducer.js","reducers/DungChung/showModalThemBaiVietReducer.js","reducers/DungChung/showChiTietBaiVietReducer.js","reducers/DungChung/showChiTietCauHoiReducer.js","reducers/DungChung/showChiTietNhanXetReducer.js","reducers/DungChung/valueSearchReducer.js","reducers/DungChung/showModalThemVoucherReducer.js","reducers/index.js","index.js"],"names":["axios","axioss","create","baseURL","timeout","TrangChu","useState","dataCategory","setDataCategory","dataBaiViet","setDataBaiViet","dataProductSale","setDataProductSale","dataProduct","setDataProduct","setDataSearch","dispatch","useDispatch","useCookies","removeCookie","a","get","resData","data","status","message","error","useEffect","getDataCategory","getDataBaiViet","getDataSearch","getDataProductDangGiamGiaTheoTrang","getDataProduct","localStorage","getItem","setItem","undefined","type","MarkettingComponent","className","DealComponent","ForCustomerComponent","Header","cookies","JSON","parse","dataGioHang","setDataGioHang","setDataGioHangNew","dataLichSuTimKiem","setDataLichSuTimKiem","dataTimKiemGoiY","setDataTimKiemGoiY","statusThayDoiGioHang","useSelector","state","showModalDangNhapDangKy","isAdminReducer","isAdmin","countProductInCart","setCountProductInCart","history","useHistory","userID","setUserID","valueSearch","menu","style","padding","map","item","i","Item","key","height","to","onClick","e","preventDefault","push","ten","width","getGioHangTheoIDUser","arrayGioHangNew","index","length","idUser","tong","soLuong","parseInt","tinhTongSanPhamTrongGioHang","vaiTro","thongTinShop","isLock","post","search","id","res","token","headers","then","catch","err","console","log","LayDataUserTheoIDUser","LayDataTimKiemHot","KiemTraTokenAdmin","Navbar","bg","expand","display","margin","Brand","href","alt","src","marginRight","fontWeight","color","Toggle","aria-controls","Collapse","Nav","Link","Form","inline","overlay","trigger","FormControl","value","placeholder","onChange","target","LayDataLichSuTimKiem","Button","variant","CapNhatTimKiem","count","paddingTop","fontSize","UserComponent","Modal","show","size","onHide","animation","closeButton","Tabs","defaultActiveKey","Tab","eventKey","title","DangNhapComponent","DangKyComponent","Footer","marginTop","backgroundColor","props","format_curency","replace","borderRadius","marginBottom","lineHeight","placement","_id","str","toLowerCase","Image","img","chinh","stringNew","substring","setLongString","giaGoc","gia","giaTriGiamGia","toString","alignItems","justifyContent","idParen","setParen","to_slug","textAlign","onMouseEnter","icon","Carousel","interval","idShow","tieuDe","Caption","countProductShow","setCountProductShow","productShowEnd","setProductShowEnd","prev","SanPham","categoryID","match","params","slug","tongSoTrang","setTongSoTrang","giaDau","giaCuoi","dataGiaOption","setDataGiaOption","useQueryParams","rating","NumberParam","price","StringParam","query","setQuery","soSao","giaTim","LayTatCaSanPhamTheoIDCategoryTheoTrang","page","soTrang","LayDataProductTheoQuery","LayCategoryTheoID","window","scrollTo","Array","marginLeft","defaultPageSize","defaultCurrent","total","SanPhamDetail","productID","phanLoaiColor","setPhanLoaiColor","phanLoaiSize","setPhanLoaiSize","dataCategorys","setDataCategorys","idShop","setThongTinShop","phu","moTaChiTiet","noiSanXuat","moTa","moTaNganGon","giaCuoiCung","thongTinBaoHanh","baoHanh","loaiBaoHanh","thoiGianBaoHanh","donViBaoHanh","idBrand","idCategory","idEvent","thongTinProduct","setThongTinProduct","xuatXu","thongTinBrand","setThongTinBrand","shopID","brandID","put","CapNhatNguoiXem","LayDataProductTheoID","LayPhanLoaiColor","LayPhanLoaiSize","LayDataShopTheoID","LayDataCategoryTheoIDSanPham","LayDataBrandTheoID","location","pathname","InforItemComponent","InforDetailItemComponent","DescriptionItemComponent","QuestAndAnswerComponent","ClientCommentComponent","dataColor","dataSize","tenShop","viShop","keyPaypal","logoShop","dataShop","setDataShop","dataGioHangTruocDo","setDataGioHangTruocDo","srcHinhLon","setSrcHinhLon","hetHang","setHetHang","changeDivColor","setChangeDivColor","changeDivSize","setChangeDivSize","khuyenMai","mauSac","thongTinMuaSanPham","setThongTinMuaSanPham","HamGhep_Ten_MauSac_Size_SanPham","ThemVaoGioHang","catchTrung","indexTrung","LayShopTheoID","KiemTraKho","stringify","ReactImageMagnify","enlargedImagePosition","smallImage","isFluidWidth","largeImage","onMouseOver","name","tenPhanLoai","min","defaultValue","resultMau","resultSize","success","vietNhanXet","setVietNhanXet","countNhanXetShow","setCountNhanXetShow","TextArea","Input","Option","Select","arrPhanTram","setArrPhanTram","dataCommentTong","setDataCommentTong","dataCommentShow","setDataCommentShow","dataUser","setDataUser","nhanXetOption","setNhanXetOption","endXemThem","setEndXemThem","noiDung","comment","setComment","KiemTraDuLieu","GuiNhanXet","idProduct","LayDataCommentTheoOption","LayDataSoSao","disabled","allowHalf","sao","hamLamTronSao","percent","autoSize","minRows","maxRows","UserOutlined","date","Date","ngayTao","getDate","getMonth","getFullYear","traLoi","cauHoi","setCauHoi","dataCauHoi","setDataCauHoi","dataThich","setDataThich","thichOk","setThichOk","countCauHoiShow","setCountCauHoiShow","question","LayCauHoiTheoIDSanPham","cauHoiID","idCauHoi","luotThich","answer","ngayTraLoi","warning","CapNhatThichCauHoi","paddingLeft","GuiCauHoi","dataBrand","Table","bordered","dangerouslySetInnerHTML","__html","dataNam","statusMessageError","setStatusMessageError","thisYear","x","ngay","thang","nam","dataNgaySinh","setDataNgaySinh","email","sdt","cmnd","ngaySinh","gioiTinh","matKhau","dataDangKy","setDataDangKy","KiemTraDuLieuNhap","test","KhoiTaoTaiKhoan","taiKhoan","tenTaiKhoan","isDelete","borderLeft","Group","as","Row","controlId","Label","column","sm","Col","Control","Check","label","block","tenTaikhoan","setTaiKhoan","setCookies","loading","setLoading","XuLyDangNhap","path","reload","Spinner","role","dataEmail","setDataEmail","LayDataUserTheoID","NavDropdown","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","storage","ModalThemBaiViet","setFiles","firstTime","setFirstTime","imageAsFile","setImageAsFile","countAnhDaUploadThanhCong","setCountAnhDaUploadThanhCong","showModalThemBaiViet","spinnerThemBaiViet","setSpinnerThemBaiViet","loaiBaiViet","idProducts","content","luotXem","dataThem","setDataThem","trim","ThemBaiViet","onShow","LayDataSanPham","layout","initialValues","remember","rules","required","soLuongFile","files","listFile","listUrl","ref","on","snapShot","child","getDownloadURL","fireBaseUrl","countPrev","handleChange","showSearch","optionFilterProp","filterOption","input","option","children","indexOf","mode","onEditorChange","onFilesChange","ModalChiTietBaiViet","showChiTietBaiViet","spinnerChiTietBaiViet","setSpinnerChiTietBaiViet","objectIDDuocChonReducer","objectIDDuocChon","imageAsUrl","setImageAsUrl","showButtonHuy","setShowButtonHuy","disableOptions","setDisableOptions","statusSua","setStatusSua","spinnerSuaBaiViet","setSpinnerSuaBaiViet","baiVietNow","setBaiVietNow","baiVietSua","setBaiVietSua","SuaBaiViet","baiVietID","LayBaiVietTheoID","handleChangeIMG","rows","cols","ModalThemCategory","showModalThemCategoryReducer","showModalThemCategory","spinnerThemCategory","setSpinnerThemCategory","idparen","ThemCategory","LayDataCategoryAll","ModalChiTietCategory","showChiTietCategoryReducer","showChiTietCategory","setSpinnerChiTietCategory","spinnerSuaCategory","setSpinnerSuaCategory","cateogryNow","setCategoryNow","categorySua","setCategorySua","SuaCategory","ModalThemBrand","showModalThemBrandReducer","showModalThemBrand","spinnerThemBrand","setSpinnerThemBrand","ThemBrand","ModalChiTietBrand","showChiTietBrandReducer","showChiTietBrand","setSpinnerChiTietBrand","spinnerSuaBrand","setSpinnerSuaBrand","brandNow","setBrandNow","brandSua","setBrandSua","SuaBrand","LayBrandTheoID","ModalChiTietProduct_Admin","showChiTietProductAdmin","spinnerChiTietProduct","setSpinnerChiTietProduct","dataCountries","setDataCountries","setDataBrand","isAccept","productNow","setProductNow","LayDataBrandAll","LayDataCountriesAll","LayProductTheoID","ModalChiTietProduct_ChuShop","showChiTietProduct_ChuShop","countAnhDaUploadThanhCong_Chinh","setCountAnhDaUploadThanhCong_Chinh","countAnhDaUploadThanhCong_Phu","setCountAnhDaUploadThanhCong_Phu","imageAsUrl_Chinh","setImageAsUrl_Chinh","imageAsUrl_Phu","setImageAsUrl_Phu","imageAsFile_Chinh","setImageAsFile_Chinh","imageAsFile_Phu","setImageAsFile_Phu","firstTime3","setFirstTime3","firstTime4","setFirstTime4","spinnerSuaProduct","setSpinnerSuaProduct","productSua","setProductSua","regSo","SuaProduct","newArray","handleChangeIMG_Chinh","multiple","handleChangeIMG_Phu","ModalChiTietDonHang_ChuShop","dataShowChiTietDonHang","dataNguoiMua","showChiTietDonHang_ChuShop","spinnerChiTietDonHang","spinnerSuaChiTietDonHang","setSpinnerSuaChiTietDonHang","thanhTien","ghiChu","trangThai","chiTietNow","setChiTietNow","chiTietSua","setChiTietSua","CapNhatLichSu","idOrderDetail","diaChi","SuaChiTietDonHang","ModalChiTietCauHoi","showChiTietCauHoi","spinnerChiTietCauHoi","setSpinnerChiTietCauHoi","spinnerSuaCauHoi","setSpinnerSuaCauHoi","statusError","setStatusError","cauHoiNow","setCauHoiNow","cauHoiSua","setCauHoiSua","hamChuyenDoiNgay","SuaCauHoi","LayCauHoiTheoID","DuyetCauHoi","ModalChiTietNhanXet","showChiTietNhanXet","spinnerChiTietNhanXet","setSpinnerChiTietNhanXet","spinnerSuaNhanXet","setSpinnerSuaNhanXet","nhanXetNow","setNhanXetNow","nhanXetSua","setNhanXetSua","nhanXetID","LayNhanXetTheoID","SuaNhanXet","ModalCapNhatKho","showModalCapNhatKho","soLuongThem","setSoLuongThem","isNumber","setIsNumber","KiemTraKieuDuLieuNhap","CapNhatSoLuongTrongKho","showModalCapNhatGiaTriGiam","giaTriGiam","setGiaTriGiam","setGia","CapNhatGiaTriGiam","LayGiaProductTheoID","ModalThemMaGiamGia","RangePicker","DatePicker","showModalThemMaGiamGiaReducer","showModalThemVoucher","spinnerThemMaGiamGia","setSpinnerThemMaGiamGia","loaiGiamGia","ngayBatDau","ngayKetThuc","ThemMaGiamGia","format","disabledDate","current","moment","endOf","dates","dateStrings","QLCategoryComponent","setSpinnerReducer","setSpinner","reloadDatabaseReducer","reloadDatabase","dataSearch","trangThaiOption","setTrangThaiOption","pageNow","setPageNow","LayDataCategoryTheoTrang","LayDanhSachCategorySearch","LayDataCategory_ChuaKhoa_TheoTrang","LayDataCategory_DaKhoa_TheoTrang","hover","responsive","EditOutlined","UnlockOutlined","LockOutlined","MoKhoaDanhMuc","KhoaDanhMuc","okText","cancelText","onConfirm","XoaDanhMuc","DeleteOutlined","QLMaGiamGiaComponent","dataVoucher","setDataVoucher","LayDataVoucherTheoTrang","LayDanhSachVoucherSearch","LayDataVoucher_ChuaKhoa_TheoTrang","LayDataVoucher_DaKhoa_TheoTrang","MoKhoaVoucher","KhoaVoucher","QLBrandComponent","LayDataBrandTheoTrang","LayDataBrand_ChuaKhoa_TheoTrang","LayDataBrand_DaKhoa_TheoTrang","LayDanhSachBrandSearch","MoKhoaThuongHieu","KhoaThuongHieu","XoaThuongHieu","QLDonHangComponent","dataDonHang","setDataDonHang","dataChiTietDonHang","setDataChiTietDonHang","trangThaiShow","setTrangThaiShow","LayDataDonHangTheoTrang","idDonHang","LayDanhSachDonHangSearch","array","thongTinNguoiMua","soLuongSanPham","tongTien","LayDataChiTietDonHang_TheoIDDonHang","class","colSpan","item2","i2","idOrder","QLGianHangComponent","LayDataShopTheoTrang","LayDataShop_ChuaKhoa_TheoTrang","LayDataShop_DaKhoa_TheoTrang","LayDanhSachGianHangSearch","MoKhoaShop","KhoaShop","QuanLyNguoiDungComponent","LayDataUserTheoTrang","LayDanhSachUserSearch","LayDataUser_ChuaKhoa_TheoTrang","LayDataUser_DaKhoa_TheoTrang","MoKhoaUser","KhoaUser","QLBaiVietComponent","LayDataBaiViet_TheoTrang","LayDanhSachBaiVietSearch","LayDataBaiViet_ChuaKhoa_TheoTrang","LayDataBaiViet_DaKhoa_TheoTrang","MoKhoaBaiViet","KhoaBaiViet","XoaBaiViet","QLProductComponent","LayDataProductTheoTrang","LayDataProduct_ChuaKhoa_TheoTrang","LayDataProduct_DaKhoa_TheoTrang","LayDataProduct_ChuaDuyet_TheoTrang","LayDataProduct_DaDuyet_TheoTrang","EyeOutlined","MoKhoaSanPham","KhoaSanPham","CheckOutlined","DuyetSanPham","QLCauHoiComponent","setTraLoi","LayDataCauHoiTheoTrang","LayDanhSachCauHoiSearch","LayDataCauHoi_ChuaDuyet_TheoTrang","LayDataCauHoi_DaDuyet_TheoTrang","QLDoanhThuComponent","countDonHangShow","setCountDonHangShow","optionValueTime","setOptionValueTime","donHangShowEnd","setDonHangShowEnd","labels","datasets","borderWidth","chartData","setChartData","LayDataDoanhThuTuanNay","chartDataa","dataDate","dataDoanhThu","LayDataDoanhThuThangNay","LayDataDoanhThu3ThangGanNhat","LayDataDoanhThu6ThangGanNhat","options","text","scales","yAxes","ticks","autoSkip","maxTicksLimit","beginAtZero","gridLines","xAxes","ngayHoanThanh","QLNhanXetComponent","dataComment","setDataComment","LayDataCommentTheoTrang","LayDanhSachCommentSearch","LayDataComment_ChuaDuyet_TheoTrang","LayDataComment_DaDuyet_TheoTrang","DuyetComment","CheckoutCartt","Search","dataGioHangNew","cookie","tienTamTinh","tien","voucherID","splice","float","tienGiam","tinhThanhTien","enterButton","onSearch","KiemTraVoucher","CheckoutShipping","Step","thongTinDatHang","Steps","dataThanhPho","setDataThanhPho","dataQuan","setDataQuan","dataPhuong","setDataPhuong","checkDuLieuNhap","setCheckDuLieuNhap","hoTen","phuong","quan","thanhPho","thongTin","setThongTin","idThanhPho","idQuan","idPhuong","setDiaChi","thanhPhoID","quanID","phuongID","tenPhuong","tenQuan","tenThanhPho","LayDataThanhPho","LayDataQuanTheoIDThanhPho","LayDataPhuongTheoIDQuan","LayTenLocalTheoID","allowClear","span","offset","CheckoutPayment","valueRadioGiaoHang","setValueRadioGiaoHang","valueRadioThanhToan","setValueRadioThanhToan","setTotal","idVoucher","thongTinDonHang","setThongTinDonHang","radioStyle","tienShip","emailNhan","hinhThucThanhToan","ids","generate","toUpperCase","TaoDonHang_ThanhToan_COD","env","client","sandbox","production","currency","onError","onSuccess","payment","TaoDonHang_ThanhToan_PayPal","onCancel","shape","paddingRight","BanHang","SubMenu","Menu","useRouteMatch","setCookie","removeCookies","carousel","banner1","banner2","theme","url","DownOutlined","exact","from","component","BanHang_TrangChuComponent","BanHang_DonHangComponent","BanHang_DanhSachSanPhamComponent","BanHang_TaoMoiSanPhamComponent","BanHang_QuanLyTonKhoComponent","BanHang_TongHopDonHangComponent","BanHang_Top10SanPhamBanChayComponent","BanHang_BaoCaoBanHangTongHopComponent","BanHang_DanhSachGiamGiaComponent","BanHang_DangKy","countAnhDaUploadThanhCong_Logo","setCountAnhDaUploadThanhCong_Logo","firstTime1","setFirstTime1","imageAsFile_Logo","setImageAsFile_Logo","imageAsUrl_Logo","setImageAsUrl_Logo","dataTaoShop","setDataTaoShop","tailLayout","wrapperCol","TaoShop","setTimeout","LayEmailTheoIDUser","labelCol","handleChangeIMG_Logo","BanHang_TrangChu","TabPane","countAnhDaUploadThanhCong_Carousel","setCountAnhDaUploadThanhCong_Carousel","countAnhDaUploadThanhCong_Banner1","setCountAnhDaUploadThanhCong_Banner1","countAnhDaUploadThanhCong_Banner2","setCountAnhDaUploadThanhCong_Banner2","dataThayDoiThietKe","setDataThayDoiThietKe","dataThayDoiThongTin","setDataThayDoiThongTin","firstTime2","setFirstTime2","imageAsFile_Carousel","setImageAsFile_Carousel","imageAsFile_Banner1","setImageAsFile_Banner1","imageAsFile_Banner2","setImageAsFile_Banner2","imageAsUrl_Carousel","setImageAsUrl_Carousel","imageAsUrl_Banner1","setImageAsUrl_Banner1","imageAsUrl_Banner2","setImageAsUrl_Banner2","alert","tab","handleChangeIMG_Carousel","handleChangeIMG_Banner1","handleChangeIMG_Banner2","CapNhatThietKeGianHang","CapNhatThongTinGianHang","BanHang_DanhSachSanPham","LayDataProductTheoIDShop_TheoTrang","LayDataProductTheoIDShop_ChuaDuyet_TheoTrang","LayDataProductTheoIDShop_DaDuyet_TheoTrang","LayDataProductTheoIDShop_DaKhoa_TheoTrang","LayDataProductTheoIDShop_ChuaKhoa_TheoTrang","LayDataProductSearch","MoKhoaProduct","KhoaProduct","XoaProduct","BanHang_TaoMoiSanPham","spinnerBrand","setSpinnerBrand","disableFieldBaoHanh","setDisableFieldBaoHanh","mauSac1","mauSac2","mauSac3","mauSac4","size1","size2","size3","size4","dataPhanLoai","setDataPhanLoai","dataTaoMoiSanPham","setDataTaoMoiSanPham","showModalTaoMoiBrand","setShowModalTaoMoiBrand","showModalTaoPhanLoai","setShowModalTaoPhanLoai","ThemSanPham","KiemTraDuLieuNhapThemMoiThuongHieu","phanLoai","accept","onFinish","values","onFinishFailed","errorInfo","List","fields","add","remove","field","validateTrigger","whitespace","noStyle","onBlur","MinusCircleOutlined","PlusOutlined","BanHang_DonHang","currentPage","setCurrentPage","setDataShowChiTietDonHang","setDataNguoiMua","LayDataChiTietDonHang_TheoIDShop_TheoTrang","ketqua","LayDataChiTietDonHangTheoIdChiTietDonHang","LayDataChiTietDonHang_TheoIDShop_ChoDuyet_TheoTrang","LayDataChiTietDonHang_TheoIDShop_DaDuyet_TheoTrang","LayDataChiTietDonHang_TheoIDShop_DangVanChuyen_TheoTrang","LayDataChiTietDonHang_TheoIDShop_KhachNhanHang_TheoTrang","LayDataChiTietDonHang_TheoIDShop_HoanThanh_TheoTrang","LayDataChiTietDonHang_TheoIDShop_Huy_TheoTrang","LayDataDonHang","SuaTrangThaiThanh_DaDuyet","BanHang_DanhSachGiamGia","LayDataProductGiamGiaTheoIdShop","LayDataProductKhongGiamGiaTheoIdShop","BanHang_QuanLyTonKho","LayDataProductTheoIDShop_ConTrongKho","LayDataProductTheoIDShop_DaHetHang","soLuongDaBan","BanHang_TongHopDonHang","loiNhuanHomNay","setLoiNhuanHomNay","donHangChoXacNhan","setDonHangChoXacNhan","donHangDangVanChuyen","setDonHangDangVanChuyen","donHangDatNgayHomQua","setDonHangDatNgayHomQua","donHangDat7NgayGanNhat","setDonHangDat7NgayGanNhat","TinhLoiNhuanHomNay","TinhDonHangDangVanChuyen","TinhDonHangChoXacNhan","TinhDonHangDatNgayHomQua","TinhDonHangDat7NgayGanNhat","BanHang_Top10SanPhamBanChay","optionValueType","setOptionValueType","Top10SanPhamBanChayNhatTheoDoanhThu","Top10SanPhamBanChayNhatTheoSanLuong","Top10SanPhamBanChayNhatTheoSoLuongDonHang","tenSanPham","soDonHang","tongTienBanDuoc","BanHang_BaoCaoBanHangTongHop","dataChietKhau","dataDoanhThuSauChietKhau","LayDataSanLuongTuanNay","dataSanLuong","LayDataSanLuongThangNay","LayDataSanLuong3ThangGanNhat","LayDataSanLuong6ThangGanNhat","LayDataSoDonHangTuanNay","dataSoDonHang","LayDataSoDonHangThangNay","LayDataSoDonHang3ThangGanNhat","LayDataSoDonHang6ThangGanNhat","ResultSuccessPage","donhangID","subTitle","extra","Deal","LayTatCaSanPhamDangGiamGia","ShopPage","LayTatCaSanPhamTheoIDShop","ErrorPhanQuyen","Account","valueCheckbox","setValueCheckbox","matKhauCu","matKhauMoi","nhapLai","thongTinSua","setThongTinSua","KiemTraDuLieuHopLe","KiemTraMatKhau","CapNhatTaiKhoan","trangThaiCapNhatMatKhau","checked","Password","DonHang","result","LayDataDonHangTheoIDUser","Customer_ThongTinThanhToan","DonHangDetail","showChiTiet","setShowChiTiet","dataLichSu","setDataLichSu","LayChiTietDonHangTheoIDDonHang","LayLichSuChiTietDonHang","giamGia","ngayThucHien","Customer_Comment","LayDataCommentTheoIDUser","paddingBottom","Customer_SanPhamDaXem","LayDataSanPhamDaXemTheoIDUser","Customer","defaultSelectedKeys","defaultOpenKeys","OrderedListOutlined","CreditCardOutlined","CommentOutlined","HistoryOutlined","Customer_Account","Customer_DonHang","Customer_DonHang_Detail","TimKiem","curentPage","setCurentPage","dataCountCategory","setDataCountCategory","countAllProduct","setCountAllProduct","order","optionOrder","LayDataProductTheoSearch","dataAll","dataCount","LayDataCategoryTheoSearch","SmileOutlined","QuillClipboard","Quill","import","Clipboard","getMetaTagElements","stringContent","el","document","createElement","innerHTML","getElementsByTagName","clipboardData","getData","pastedData","urlMatches","forEach","link","payload","image","node","getAttribute","rendered","range","quill","getSelection","position","pasteHTML","setSelection","register","BlockEmbed","ImageBlot","imgTag","setAttribute","blotName","tagName","VideoBlot","videoTag","iframeTag","QuillEditor","html","setState","editorHtml","imageHandler","inputOpenImageRef","click","videoHandler","inputOpenVideoRef","fileHandler","inputOpenFileRef","insertImage","stopPropagation","currentTarget","file","reactQuillRef","getEditor","focus","insertEmbed","_isMounted","insertVideo","modules","toolbar","container","handlers","formats","React","createRef","this","persist","Component","BaiViet","soProductShow","setSoProductShow","LayDataBaiVietTheoID","LayDataProductTheoIDBaiViet","CapNhatLuotXemBaiViet","ActivationAccount","userThem","setUserThem","jwt","decode","TaoTaiKhoan","ForgetPassword","setEmail","GuiMailDoiMatKhau","ResetPassword","newPassword1","newPassword2","password","setPassword","setError","DoiMatKhauMoi","MainAdmin","ListGroup","textDecoration","QLNguoiDungComponent","App","showHeader","DealPage","CategorySanPham","CheckoutCart","Boolean","hostname","initState","showItemComponent","noidung","action","showAdminMain","tongSoSanPham","thongTinVoucher","allReducers","combineReducers","trangThaiDangNhap","showMainComponent","setKeyMenuBanHang","reloadAnh","statusDangXuat","showChiTietNguoiDung","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","CookiesProvider","ReactRouterRoute","Route","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a938e308.chunk.js","sourcesContent":["import axioss from 'axios';\r\n// const ApiLink =\" https://api-warehouse.herokuapp.com/api/\";\r\n\r\nconst ApiLink = \"http://localhost:5000/api/\";\r\n\r\nconst axios = axioss.create({\r\n    baseURL: ApiLink,\r\n    timeout: 15 * 1000,\r\n})\r\n\r\nexport { ApiLink, axios };","import React, { useState, useEffect } from 'react';\r\nimport { MarkettingComponent, DealComponent, HotSearchComponent, ForCustomerComponent } from '../allJS';\r\nimport { axios } from '../../config/constant';\r\nimport { useDispatch } from 'react-redux'\r\nimport { useCookies } from 'react-cookie';\r\nimport { message } from 'antd';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nfunction TrangChu() {\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [dataBaiViet, setDataBaiViet] = useState([]);\r\n    const [dataProductSale, setDataProductSale] = useState([]);\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [dataSearch, setDataSearch] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    async function getDataCategory() {\r\n        let resData = await axios.get('hethong/categorys-show');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data danh mục sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function getDataSearch() {\r\n        let resData = await axios.get('hethong/datasearch');\r\n        if (resData.data.status === 'success') {\r\n            setDataSearch(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data Search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function getDataBaiViet() {\r\n        let resData = await axios.get('hethong/baiviet-showtrangchu');\r\n        if (resData.data.status === 'success') {\r\n            setDataBaiViet(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data bài viết thất bại\");\r\n        }\r\n    }\r\n\r\n    async function getDataProduct() {\r\n        let resData = await axios.get('hethong/products');\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function getDataProductDangGiamGiaTheoTrang() {\r\n        let resData = await axios.get('hethong/products-sale/' + 0);\r\n        if (resData.data.status === 'success') {\r\n            setDataProductSale(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data sản phẩm giảm giá thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getDataCategory();\r\n        getDataBaiViet();\r\n        getDataSearch();\r\n        getDataProductDangGiamGiaTheoTrang();\r\n        getDataProduct();\r\n        removeCookie('shopID');\r\n        if (localStorage.getItem('dataGioHang') === null) {\r\n            localStorage.setItem('dataGioHang', '[]');\r\n        }\r\n        if (localStorage.getItem('idVoucher') === null) {\r\n            localStorage.setItem('idVoucher', undefined);\r\n        }\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <MarkettingComponent dataBaiViet={dataBaiViet} dataCategory={dataCategory}></MarkettingComponent>\r\n            <div className=\"container\">\r\n                {/* <HotSearchComponent dataSearch={dataSearch}></HotSearchComponent> */}\r\n                <DealComponent dataProductSale={dataProductSale}></DealComponent>\r\n                <ForCustomerComponent dataProduct={dataProduct}></ForCustomerComponent>\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default TrangChu;","import React, { useState, Fragment, useEffect } from 'react';\r\nimport { Navbar, Nav, Form, Button, Modal, Tab, Tabs, FormControl } from 'react-bootstrap';\r\nimport { DangKyComponent, DangNhapComponent, UserComponent, MarkettingComponent } from '../allJS';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Badge, message, Dropdown, Menu } from 'antd';\r\nimport { useHistory, Link, NavLink } from 'react-router-dom';\r\nimport { axios } from '../../config/constant';\r\n\r\nfunction to_slug(str) {\r\n    // Chuyển hết sang chữ thường\r\n    str = str.toLowerCase();\r\n\r\n    // xóa dấu\r\n    str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n    str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n    str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n    str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n    str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n    str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n    str = str.replace(/(đ)/g, 'd');\r\n\r\n    // Xóa ký tự đặc biệt\r\n    str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n    // Xóa khoảng trắng thay bằng ký tự -\r\n    str = str.replace(/(\\s+)/g, '-');\r\n\r\n    // xóa phần dự - ở đầu\r\n    str = str.replace(/^-+/g, '');\r\n\r\n    // xóa phần dư - ở cuối\r\n    str = str.replace(/-+$/g, '');\r\n\r\n    // return\r\n    return str;\r\n}\r\n\r\nfunction Header() {\r\n    const dispatch = useDispatch();\r\n    const [cookies, setCookies] = useCookies();\r\n    const [dataGioHang, setDataGioHang] = useState(JSON.parse(localStorage.getItem('dataGioHang')));\r\n    const [dataGioHangNew, setDataGioHangNew] = useState([]);\r\n    const [dataLichSuTimKiem, setDataLichSuTimKiem] = useState([]);\r\n    const [dataTimKiemGoiY, setDataTimKiemGoiY] = useState([]);\r\n    const statusThayDoiGioHang = useSelector(state => state.statusThayDoiGioHang);\r\n    const showModalDangNhapDangKy = useSelector(state => state.showModalDangNhapDangKy);\r\n    const isAdminReducer = useSelector(state => state.isAdmin);\r\n    const [countProductInCart, setCountProductInCart] = useState(0);\r\n    const history = useHistory();\r\n    const [userID, setUserID] = useState('');\r\n    const valueSearch = useSelector(state => state.valueSearch);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [dataBaiViet, setDataBaiViet] = useState([]);\r\n    const menu = (\r\n        <Menu>\r\n            <span style={{ padding: 10 }}><strong>TỪ KHÓA HOT</strong></span>\r\n            {\r\n                dataTimKiemGoiY.map((item, i) => {\r\n                    return <Menu.Item key={i} style={{ height: 30 }}>\r\n                        <Link to='/' onClick={(e) => {\r\n                            e.preventDefault();\r\n                            history.push('/timkiem?data=' + item.ten + '&order=newest');\r\n                            dispatch({ type: 'VALUE_SEARCH', valueSearch: item.ten });\r\n                        }}>\r\n                            <div style={{ width: '100%' }}>\r\n                                <span>{item.ten}</span>\r\n                            </div>\r\n                        </Link>\r\n                    </Menu.Item>\r\n                })\r\n            }\r\n\r\n            <span style={{ padding: 10 }}><strong>LỊCH SỬ TÌM KIẾM</strong></span>\r\n            {\r\n                cookies.userID !== undefined && (\r\n                    dataLichSuTimKiem.map((item, i) => {\r\n                        return <Menu.Item style={{ height: 30 }}>\r\n                            <Link to='/' onClick={(e) => {\r\n                                e.preventDefault();\r\n                                history.push('/timkiem?data=' + item.ten + '&order=newest');\r\n                                dispatch({ type: 'VALUE_SEARCH', valueSearch: item.ten });\r\n                            }}>\r\n                                <div style={{ width: '100%' }}>\r\n                                    <span>{item.ten}</span>\r\n                                </div>\r\n                            </Link>\r\n                        </Menu.Item>\r\n                    })\r\n                )\r\n            }\r\n\r\n        </Menu>\r\n    );\r\n\r\n    async function getDataCategory() {\r\n        let resData = await axios.get('hethong/categorys-show');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data danh mục sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function getDataBaiViet() {\r\n        let resData = await axios.get('hethong/baiviet-showtrangchu');\r\n        if (resData.data.status === 'success') {\r\n            setDataBaiViet(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data bài viết thất bại\");\r\n        }\r\n    }\r\n\r\n    function getGioHangTheoIDUser() {\r\n        var arrayGioHangNew = [];\r\n\r\n        for (let index = 0; index < dataGioHang.length; index++) {\r\n            if (dataGioHang[index].idUser === cookies.userID) {\r\n                arrayGioHangNew.push(dataGioHang[index]);\r\n            }\r\n        }\r\n\r\n        setCountProductInCart(tinhTongSanPhamTrongGioHang(arrayGioHangNew));\r\n\r\n        setDataGioHangNew(arrayGioHangNew);\r\n    }\r\n\r\n    function tinhTongSanPhamTrongGioHang(data) {\r\n        var tong = 0;\r\n        for (let index = 0; index < data.length; index++) {\r\n            tong += data[index].soLuong;\r\n        }\r\n        return parseInt(tong);\r\n    }\r\n\r\n    async function LayDataUserTheoIDUser(userID) {\r\n        let resData = await axios.get('hethong/users-item?idUser=' + userID);\r\n        if (resData.data.status === 'success') {\r\n            if (resData.data.data.vaiTro === 2) {\r\n                history.push('/dang-ky-gian-hang');\r\n            } else {\r\n                if (resData.data.data.vaiTro === 1) {\r\n                    if (resData.data.data.thongTinShop.isLock === false) {\r\n                        history.push('/banhang');\r\n                    } else {\r\n                        history.push('/error/403');\r\n                    }\r\n                } else {\r\n                    history.push('/admin');\r\n                }\r\n            }\r\n        } else {\r\n            message.error(\"Lấy data user thất bại\");\r\n        }\r\n    }\r\n\r\n    async function CapNhatTimKiem() {\r\n        let res = await axios.post('hethong/datasearch-capnhat', {\r\n            search: valueSearch,\r\n            id: cookies.userID\r\n        })\r\n    }\r\n\r\n    async function LayDataTimKiemHot() {\r\n        let res = await axios.get('hethong/datasearch-goiy');\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataTimKiemGoiY(res.data.data);\r\n        } else {\r\n            message.error('Lấy data tìm kiếm hot gợi ý thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataLichSuTimKiem() {\r\n        let res = await axios.get('hethong/datasearch-lichsutimkiem?id=' + cookies.userID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataLichSuTimKiem(res.data.data);\r\n        } else {\r\n            message.error('Lấy data lịch sử tìm kiếm thất bại');\r\n        }\r\n    }\r\n\r\n    async function KiemTraTokenAdmin() {\r\n        if (cookies.token === undefined) {\r\n            dispatch({ type: 'NO_ADMIN' });\r\n        } else {\r\n            await axios.get('hethong/auth/token-admin', { headers: { 'token': cookies.token } }).then(function (res) {\r\n                if (res.data.status === \"fail\") {\r\n                    dispatch({ type: 'NO_ADMIN' });\r\n                } else {\r\n                    dispatch({ type: 'ADMIN' });\r\n                }\r\n            }).catch(function (err) {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (statusThayDoiGioHang === false) {\r\n            setDataGioHang(JSON.parse(localStorage.getItem('dataGioHang')));\r\n        }\r\n    }, [statusThayDoiGioHang]);\r\n\r\n    useEffect(() => {\r\n        if (userID !== '') {\r\n            LayDataUserTheoIDUser(userID);\r\n        }\r\n    }, [userID])\r\n\r\n    useEffect(() => {\r\n        getGioHangTheoIDUser();\r\n    }, [dataGioHang])\r\n\r\n    useEffect(() => {\r\n        LayDataTimKiemHot();\r\n        KiemTraTokenAdmin();\r\n        getDataCategory();\r\n        getDataBaiViet();\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <div style={{ width: '85%', display: 'flex', margin: 'auto' }}>\r\n                    <Navbar.Brand href=\"/\">\r\n                        <img\r\n                            alt=\"\"\r\n                            src='/logo.png'\r\n                            width=\"80\"\r\n                            height=\"40\"\r\n                            style={{ marginRight: 5 }}\r\n                            className=\"d-inline-block\"\r\n                        />\r\n                        <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                    </Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <Nav.Link href=\"/\">Trang Chủ</Nav.Link>\r\n                            <Nav.Link onClick={(e) => {\r\n                                if (cookies.token === undefined) {\r\n                                    e.preventDefault();\r\n                                    dispatch({ type: 'SHOW_MODAL_DANGNHAP_DANGKY' });\r\n                                } else {\r\n                                    setUserID(cookies.userID);\r\n                                }\r\n                            }}>{isAdminReducer ? 'Trang Quản Lý' : 'Shop Của Bạn'}</Nav.Link>\r\n                        </Nav>\r\n                        <Nav className=\"mr-auto\">\r\n                            <Form inline>\r\n                                <Dropdown overlay={menu} trigger={['click']}>\r\n                                    <FormControl type=\"text\" value={valueSearch} placeholder=\"Tìm sản phẩm, danh mục hay thương hiệu\" className=\"mr-sm-2\" style={{ width: 350 }} onChange={(e) => {\r\n                                        dispatch({ type: 'VALUE_SEARCH', valueSearch: e.target.value });\r\n                                    }}\r\n                                        onClick={() => {\r\n                                            if (cookies.userID !== undefined) {\r\n                                                LayDataLichSuTimKiem();\r\n                                            }\r\n                                        }} />\r\n                                </Dropdown>\r\n\r\n                                <Button variant=\"outline-success\" style={{ width: 'auto' }} onClick={() => {\r\n                                    if (valueSearch !== '') {\r\n                                        CapNhatTimKiem();\r\n                                        history.push('/timkiem?data=' + valueSearch + '&order=newest');\r\n                                    }\r\n                                }}>Tìm Kiếm</Button>\r\n                            </Form>\r\n                        </Nav>\r\n                        <Nav className=\"mr-auto\">\r\n                            <Form inline>\r\n                                {\r\n                                    isAdminReducer === false && (\r\n                                        <Nav.Link href=\"/checkout/cart\" style={{ marginRight: 10 }}>\r\n                                            <Badge count={cookies.token === undefined ? 0 : countProductInCart} style={{ paddingTop: countProductInCart > 99 ? 0 : 6 }}>\r\n                                                <i className=\"fa fa-shopping-cart\" style={{ fontSize: 25 }}></i>\r\n                                            </Badge>\r\n                                        </Nav.Link>\r\n                                    )\r\n                                }\r\n                                {cookies.token === undefined ?\r\n                                    (<Nav.Link onClick={() => {\r\n                                        dispatch({ type: 'SHOW_MODAL_DANGNHAP_DANGKY' });\r\n                                    }} >Đăng Ký / Đăng Nhập</Nav.Link>) : (<UserComponent></UserComponent>)\r\n                                }\r\n                            </Form>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </div>\r\n            </Navbar>\r\n\r\n\r\n            <Modal show={showModalDangNhapDangKy} size=\"lg\" onHide={() => {\r\n                dispatch({ type: 'CLOSE_MODAL_DANGNHAP_DANGKY' });\r\n            }} animation={false}>\r\n                <Modal.Header closeButton><h5 style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</h5></Modal.Header>\r\n                <Tabs defaultActiveKey=\"dangnhap\" id=\"uncontrolled-tab-example\">\r\n                    <Tab eventKey=\"dangnhap\" title=\"Đăng Nhập\">\r\n                        <DangNhapComponent></DangNhapComponent>\r\n                    </Tab>\r\n                    <Tab eventKey=\"dangky\" title=\"Đăng Ký\">\r\n                        <DangKyComponent></DangKyComponent>\r\n                    </Tab>\r\n                </Tabs>\r\n            </Modal>\r\n            {/* <Nav className=\"flex-column nav-font-style\" style={{display: 'flow-root', textAlign: 'center', backgroundColor: '#f8f9fa'}}>\r\n                        {dataCategory.map((item, i) => {\r\n                            return <NavLink key={item._id} to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu\">\r\n                                <i className={item.icon} style={{ marginRight: 10 }}></i>{item.ten}\r\n                            </NavLink>\r\n                        })}\r\n                    </Nav> */}\r\n            {/* <MarkettingComponent dataBaiViet={dataBaiViet} dataCategory={dataCategory}></MarkettingComponent> */}\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"page-footer font-small mdb-color lighten-3 pt-4\" style={{ marginTop: 100, backgroundColor: '#F8F9FA' }}>\r\n            <div className=\"container text-center text-md-left\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 col-lg-3 mr-auto my-md-4 my-0 mt-4 mb-1s\">\r\n                        <h5 className=\"font-weight-bold text-uppercase mb-4\">WareHouse - WEBSITE MUA SẮM HÀNG ĐẦU</h5>\r\n                        <span style={{ fontSize: 14 }}>Mua hàng trực tuyến (mua hàng online) mang lại sự tiện lợi, lựa chọn đa dạng hơn và các dịch vụ tốt hơn cho người tiêu dùng, thế nhưng người tiêu dùng Việt Nam vẫn chưa tận hưởng được những tiện ích đó. Chính vì vậy WareHouse được triển khai với mong muốn trở thành trung tâm mua sắm trực tuyến số 1 tại Việt Nam, nơi bạn có thể chọn lựa mọi thứ, từ các mặt hàng điện tử như laptop, điện thoại di động giá rẻ, thiết bị gia dụng như máy lạnh, máy lọc không khí, máy hút bụi mini gia đình, nội thất phòng ngủ… Chúng tôi có tất cả!</span>\r\n                    </div>\r\n                    <hr className=\"clearfix w-100 d-md-none\" />\r\n                    <div className=\"col-md-4 col-lg-3 mr-auto my-md-4 my-0 mt-4 mb-1s\">\r\n                        <span style={{ fontSize: 14 }}>Tại WareHouse bạn có thể mua đồ điện tử giá rẻ, cũng như các loại mặt hàng khác với rất nhiều các chương trình khuyến mãi hàng tháng. Ngoài ra bạn cũng có thể tham gia bán hàng trực tuyến thông qua hệ thống marketplace của WareHouse với rất nhiều hỗ trợ và dịch vụ hấp dẫn. Bây giờ bạn có thể trải nghiệm mua hàng online thỏa thích mà WareHouse mang lại chỉ với 1 click chuột. Dù bạn là một nhà quản lý bận rộn với công việc hay là người nội trợ với danh sách dài việc phải làm, chắc chắn bạn cũng sẽ yêu thích trải nghiệm mua hàng tại WareHouse - mua hàng trực tuyến dễ dàng hơn, thuận tiện hơn và tiết kiệm thời gian.</span>\r\n                    </div>\r\n                    <hr className=\"clearfix w-100 d-md-none\" />\r\n                    <div className=\"col-md-4 col-lg-3 mx-auto my-md-4 my-0 mt-4 mb-1\">\r\n                        <h5 className=\"font-weight-bold text-uppercase mb-4\">Address</h5>\r\n                        <ul className=\"list-unstyled\">\r\n                            <li>\r\n                                <p>\r\n                                    <i className=\"fa fa-home mr-2\" /> Gò Vấp, HCM</p>\r\n                            </li>\r\n                            <li>\r\n                                <p>\r\n                                    <i className=\"fa fa-envelope mr-2\" />warehouse.space.store@gmail.com</p>\r\n                            </li>\r\n                            <li>\r\n                                <p>\r\n                                    <i className=\"fa fa-phone mr-2\" />0584378737</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <hr className=\"clearfix w-100 d-md-none\" />\r\n                    <div className=\"col-md-2 col-lg-2 text-center mx-auto my-4\">\r\n                        <h5 className=\"font-weight-bold text-uppercase mb-4\">Follow Us</h5>\r\n                        <a href='https://www.facebook.com' type=\"button\" className=\"btn-floating btn-fb\">\r\n                            <i className=\"fab fa-facebook-square fa-2x mr-3\" />\r\n                        </a>\r\n                        <a href='https://www.instagram.com' type=\"button\" className=\"btn-floating btn-tw\">\r\n                            <i className=\"fab fa-instagram fa-2x mr-3\" />\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-copyright text-center py-3\">© 2020 Copyright: WareHouse\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { Fragment } from 'react';\r\nimport { Button, Image } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Tooltip } from 'antd';\r\n\r\nexport default function DealComponent(props) {\r\n    var dataProductSale = props.dataProductSale;\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 65) {\r\n            stringNew = str.substring(0, 65) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\" style={{ height: 'auto', backgroundColor: '#F8F9FA', marginTop: 40, borderRadius: 10, color: 'black', fontWeight: 'lighter', padding: 10 }}>\r\n                <div className=\"col\">\r\n                    <div className=\"row\" style={{ height: 50, width: '100%', padding: 10, marginBottom: 20 }}>\r\n                        <i className=\"fa fa-bell fa-2x\" style={{ marginTop: 15 }}></i>\r\n                        <div className=\"col\" style={{ height: 'auto' }}>\r\n                            <h5 style={{ color: 'orange' }}><strong>WareHouse Deal</strong></h5>\r\n                            <p style={{ lineHeight: 1 }}>Cập nhật hàng giờ tất cả những deal giảm giá đặc biệt trên WareHouse. Hãy bookmark trang này và quay lại thường xuyên để không bỏ lỡ bạn nhé!</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        {\r\n                            dataProductSale.map((item, i) => {\r\n                                return <Tooltip title={item.ten} placement={'right'} color={'orange'} key={i}>\r\n                                    <div key={i} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 'auto', marginTop: 35, width: '95%' }}>\r\n                                        <Link to={'detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                            <div className=\"row\">\r\n                                                <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                            </div>\r\n                                            <div className=\"row item-ten\">\r\n                                                <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                            </div>\r\n                                            <div className=\"row item-gia\">\r\n                                                <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                    item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                }</span>\r\n                                            </div>\r\n                                            <div className=\"row item-giagoc\">\r\n                                                <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </Tooltip>\r\n\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"row\" style={{ marginTop: 20, alignItems: 'center', justifyContent: 'center' }}>\r\n                        <Link to=\"/deal\"><Button variant=\"outline-primary\">Xem Thêm</Button></Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import { Dropdown, Menu } from 'antd';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { Nav, Carousel, Image } from 'react-bootstrap';\r\nimport { Link, NavLink, useHistory } from 'react-router-dom';\r\n\r\nexport default function MarkettingComponent(props) {\r\n    const dataCategory = props.dataCategory;\r\n    const dataBaiViet = props.dataBaiViet;\r\n    const history = useHistory();\r\n    const [idParen, setParen] = useState('');\r\n\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n    function showParen(idShow) {\r\n        setParen(idShow);\r\n    }\r\n    const menu = (\r\n        <Menu>\r\n            {dataCategory.map((item, i) => {\r\n                var result = (item.idParen !== '' && item.idParen === idParen) ?\r\n                    (\r\n                        <Menu.Item key={item._id}>\r\n                            <NavLink to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu mr-3\">\r\n                                {item.ten}\r\n                            </NavLink>\r\n                        </Menu.Item>\r\n                    ) : ''\r\n                return result;\r\n            })}\r\n        </Menu>\r\n    );\r\n    return (\r\n\r\n        <Fragment>\r\n            <div className='container'>\r\n                {/* <Nav className=\"flex-column nav-font-style\" style={{ display: 'inline-block', textAlign: 'left' }}>\r\n                    {dataCategory.map((item, i) => {\r\n                        return (\r\n                            <Nav.Item>\r\n                                <NavLink key={item._id} to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu\">\r\n                                    <i className={item.icon} style={{ marginRight: 10 }}></i>{item.ten}\r\n                                </NavLink>\r\n                            </Nav.Item>\r\n                        )\r\n                    })}\r\n                </Nav> */}\r\n                <Nav className=\"nav-font-style\" style={{ textAlign: 'left', height: 'auto' }}>\r\n                    {dataCategory.map((item, i) => {\r\n                        var result = (item.idParen === '') ?\r\n                            (\r\n                                <Dropdown key={item._id} overlay={menu}>\r\n                                    <NavLink to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu\" onMouseEnter={() => {\r\n                                        setParen(item._id)\r\n                                    }}>\r\n                                        <i className={item.icon} style={{ marginRight: 10 }}></i>{item.ten}\r\n                                    </NavLink>\r\n                                </Dropdown>\r\n                            ) : ''\r\n                        return result;\r\n                    })}\r\n                </Nav>\r\n                <div className='row'>\r\n                    {/* <div className=\"col-sm-3\" style={{ backgroundColor: \"#F8F9FA\", width: '100%' }}> \r\n                        <Nav className=\"flex-column nav-font-style\" style={{ display: 'block',textAlign:'left' }}>\r\n                            {dataCategory.map((item, i) => {\r\n                                return <NavLink key={item._id} to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu\">\r\n                                    <i className={item.icon} style={{ marginRight: 10}}></i>{item.ten}<br></br>\r\n                                </NavLink>\r\n                            })}\r\n                        </Nav>\r\n                    </div> */}\r\n                    <div className=\"col-sm-12\">\r\n                        <Carousel interval={2000} className=\"container\">\r\n                            {dataBaiViet.map((item, i) => {\r\n                                if (i < 6) {\r\n                                    return <Carousel.Item key={item._id}>\r\n                                        <Link to='/' onClick={(e) => {\r\n                                            e.preventDefault();\r\n                                            history.push('/baiviet/' + item.idShow + '/' + to_slug(item.tieuDe))\r\n                                        }}>\r\n                                            <Image style={{ width: '100%', height: '500px' }} src={item.img} />\r\n                                        </Link>\r\n                                        <Carousel.Caption>\r\n                                            <h3 style={{ color: 'white', fontSize: 20 }}>{item.tieuDe}</h3>\r\n                                        </Carousel.Caption>\r\n                                    </Carousel.Item>\r\n                                }\r\n                            })}\r\n                        </Carousel>\r\n                    </div>\r\n                    {/* <br />\r\n                    {dataBaiViet.map((item, i) => {\r\n\r\n                        return <Link key={item._id} to={'baiviet/' + item.idShow + '/' + to_slug(item.tieuDe)}>\r\n                            <Image id=\"itemQuangCao\" style={{ width: '48%', height: 150, marginLeft: 10 }} src={item.img} rounded />\r\n                        </Link>\r\n\r\n                    })} */}\r\n                </div>\r\n\r\n                {/* <div className=\"col-sm-3\">\r\n                    {dataBaiViet.map((item, i) => {\r\n\r\n                        return <div key={item._id} className=\"col\" style={{ marginTop: 10 }}>\r\n                            <Link key={item._id} to={'baiviet/' + item.idShow + '/' + to_slug(item.tieuDe)}>\r\n                                <Image id=\"itemQuangCao\" style={{ width: '100%', height: 108 }} src={item.img} rounded />\r\n                            </Link>\r\n                        </div>\r\n\r\n                    })}\r\n                </div> */}\r\n            </div>\r\n            {/* <div className=\"row\" style={{ marginTop: 20 }}>\r\n                {dataBaiViet.map((item, i) => {\r\n                    return <div className=\"col-sm-3\" key={item._id}>\r\n                        <Link key={item._id} to={'baiviet/' + item.idShow + '/' + to_slug(item.tieuDe)}>\r\n                            <Image id=\"itemQuangCao\" style={{ width: '100%', height: 150 }} src={item.img} rounded />\r\n                        </Link>\r\n                    </div>\r\n\r\n                })}\r\n\r\n            </div> */}\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Button, Image } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Tooltip } from 'antd';\r\n\r\nexport default function ForCustomerComponent(props) {\r\n    var dataProduct = props.dataProduct;\r\n    const [countProductShow, setCountProductShow] = useState(8);\r\n    const [productShowEnd, setProductShowEnd] = useState(false);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 65) {\r\n            stringNew = str.substring(0, 65) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (countProductShow >= dataProduct.length && dataProduct.length !== 0) {\r\n            setProductShowEnd(true);\r\n        }\r\n    }, [countProductShow])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\" style={{ height: 'auto', backgroundColor: '#F8F9FA', marginTop: 40, borderRadius: 10, color: 'black', fontWeight: 'lighter', padding: 10 }}>\r\n                <div className=\"col\">\r\n                    <h5 style={{ color: 'orange' }}><strong>Danh sách sản phẩm</strong></h5>\r\n                    <div className=\"row\">\r\n                        {\r\n                            dataProduct.map((item, i) => {\r\n                                if (i < countProductShow) {\r\n                                    if (item.giaTriGiamGia === 0) {\r\n                                        return <Tooltip title={item.ten} placement={'right'} color={'orange'} key={i}>\r\n                                            <div key={i} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 'auto', marginTop: 35, width: '95%' }}>\r\n                                                <Link to={'detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </Tooltip>\r\n\r\n                                    } else {\r\n                                        return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                            <div key={i} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                <Link to={'detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                            item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                        }</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-giagoc\">\r\n                                                        <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </Tooltip>\r\n                                    }\r\n                                }\r\n                            })\r\n                        }\r\n                    </div>\r\n                    {\r\n                        productShowEnd === false && (\r\n                            <div className=\"row\" style={{ marginTop: 20, alignItems: 'center', justifyContent: 'center' }}>\r\n                                <Button variant=\"outline-primary\" onClick={() => {\r\n                                    setCountProductShow(prev => prev + 8);\r\n                                }}>Xem Thêm</Button>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaStar } from 'react-icons/fa';\r\nimport { Image, Button, Nav } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { message, Input, Pagination, Tooltip, Breadcrumb } from 'antd';\r\nimport { StringParam, useQueryParams, NumberParam } from 'use-query-params';\r\n\r\n\r\nexport default function SanPham(props) {\r\n    const dispatch = useDispatch();\r\n    const categoryID = props.match.params.id;\r\n    const slug = props.match.params.slug;\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataGiaOption, setDataGiaOption] = useState({\r\n        giaDau: '',\r\n        giaCuoi: ''\r\n    })\r\n    const [dataCategory, setDataCategory] = useState({\r\n        _id: '',\r\n        ten: ''\r\n    });\r\n    const [query, setQuery] = useQueryParams({\r\n        rating: NumberParam,\r\n        price: StringParam\r\n    });\r\n    const { rating: soSao, price: giaTim } = query;\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 54) {\r\n            stringNew = str.substring(0, 54) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    async function LayCategoryTheoID(categoryID) {\r\n        let res = await axios.get('hethong/categorys-item?id=' + categoryID);\r\n        if (res.data.status === 'success') {\r\n            setDataCategory({\r\n                _id: res.data.data._id,\r\n                ten: res.data.data.ten\r\n            })\r\n        } else {\r\n            message.error('Lấy data danh mục sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayTatCaSanPhamTheoIDCategoryTheoTrang(categoryID, page) {\r\n        let res = await axios.get('hethong/products-category/' + page + '?idCategory=' + categoryID);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            setTongSoTrang(res.data.soTrang);\r\n        } else {\r\n            message.error('Lấy data sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoQuery() {\r\n        let res = await axios.get('hethong/products-category-nguoidung/' + 0 + '?id=' + categoryID + '&rating=' + soSao + '&price=' + giaTim);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            setTongSoTrang(res.data.soTrang);\r\n        } else {\r\n            message.error('Lấy data sản phẩm theo query thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductTheoQuery()\r\n    }, [soSao, giaTim])\r\n\r\n    useEffect(() => {\r\n        LayCategoryTheoID(categoryID);\r\n        LayTatCaSanPhamTheoIDCategoryTheoTrang(categoryID, 0);\r\n        window.scrollTo(0, 0);\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop: '50px' }}>\r\n            {/* <div style={{ backgroundColor: \"#F8F9FA\", width: '100%' }}>\r\n                <Nav className=\"flex-column nav-font-style\" style={{ display: 'block' }}>\r\n                    {dataCategory.map((item, i) => {\r\n                        return <NavLink key={item._id} to={'category/' + item._id + '/' + to_slug(item.ten)} className=\"navMenu\">\r\n                            <i className={item.icon} style={{ marginRight: 10 }}></i>{item.ten}\r\n                        </NavLink>\r\n                    })}\r\n                </Nav>\r\n            </div> */}\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-3 sidebar\">\r\n                    <div className=\"danhmuc-sidebar\">\r\n                        <h5>DANH MỤC SẢN PHẨM</h5>\r\n                        <div className=\"danhmucchinh-sidebar\">\r\n                            <p><strong><Link to='#'>{dataCategory.ten}</Link></strong></p>\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n                    <div className=\"danhgia-sidebar\">\r\n                        <h5>ĐÁNH GIÁ</h5>\r\n                        <div className=\"danhgia-5sao-sidebar\">\r\n                            <Link to='/' onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 5\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(5)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 5 sao)</span>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"danhgia-4sao-sidebar\">\r\n                            <Link to='/' style={{ color: 'black' }} onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 4\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(4)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 4 sao)</span>\r\n                            </Link>\r\n\r\n                        </div>\r\n                        <div className=\"danhgia-3sao-sidebar\">\r\n                            <Link to='/' style={{ color: 'black' }} onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 3\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(3)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 3 sao)</span>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n                    <div className=\"thuonghieu-sidebar\">\r\n                        <h5>GIÁ</h5>\r\n                        <div className='col'>\r\n                            <div className='row'>\r\n                                Chọn khoảng giá\r\n                            </div>\r\n                            <div className='row'>\r\n                                <Input value={dataGiaOption.giaDau} style={{ width: 100 }} onChange={(e) => {\r\n                                    // setDataGiaOption({\r\n                                    //     ...dataGiaOption,\r\n                                    //     giaDau: format_curency(e.target.value)\r\n                                    // })\r\n\r\n                                    setDataGiaOption({\r\n                                        ...dataGiaOption,\r\n                                        giaDau: e.target.value\r\n                                    })\r\n                                }}></Input>\r\n                                &nbsp;_&nbsp;\r\n                                <Input value={dataGiaOption.giaCuoi} style={{ width: 100 }} onChange={(e) => {\r\n                                    // setDataGiaOption({\r\n                                    //     ...dataGiaOption,\r\n                                    //     giaCuoi: format_curency(e.target.value)\r\n                                    // })\r\n\r\n                                    setDataGiaOption({\r\n                                        ...dataGiaOption,\r\n                                        giaCuoi: e.target.value\r\n                                    })\r\n                                }}></Input>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <Button style={{ marginTop: 10, width: 100 }} onClick={() => {\r\n                                    if (dataGiaOption.giaDau === '' && dataGiaOption.giaCuoi !== '' && parseInt(dataGiaOption.giaCuoi) > 0) {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            price: '0%2C' + dataGiaOption.giaCuoi\r\n                                        }, 'push');\r\n                                    }\r\n\r\n                                    if (dataGiaOption.giaCuoi === '' && dataGiaOption.giaDau !== '' && parseInt(dataGiaOption.giaDau) > 0) {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            price: '0%2C' + dataGiaOption.giaDau\r\n                                        }, 'push');\r\n                                    }\r\n\r\n                                    if (parseInt(dataGiaOption.giaDau) > 0 && parseInt(dataGiaOption.giaCuoi) > 0) {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            price: dataGiaOption.giaDau + '%2C' + dataGiaOption.giaCuoi\r\n                                        }, 'push');\r\n                                    }\r\n                                }}>OK</Button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-sm-9\">\r\n                    <div className=\"row maincontent\">\r\n                        <div className=\"row showitems-maincontent\">\r\n                            {\r\n                                dataProduct.map((item, i) => {\r\n                                    var result \r\n                                    if (item.giaTriGiamGia === 0) {\r\n                                        return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                            <div className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, margin: 20, width: '95%' }}>\r\n                                                <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span>{setLongString(item.ten)}</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </Tooltip>\r\n\r\n                                    } else {\r\n                                        return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                            <div className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, margin: 20, width: '95%' }}>\r\n                                                <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span>{setLongString(item.ten)}</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                            item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                        }</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-giagoc\">\r\n                                                        <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </Tooltip>\r\n\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"pagination-maincontent\">\r\n                            {\r\n                                dataProduct.length !== 0 && (\r\n                                    <Pagination defaultPageSize={1} defaultCurrent={1} total={tongSoTrang} onChange={(page) => {\r\n                                        LayTatCaSanPhamTheoIDCategoryTheoTrang(categoryID, page - 1);\r\n                                    }}>\r\n                                    </Pagination>\r\n                                )\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { InforItemComponent, InforDetailItemComponent, DescriptionItemComponent, QuestAndAnswerComponent, ClientCommentComponent } from '../allJS'\r\nimport { axios } from '../../config/constant';\r\nimport { useDispatch } from 'react-redux';\r\nimport { message, Breadcrumb } from 'antd';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function SanPhamDetail(props) {\r\n    const productID = props.match.params.id;\r\n    const [phanLoaiColor, setPhanLoaiColor] = useState([]);\r\n    const [phanLoaiSize, setPhanLoaiSize] = useState([]);\r\n    const [dataCategorys, setDataCategorys] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const [cookies, setCookie] = useCookies();\r\n    const [thongTinShop, setThongTinShop] = useState({\r\n        idShop: '',\r\n        ten: ''\r\n    });\r\n    const [thongTinProduct, setThongTinProduct] = useState({\r\n        _id: '',\r\n        idShow: '',\r\n        ten: '',\r\n        img: {\r\n            chinh: '',\r\n            phu: [],\r\n            moTaChiTiet: []\r\n        },\r\n        gia: 0,\r\n        noiSanXuat: '',\r\n        moTa: [],\r\n        moTaNganGon: [],\r\n        soSao: '',\r\n        giaTriGiamGia: 0,\r\n        giaCuoiCung: 0,\r\n        soLuong: '',\r\n        thongTinBaoHanh: {\r\n            baoHanh: '',\r\n            loaiBaoHanh: '',\r\n            thoiGianBaoHanh: '',\r\n            donViBaoHanh: ''\r\n        },\r\n        idBrand: '',\r\n        idShop: '',\r\n        idCategory: '',\r\n        idEvent: ''\r\n    });\r\n\r\n    const [thongTinBrand, setThongTinBrand] = useState({\r\n        ten: '',\r\n        xuatXu: ''\r\n    });\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    async function LayDataShopTheoID(shopID) {\r\n        let res = await axios.get('hethong/users/shop-item?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setThongTinShop({\r\n                idShop: res.data.data.thongTinShop.idShop,\r\n                ten: res.data.data.thongTinShop.ten\r\n            })\r\n        } else {\r\n            message.error('Lấy data gian hàng thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoID(productID) {\r\n        let res = await axios.get('hethong/products-item?id=' + productID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setThongTinProduct({\r\n                _id: res.data.data._id,\r\n                idShow: res.data.data.idShow,\r\n                ten: res.data.data.ten,\r\n                img: {\r\n                    chinh: res.data.data.img.chinh,\r\n                    phu: res.data.data.img.phu,\r\n                    moTaChiTiet: res.data.data.img.moTaChiTiet\r\n                },\r\n                gia: res.data.data.gia,\r\n                noiSanXuat: res.data.data.noiSanXuat,\r\n                moTa: res.data.data.moTa,\r\n                moTaNganGon: res.data.data.moTaNganGon,\r\n                soSao: res.data.data.soSao,\r\n                giaTriGiamGia: res.data.data.giaTriGiamGia,\r\n                giaCuoiCung: res.data.data.giaCuoiCung,\r\n                soLuong: res.data.data.soLuong,\r\n                thongTinBaoHanh: {\r\n                    baoHanh: res.data.data.thongTinBaoHanh.baoHanh,\r\n                    loaiBaoHanh: res.data.data.thongTinBaoHanh.loaiBaoHanh,\r\n                    thoiGianBaoHanh: res.data.data.thongTinBaoHanh.thoiGianBaoHanh,\r\n                    donViBaoHanh: res.data.data.thongTinBaoHanh.donViBaoHanh\r\n                },\r\n                idShop: res.data.data.idShop,\r\n                idBrand: res.data.data.idBrand,\r\n                idCategory: res.data.data.idCategory,\r\n                idEvent: res.data.data.idEvent\r\n            })\r\n        } else {\r\n            message.error('Lấy dữ liệu data sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataBrandTheoID(brandID) {\r\n        let res = await axios.get('hethong/brands-item?id=' + brandID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setThongTinBrand({\r\n                ten: res.data.data.ten,\r\n                xuatXu: res.data.data.xuatXu\r\n            })\r\n        } else {\r\n            message.error('Lấy dữ liệu data thương hiệu thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayPhanLoaiColor(productID) {\r\n        let res = await axios.get('hethong/product-classify/color?id_product=' + productID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setPhanLoaiColor(res.data.data);\r\n        } else {\r\n            message.error('Lấy dữ liệu data phân loại color thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayPhanLoaiSize(productID) {\r\n        let res = await axios.get('hethong/product-classify/size?id_product=' + productID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setPhanLoaiSize(res.data.data);\r\n        } else {\r\n            message.error('Lấy dữ liệu data phân loại size thất bại');\r\n        }\r\n    }\r\n\r\n    async function KiemTraTokenAdmin() {\r\n        await axios.get('hethong/auth/token-admin', { headers: { 'token': cookies.token } }).then(function (res) {\r\n            if (res.data.status === \"fail\") {\r\n                dispatch({ type: 'NO_ADMIN' });\r\n            } else {\r\n                dispatch({ type: 'ADMIN' });\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    async function CapNhatNguoiXem() {\r\n        let res = await axios.put('hethong/products-capnhatnguoixem', {\r\n            id: productID,\r\n            idUser: cookies.userID\r\n        });\r\n    }\r\n\r\n    async function LayDataCategoryTheoIDSanPham(id) {\r\n        let res = await axios.get('hethong/categorys-product?id=' + id);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataCategorys(res.data.data);\r\n        } else {\r\n            message.error('Lấy dữ liệu data danh mục sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (cookies.userID !== undefined) {\r\n            CapNhatNguoiXem();\r\n        }\r\n        LayDataProductTheoID(productID);\r\n        if (cookies.token !== undefined) {\r\n            KiemTraTokenAdmin();\r\n        }\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        LayPhanLoaiColor(thongTinProduct.idShow);\r\n        LayPhanLoaiSize(thongTinProduct.idShow);\r\n    }, [thongTinProduct])\r\n\r\n    useEffect(() => {\r\n        if (thongTinProduct.idShop !== '') {\r\n            LayDataShopTheoID(thongTinProduct.idShop);\r\n        }\r\n    }, [thongTinProduct.idShop])\r\n\r\n    useEffect(() => {\r\n        if (thongTinProduct._id !== '') {\r\n            LayDataCategoryTheoIDSanPham(thongTinProduct._id);\r\n        }\r\n    }, [thongTinProduct._id])\r\n\r\n    useEffect(() => {\r\n        if (thongTinProduct.idBrand !== '') {\r\n            LayDataBrandTheoID(thongTinProduct.idBrand);\r\n        }\r\n    }, [thongTinProduct.idBrand])\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop: '50px' }}>\r\n            <Breadcrumb>\r\n                <Breadcrumb.Item>\r\n                    <a href=\"/\">Trang Chủ</a>\r\n                </Breadcrumb.Item>\r\n                {\r\n                    dataCategorys.map((item, i) => {\r\n                        return <Breadcrumb.Item key={i}>\r\n                            <a href='/' onClick={(e) => {\r\n                                e.preventDefault();\r\n                                window.location.pathname = 'category/' + item._id + '/' + to_slug(item.ten);\r\n                            }}>{item.ten}</a>\r\n                        </Breadcrumb.Item>\r\n                    })\r\n                }\r\n                <Breadcrumb.Item>\r\n                    <a href=\"/\" onClick={(e) => {\r\n                        e.preventDefault();\r\n                        window.location.pathname = 'detail/' + thongTinProduct._id + '/' + to_slug(thongTinProduct.ten);\r\n                    }}>{thongTinProduct.ten}</a>\r\n                </Breadcrumb.Item>\r\n\r\n            </Breadcrumb>\r\n            <InforItemComponent phanLoaiColor={phanLoaiColor} phanLoaiSize={phanLoaiSize} thongTinProduct={thongTinProduct}></InforItemComponent>\r\n            <InforDetailItemComponent thongTinProduct={thongTinProduct} thongTinBrand={thongTinBrand}></InforDetailItemComponent>\r\n            <DescriptionItemComponent thongTinProduct={thongTinProduct}></DescriptionItemComponent>\r\n            <QuestAndAnswerComponent thongTinProduct={thongTinProduct}></QuestAndAnswerComponent>\r\n            <ClientCommentComponent thongTinShop={thongTinShop} thongTinProduct={thongTinProduct}></ClientCommentComponent>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Image, Button } from 'react-bootstrap';\r\nimport { FaCartPlus } from 'react-icons/fa';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport { InputNumber, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function InforItemComponent(props) {\r\n    var dataProduct = props.thongTinProduct;\r\n    var dataColor = props.phanLoaiColor;\r\n    var dataSize = props.phanLoaiSize;\r\n    const [cookies, setCookie] = useCookies();\r\n    const [dataShop, setDataShop] = useState({\r\n        idShop: '',\r\n        tenShop: '',\r\n        viShop: '',\r\n        keyPaypal: '',\r\n        logoShop: ''\r\n    });\r\n    const [dataGioHangTruocDo, setDataGioHangTruocDo] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const [srcHinhLon, setSrcHinhLon] = useState('');\r\n    const [hetHang, setHetHang] = useState(false);\r\n    const [changeDivColor, setChangeDivColor] = useState(-1);\r\n    const [changeDivSize, setChangeDivSize] = useState(-1);\r\n    const [thongTinMuaSanPham, setThongTinMuaSanPham] = useState({\r\n        ten: '',\r\n        giaCuoiCung: '',\r\n        giaGoc: '',\r\n        khuyenMai: '',\r\n        mauSac: '',\r\n        size: '',\r\n        soLuong: '',\r\n        img: '',\r\n        idShop: '',\r\n        tenShop: '',\r\n        viShop: '',\r\n        keyPaypal: '',\r\n        idUser: ''\r\n    });\r\n    const statusThayDoiGioHang = useSelector(state => state.statusThayDoiGioHang);\r\n    const isAdmin = useSelector(state => state.isAdmin);\r\n\r\n    async function LayShopTheoID(shopID) {\r\n        let res = await axios.get('hethong/users/shop-item?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataShop({\r\n                idShop: res.data.data.thongTinShop.idShop,\r\n                tenShop: res.data.data.thongTinShop.ten,\r\n                viShop: res.data.data.thongTinShop.viShop,\r\n                keyPaypal: res.data.data.thongTinShop.keyPaypal,\r\n                logoShop: res.data.data.thongTinShop.logoShop\r\n            });\r\n        }\r\n    }\r\n\r\n    async function KiemTraKho(productID) {\r\n        let res = await axios.get('hethong/products-kiemtrakho?id=' + productID);\r\n        if (res.data.status === 'success') {\r\n            setHetHang(false);\r\n        } else {\r\n            setHetHang(true);\r\n        }\r\n    }\r\n\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a.toString();\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function HamGhep_Ten_MauSac_Size_SanPham(data, idUser) {\r\n        var newString = data.ten + data.mauSac + data.size + idUser;\r\n        return newString;\r\n    }\r\n\r\n    function ThemVaoGioHang(data) {\r\n        var catchTrung = false;\r\n        var indexTrung = -1;\r\n        if (dataGioHangTruocDo.length === 0) {\r\n            setDataGioHangTruocDo(\r\n                [...dataGioHangTruocDo,\r\n                    data]\r\n            )\r\n            dispatch({ type: 'THAY_DOI_GIO_HANG' });\r\n        } else {\r\n            for (let index = 0; index < dataGioHangTruocDo.length; index++) {\r\n                if (HamGhep_Ten_MauSac_Size_SanPham(data, data.idUser) === HamGhep_Ten_MauSac_Size_SanPham(dataGioHangTruocDo[index], dataGioHangTruocDo[index].idUser)) {\r\n                    catchTrung = true;\r\n                    indexTrung = index;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (catchTrung === true) {\r\n                dataGioHangTruocDo[indexTrung].soLuong += data.soLuong;\r\n                setDataGioHangTruocDo(\r\n                    [...dataGioHangTruocDo]\r\n                )\r\n                dispatch({ type: 'THAY_DOI_GIO_HANG' });\r\n            } else {\r\n                setDataGioHangTruocDo(\r\n                    [...dataGioHangTruocDo,\r\n                        data]\r\n                )\r\n                dispatch({ type: 'THAY_DOI_GIO_HANG' });\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSrcHinhLon(dataProduct.img.chinh);\r\n        setThongTinMuaSanPham({\r\n            ten: dataProduct.ten,\r\n            giaCuoiCung: dataProduct.giaCuoiCung,\r\n            giaGoc: dataProduct.gia,\r\n            khuyenMai: dataProduct.giaTriGiamGia,\r\n            mauSac: '',\r\n            size: '',\r\n            soLuong: '',\r\n            img: dataProduct.img.chinh,\r\n            idShop: dataProduct.idShop,\r\n            tenShop: '',\r\n            viShop: '',\r\n            keyPaypal: '',\r\n            idUser: cookies.userID\r\n        });\r\n        LayShopTheoID(dataProduct.idShop);\r\n\r\n    }, [dataProduct]);\r\n\r\n    useEffect(() => {\r\n        if (dataProduct.idShow !== '') {\r\n            KiemTraKho(dataProduct.idShow);\r\n        }\r\n    }, [dataProduct.idShow])\r\n\r\n    useEffect(() => {\r\n        setThongTinMuaSanPham({\r\n            ...thongTinMuaSanPham,\r\n            tenShop: dataShop.tenShop,\r\n            viShop: dataShop.viShop,\r\n            keyPaypal: dataShop.keyPaypal,\r\n        })\r\n    }, [dataShop])\r\n\r\n    useEffect(() => {\r\n        if (statusThayDoiGioHang === false) {\r\n            setDataGioHangTruocDo(JSON.parse(localStorage.getItem('dataGioHang')));\r\n        } else {\r\n            localStorage.setItem('dataGioHang', JSON.stringify(dataGioHangTruocDo));\r\n            dispatch({ type: 'KHONG_THAY_DOI_GIO_HANG' });\r\n        }\r\n    }, [statusThayDoiGioHang]);\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-sm-5\">\r\n                <ReactImageMagnify enlargedImagePosition={'over'} {...{\r\n                    smallImage: {\r\n                        alt: 'Wristwatch by Ted Baker London',\r\n                        isFluidWidth: true,\r\n                        src: srcHinhLon\r\n                    },\r\n                    largeImage: {\r\n                        src: srcHinhLon,\r\n                        width: 1200,\r\n                        height: 1800\r\n                    }\r\n                }} />\r\n                <div className=\"col\">\r\n                    <div className=\"row\" style={{ marginTop: 10 }}>\r\n                        <div className=\"border border-dark showimg_little\">\r\n                            <Image src={dataProduct.img.chinh} className=\"img_little\"\r\n                                onMouseOver={() => {\r\n                                    setSrcHinhLon(dataProduct.img.chinh);\r\n                                }}></Image>\r\n                        </div>\r\n                        {\r\n                            dataProduct.img.phu.map((src, i) => {\r\n                                return <div key={i} className=\"border border-dark showimg_little\">\r\n                                    <Image src={src} className=\"img_little\"\r\n                                        onMouseOver={() => {\r\n                                            setSrcHinhLon(src);\r\n                                        }}></Image>\r\n                                </div>\r\n                            })\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-sm-7 infor-item\">\r\n                <h3>{dataProduct.ten}</h3>\r\n                <hr></hr>\r\n                <h5 style={{ color: 'red' }}><strong>{format_curency(dataProduct.giaCuoiCung.toString())} VNĐ</strong></h5>\r\n                {\r\n                    dataProduct.giaTriGiamGia > 0 && (\r\n                        <Fragment>\r\n                            <p>Khuyến mãi: {dataProduct.giaTriGiamGia > 100 ? format_curency(dataProduct.giaTriGiamGia.toString()) + 'VNĐ' : dataProduct.giaTriGiamGia + '%'}</p>\r\n                            <p>Giá gốc: {format_curency(dataProduct.gia.toString())} VNĐ</p>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n\r\n                <hr></hr>\r\n                <div className='row'>\r\n                    <div className='col-sm-8' style={{ height: 'auto' }}>\r\n                        {\r\n                            dataProduct.moTaNganGon.map((item, i) => {\r\n                                if (item.length > 0) {\r\n                                    return <Fragment key={i}>\r\n                                        -{item}<br></br>\r\n                                    </Fragment>\r\n                                }\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className='col-sm-4' style={{ height: 'auto' }}>\r\n                        <div style={{ width: 200, height: 'auto', backgroundColor: '#EEEEEE' }}>\r\n                            <div className='col' style={{ padding: 5 }}>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-3' style={{ margin: 0 }}>\r\n                                        <img alt='ảnh logo' src={dataShop.logoShop} width='50' height='60' style={{ marginRight: 50 }}></img>\r\n                                    </div>\r\n                                    <div className='col-sm-9'>\r\n                                        <Link to={'/shop/' + dataShop.idShop + '/' + to_slug(dataShop.tenShop)}>{dataShop.tenShop}</Link><br></br>\r\n                                        <span style={{ fontSize: 10 }}>Cam kết chính hãng 100%</span><br></br>\r\n                                        <span style={{ fontSize: 10 }}>Hợp tác cùng WareHouse</span><br></br>\r\n                                        <span style={{ fontSize: 10 }}>Chứng nhận bởi WareHouse</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <Link to={'/shop/' + dataShop.idShop + '/' + to_slug(dataShop.tenShop)}>\r\n                                    <Button style={{ width: '100%', height: 30, marginTop: 10 }}>Xem shop</Button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr></hr>\r\n                {\r\n                    hetHang === true && (\r\n                        <span style={{ fontSize: 24, fontWeight: 'bold', color: 'orange' }}>Đã bán hết</span>\r\n                    )\r\n                }\r\n\r\n                {\r\n                    hetHang === false && (\r\n                        <Fragment>\r\n                            {\r\n                                dataColor.length > 0 && (\r\n                                    <div className='col'>\r\n                                        <p>Màu sắc:</p>\r\n                                        {dataColor.map((item, i) => {\r\n                                            return <label key={i}>\r\n                                                <input type='radio' name='color' className='radio-color' value={i}></input>\r\n                                                <div className='phanloai' style={{ width: 60, height: 30, backgroundColor: changeDivColor === i ? \"orange\" : \"blue\", borderRadius: 5, marginLeft: 10, textAlign: 'center', color: 'white' }} onClick={(e) => {\r\n                                                    setChangeDivColor(i);\r\n                                                    setThongTinMuaSanPham({\r\n                                                        ...thongTinMuaSanPham,\r\n                                                        mauSac: item.tenPhanLoai\r\n                                                    })\r\n                                                }}>{item.tenPhanLoai}</div>\r\n                                            </label>\r\n                                        })}\r\n                                    </div>\r\n                                )\r\n                            }\r\n\r\n                            {\r\n                                dataSize.length > 0 && (\r\n                                    <div className='col'>\r\n                                        <p>Size:</p>\r\n                                        {dataSize.map((item, i) => {\r\n                                            return <label key={i}>\r\n                                                <input type='radio' name='color' className='radio-color' value={i}></input>\r\n                                                <div className='phanloai' style={{ width: 60, height: 30, backgroundColor: changeDivSize === i ? \"orange\" : \"blue\", borderRadius: 5, color: 'white' }} onClick={(e) => {\r\n                                                    setChangeDivSize(i);\r\n                                                    setThongTinMuaSanPham({\r\n                                                        ...thongTinMuaSanPham,\r\n                                                        size: item.tenPhanLoai\r\n                                                    })\r\n                                                }}>{item.tenPhanLoai}</div>\r\n                                            </label>\r\n                                        })}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            <br></br>\r\n                            <div className='col'>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-3\">\r\n                                        <p>Số lượng:</p>\r\n                                        <InputNumber min={0} style={{ marginLeft: 10 }} defaultValue={0} onChange={(value) => {\r\n                                            setThongTinMuaSanPham({\r\n                                                ...thongTinMuaSanPham,\r\n                                                soLuong: value\r\n                                            })\r\n                                        }} />\r\n                                    </div>\r\n                                    <div className=\"col-sm-9\">\r\n                                        <Button style={{ width: 300, height: 54, marginTop: 5 }} onClick={() => {\r\n                                            var resultMau = false;\r\n                                            var resultSize = false;\r\n                                            if (cookies.token === undefined) {\r\n                                                dispatch({ type: 'SHOW_MODAL_DANGNHAP_DANGKY' });\r\n                                            } else {\r\n                                                if (isAdmin) {\r\n                                                    message.error('Admin không được thực hiện chức năng này');\r\n                                                } else {\r\n                                                    if (thongTinMuaSanPham.soLuong === '') {\r\n                                                        message.error('Vui lòng chọn số lượng')\r\n                                                    } else {\r\n                                                        if (dataColor.length > 0) {\r\n                                                            resultMau = true;\r\n                                                        }\r\n                                                        if (dataSize.length > 0) {\r\n                                                            resultSize = true;\r\n                                                        }\r\n\r\n                                                        //Sản phẩm không có cả 2 phân loại Màu Sắc và Size\r\n                                                        if (resultMau === false && resultSize === false) {\r\n                                                            ThemVaoGioHang(thongTinMuaSanPham);\r\n                                                            message.success('Đã thêm vào giỏ hàng');\r\n                                                        }\r\n\r\n                                                        //Sản phẩm có phân loại Màu Sắc mà không có phân loại Size\r\n                                                        if (resultMau === true && resultSize === false) {\r\n                                                            if (thongTinMuaSanPham.mauSac === '') {\r\n                                                                message.error('Vui lòng chọn màu sắc');\r\n                                                            } else {\r\n                                                                ThemVaoGioHang(thongTinMuaSanPham);\r\n                                                                message.success('Đã thêm vào giỏ hàng');\r\n                                                            }\r\n                                                        }\r\n\r\n                                                        //Sản phẩm có phân loại Size mà không có phân loại Màu Sắc\r\n                                                        if (resultMau === false && resultSize === true) {\r\n                                                            if (thongTinMuaSanPham.size === '') {\r\n                                                                message.error('Vui lòng chọn size');\r\n                                                            } else {\r\n                                                                ThemVaoGioHang(thongTinMuaSanPham);\r\n                                                                message.success('Đã thêm vào giỏ hàng');\r\n                                                            }\r\n                                                        }\r\n\r\n                                                        //Sản phẩm có cả 2 phân loại Màu Sắc và Size\r\n                                                        if (resultMau === true && resultSize === true) {\r\n                                                            if (thongTinMuaSanPham.mauSac === '') {\r\n                                                                message.error('Vui lòng chọn màu sắc');\r\n                                                            } else {\r\n                                                                if (thongTinMuaSanPham.size === '') {\r\n                                                                    message.error('Vui lòng chọn màu sắc');\r\n                                                                } else {\r\n                                                                    ThemVaoGioHang(thongTinMuaSanPham);\r\n                                                                    message.success('Đã thêm vào giỏ hàng');\r\n                                                                }\r\n                                                            }\r\n                                                        }\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }}>\r\n                                            <div className=\"row\" style={{ justifyContent: 'center', alignItems: 'center' }}>\r\n                                                <FaCartPlus size={30}></FaCartPlus>&nbsp;<strong>CHỌN MUA</strong>\r\n                                            </div>\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Input, message, Rate, Progress, Avatar, Select } from 'antd';\r\nimport { Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useSelector } from 'react-redux';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nexport default function ClientCommentComponent(props) {\r\n    const dataProduct = props.thongTinProduct;\r\n    const dataShop = props.thongTinShop;\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [vietNhanXet, setVietNhanXet] = useState(false);\r\n    const [countNhanXetShow, setCountNhanXetShow] = useState(10);\r\n    const isAdmin = useSelector(state => state.isAdmin);\r\n    const { TextArea } = Input;\r\n    const { Option } = Select;\r\n    const [arrPhanTram, setArrPhanTram] = useState([]);\r\n    const [dataCommentTong, setDataCommentTong] = useState([]);\r\n    const [dataCommentShow, setDataCommentShow] = useState([]);\r\n    const [dataUser, setDataUser] = useState([]);\r\n    const [nhanXetOption, setNhanXetOption] = useState(0);\r\n    const [endXemThem, setEndXemThem] = useState(false);\r\n\r\n    const [comment, setComment] = useState({\r\n        soSao: '',\r\n        tieuDe: '',\r\n        noiDung: ''\r\n    })\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function hamLamTronSao(soSao) {\r\n        var sao = parseInt(soSao);\r\n\r\n        if (soSao - sao >= 0.5) {\r\n            return sao + 0.5;\r\n        } else {\r\n            return sao;\r\n        }\r\n\r\n    }\r\n\r\n    function KiemTraDuLieu() {\r\n        if (comment.soSao === '') {\r\n            message.error('Vui lòng chọn số sao để đánh giá cho sản phẩm này');\r\n        } else {\r\n            if (comment.noiDung.length < 20) {\r\n                message.error('Nhận xét ít nhất 20 kí tự');\r\n            } else {\r\n                GuiNhanXet();\r\n            }\r\n        }\r\n    }\r\n\r\n    async function GuiNhanXet() {\r\n        let res = await axios.post('hethong/comments-them', {\r\n            soSao: comment.soSao,\r\n            tieuDe: comment.tieuDe,\r\n            noiDung: comment.noiDung,\r\n            idUser: cookies.userID,\r\n            idProduct: dataProduct.idShow\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Nhận xét của bạn đã được gửi để duyệt');\r\n            setVietNhanXet(false);\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    async function LayDataSoSao() {\r\n        let res = await axios.get('hethong/comments-product?id=' + dataProduct.idShow);\r\n\r\n        if (res.data.status === 'success') {\r\n            setArrPhanTram(res.data.arrPhanTram);\r\n            setDataCommentTong(res.data.data);\r\n        } else {\r\n            message.error('Lấy data sao thất bại!');\r\n        }\r\n    }\r\n\r\n    async function LayDataCommentTheoOption() {\r\n        let res = await axios.get('hethong/comments-nguoidung?id=' + dataProduct.idShow + '&option=' + nhanXetOption);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataCommentShow(res.data.data);\r\n            setDataUser(res.data.dataUser);\r\n        } else {\r\n            message.error('Lấy data nhận xét thất bại!');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (dataProduct.idShow !== '') {\r\n            LayDataSoSao();\r\n            LayDataCommentTheoOption();\r\n        }\r\n    }, [dataProduct.idShow])\r\n\r\n    useEffect(() => {\r\n        LayDataCommentTheoOption();\r\n        setCountNhanXetShow(10);\r\n    }, [nhanXetOption])\r\n\r\n    useEffect(() => {\r\n        if (dataCommentShow.length === 0) {\r\n            setEndXemThem(true);\r\n        } else {\r\n            if (countNhanXetShow >= dataCommentShow.length) {\r\n                setEndXemThem(true);\r\n            } else {\r\n                setEndXemThem(false);\r\n            }\r\n        }\r\n\r\n    }, [dataCommentShow, countNhanXetShow])\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginTop: 40 }}>\r\n            <div className=\"col\">\r\n                <h5>KHÁCH HÀNG NHẬN XÉT</h5>\r\n                <div className=\"col-sm-9\">\r\n                    <div className='container' style={{ padding: 20 }}>\r\n                        <div className='row'>\r\n                            <div className='col-sm-4'>\r\n                                <center>\r\n                                    <h5>Đánh giá trung bình</h5>\r\n                                    <span style={{ fontSize: 30, fontWeight: 'bold', color: 'red' }}>{dataProduct.soSao}/5</span><br></br>\r\n                                    <Rate disabled allowHalf value={hamLamTronSao(dataProduct.soSao)}></Rate><br></br>\r\n                                    <span style={{ color: 'gray' }}>({dataCommentTong.length} nhận xét)</span>\r\n                                </center>\r\n                            </div>\r\n\r\n                            <div className='col-sm-5'>\r\n                                <div className='row'>5 <i className=\"fas fa-star\" style={{ marginTop: 3 }}></i>&nbsp;&nbsp;<Progress percent={arrPhanTram[0]} style={{ width: '88%' }} /></div>\r\n                                <div className='row'>4 <i className=\"fas fa-star\" style={{ marginTop: 3 }}></i>&nbsp;&nbsp;<Progress percent={arrPhanTram[1]} style={{ width: '88%' }} /></div>\r\n                                <div className='row'>3 <i className=\"fas fa-star\" style={{ marginTop: 3 }}></i>&nbsp;&nbsp;<Progress percent={arrPhanTram[2]} style={{ width: '88%' }} /></div>\r\n                                <div className='row'>2 <i className=\"fas fa-star\" style={{ marginTop: 3 }}></i>&nbsp;&nbsp;<Progress percent={arrPhanTram[3]} style={{ width: '88%' }} /></div>\r\n                                <div className='row'>1 <i className=\"fas fa-star\" style={{ marginTop: 3 }}></i>&nbsp;&nbsp;<Progress percent={arrPhanTram[4]} style={{ width: '88%' }} /></div>\r\n                            </div>\r\n\r\n                            <div className='col-sm-3'>\r\n                                <div style={{ marginLeft: 10 }}>\r\n                                    <center>\r\n                                        <br></br>\r\n                                        Nhận xét về sản phẩm<br></br>\r\n                                        <Button variant='warning' style={{ width: '100%' }} onClick={() => {\r\n                                            if (cookies.token === undefined) {\r\n                                                message.error('Vui lòng đăng nhập để gửi câu hỏi');\r\n                                            } else {\r\n                                                if (isAdmin) {\r\n                                                    message.error('Admin không được thực hiện chức năng này');\r\n                                                } else {\r\n                                                    if (vietNhanXet) {\r\n                                                        setVietNhanXet(false);\r\n                                                    } else {\r\n                                                        setVietNhanXet(true);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }}>{vietNhanXet ? 'Đóng' : 'Viết nhận xét'}</Button>\r\n                                    </center>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n\r\n                    {\r\n                        vietNhanXet === true && (\r\n                            <Fragment>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-6'>\r\n                                        <h5>GỬI NHẬN XÉT CỦA BẠN</h5>\r\n                                        1. Đánh giá của bạn về sản phẩm này: <Rate onChange={(value) => {\r\n                                            setComment({\r\n                                                ...comment,\r\n                                                soSao: value\r\n                                            })\r\n                                        }}></Rate>\r\n\r\n                                        <p style={{ marginTop: 10 }}>2. Tiêu đề của nhận xét:</p>\r\n                                        <Input placeholder='Nhập tiêu đề nhận xét (Không bắt buộc)' onChange={(e) => {\r\n                                            setComment({\r\n                                                ...comment,\r\n                                                tieuDe: e.target.value\r\n                                            })\r\n                                        }}></Input>\r\n\r\n                                        <p style={{ marginTop: 15 }}>3. Viết nhận xét của bạn vào bên dưới:</p>\r\n                                        <TextArea placeholder='Nhận xét xủa bạn về sản phẩm này' autoSize={{ minRows: 3, maxRows: 5 }} onChange={(e) => {\r\n                                            setComment({\r\n                                                ...comment,\r\n                                                noiDung: e.target.value\r\n                                            })\r\n                                        }}></TextArea>\r\n\r\n                                        <Button variant='warning' style={{ width: '100%', marginTop: 15 }} onClick={() => {\r\n                                            KiemTraDuLieu();\r\n                                        }}>Gửi nhận xét</Button>\r\n                                    </div>\r\n\r\n                                    <div className='col-sm-6'>\r\n                                        <div className='row'>\r\n                                            <div className='col-sm-4'>\r\n                                                <img alt='ảnh' src={dataProduct.img.chinh} width={120} height={200}></img>\r\n                                            </div>\r\n                                            <div className='col-sm-8' style={{ marginTop: 20 }}>\r\n                                                <h5 style={{ marginLeft: 10 }}>{dataProduct.ten}</h5>\r\n                                                <p style={{ marginLeft: 10, lineHeight: 1.4 }}>{format_curency(dataProduct.giaCuoiCung.toString())} đ</p>\r\n                                                <p style={{ marginLeft: 10, lineHeight: 1.4 }}>Cung cấp bởi: <Link to={'/shop/' + dataShop.idShop + '/' + to_slug(dataShop.ten)}>{dataShop.ten}</Link></p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <hr></hr>\r\n                            </Fragment>\r\n                        )\r\n                    }\r\n\r\n                    {/* {\r\n                        dataComment.map((item,i)=>{\r\n                            return \r\n                        })\r\n                    } */}\r\n\r\n                    <div className='row'>\r\n                        <div className='col-sm-3'>\r\n                            <span style={{ fontSize: 16 }}>Chọn xem nhận xét</span>\r\n                        </div>\r\n\r\n                        <div className='col-sm-9'>\r\n                            <div>\r\n                                <Select style={{ width: 200 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                    setNhanXetOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả sao</Option>\r\n                                    <Option value={1}>5 sao</Option>\r\n                                    <Option value={2}>4 sao</Option>\r\n                                    <Option value={3}>3 sao</Option>\r\n                                    <Option value={4}>2 sao</Option>\r\n                                    <Option value={5}>1 sao</Option>\r\n                                </Select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {\r\n                        dataCommentShow.map((item, i) => {\r\n                            if (i < countNhanXetShow) {\r\n                                return <div key={i} className='row' style={{ marginTop: 40 }}>\r\n                                    <div className='col-sm-3'>\r\n                                        <center>\r\n                                            <Avatar size={64} icon={<UserOutlined />} /><br></br>\r\n                                            <span><b>{dataUser[i]}</b></span> <br></br>\r\n                                            Ngày nhận xét: {hamChuyenDoiNgay(new Date(item.ngayTao))}\r\n                                        </center>\r\n                                    </div>\r\n                                    <div className='col-sm-9'>\r\n                                        <span style={{ fontSize: 16 }}><Rate disabled value={item.soSao}></Rate>&nbsp;&nbsp; <b>{item.tieuDe}</b></span><br></br>\r\n                                        {item.noiDung}\r\n                                        {\r\n                                            item.traLoi !== '' && (\r\n                                                <Fragment>\r\n                                                    <br></br>\r\n                                                    <br></br>\r\n                                                    <div className='row'>\r\n                                                        <div className='col-sm-1'>\r\n                                                            <Avatar size='large' style={{ backgroundColor: '#0099FF' }}>TĐ</Avatar>\r\n                                                        </div>\r\n\r\n                                                        <div className='col-sm-11'>\r\n                                                            <span><b>WareHouse</b></span><br></br>\r\n                                                            {item.traLoi}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Fragment>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    {\r\n                        endXemThem === false && (\r\n                            <div className='row' style={{ marginTop: 20 }}>\r\n                                <div className='col-sm-3'>\r\n\r\n                                </div>\r\n                                <div className='col-sm-9'>\r\n                                    <Link to='/' onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        setCountNhanXetShow(prev => prev + 10);\r\n                                    }}>Xem thêm</Link>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Input, message } from 'antd';\r\nimport { Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function QuestAndAnswerComponent(props) {\r\n    const dataProduct = props.thongTinProduct;\r\n    const [cauHoi, setCauHoi] = useState('');\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [dataCauHoi, setDataCauHoi] = useState([]);\r\n    const [dataThich, setDataThich] = useState([]);\r\n    const [thichOk, setThichOk] = useState(false);\r\n    const [countCauHoiShow, setCountCauHoiShow] = useState(4);\r\n    const isAdmin = useSelector(state => state.isAdmin);\r\n    const [endXemThem, setEndXemThem] = useState(false);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function GuiCauHoi() {\r\n        let res = await axios.post('hethong/questanswer-them', {\r\n            id: dataProduct.idShow,\r\n            question: cauHoi\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã gửi câu hỏi. Chờ duyệt nhé');\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    async function LayCauHoiTheoIDSanPham() {\r\n        let res = await axios.get('hethong/questanswer-nguoidung?id=' + dataProduct.idShow + '&idUser=' + cookies.userID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataCauHoi(res.data.data);\r\n            setDataThich(res.data.dataThich);\r\n        } else {\r\n            message.error('Lấy data câu hỏi thất bại');\r\n        }\r\n    }\r\n\r\n    async function CapNhatThichCauHoi(cauHoiID) {\r\n        let res = await axios.put('hethong/questanswer-capnhatthich', {\r\n            idCauHoi: cauHoiID,\r\n            idUser: cookies.userID\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            setThichOk(true);\r\n            message.success('Cám ơn bạn đã đóng góp ý kiến');\r\n        } else {\r\n            setThichOk(false);\r\n            message.error('Thích câu hỏi thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayCauHoiTheoIDSanPham();\r\n    }, [dataProduct])\r\n\r\n    useEffect(() => {\r\n        if (thichOk === true) {\r\n            LayCauHoiTheoIDSanPham();\r\n            setThichOk(false);\r\n        }\r\n    }, [thichOk])\r\n\r\n    useEffect(() => {\r\n        if (dataCauHoi.length === 0) {\r\n            setEndXemThem(true);\r\n        } else {\r\n            if (countCauHoiShow >= dataCauHoi.length) {\r\n                setEndXemThem(true);\r\n            } else {\r\n                setEndXemThem(false);\r\n            }\r\n        }\r\n    }, [dataCauHoi, countCauHoiShow])\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginTop: 40 }}>\r\n            <div className=\"col\">\r\n                <h5>HỎI, ĐÁP VỀ SẢN PHẨM</h5>\r\n                <div className=\"col-sm-9\">\r\n                    {\r\n                        dataCauHoi.map((item, i) => {\r\n                            if (i < countCauHoiShow) {\r\n                                return <div key={i} className='row' style={{ backgroundColor: 'lightgrey', marginTop: 10, borderRadius: 5, padding: 5 }}>\r\n                                    <div className='col-sm-2'>\r\n                                        <center>\r\n                                            <span style={{ fontSize: 24, fontWeight: 'bold' }}>{item.luotThich}</span><br></br>\r\n                                            <span>thích</span>\r\n                                        </center>\r\n                                    </div>\r\n\r\n                                    <div className='col-sm-10'>\r\n                                        <p style={{ lineHeight: 1.5, fontSize: 16 }}><strong>{item.question}</strong></p>\r\n                                        <p style={{ lineHeight: 1.5, fontSize: 16 }}>{item.answer}</p>\r\n                                        <small>Đã trả lời vào {hamChuyenDoiNgay(new Date(item.ngayTraLoi))}</small>\r\n                                        <div>\r\n                                            <Link to='/' onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                if (cookies.token === undefined) {\r\n                                                    message.error('Vui lòng đăng nhập để thích câu hỏi');\r\n                                                } else {\r\n                                                    if (dataThich[i] === 1) {\r\n                                                        message.warning('Bạn đã thích câu trả lời này');\r\n                                                    } else {\r\n                                                        CapNhatThichCauHoi(item._id);\r\n                                                    }\r\n                                                }\r\n                                            }}>\r\n                                                <i className=\"far fa-thumbs-up\"></i>\r\n                                                {\r\n                                                    dataThich[i] === 0 ? 'Thích' : 'Đã thích'\r\n                                                }\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    {\r\n                        endXemThem === false && (\r\n                            <div className='row' style={{ paddingLeft: 15, backgroundColor: 'white' }}>\r\n                                <hr style={{ width: '100%' }}></hr>\r\n                                <Link to='/' onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    setCountCauHoiShow(prev => prev + 4);\r\n                                }}>Xem thêm</Link>\r\n                                <hr style={{ width: '100%' }}></hr>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    <div className='row' style={{ backgroundColor: 'white', marginTop: 10 }}>\r\n                        <div className='col-sm-9'>\r\n                            <Input placeholder='Hãy đặt câu hỏi liên quan đến sản phẩm...' style={{ width: '100%', height: 38 }}\r\n                                onChange={(e) => {\r\n                                    setCauHoi(e.target.value);\r\n                                }}></Input>\r\n                        </div>\r\n                        <div className='col-sm-3'>\r\n                            <Button variant='warning' style={{ width: '100%' }} onClick={() => {\r\n                                if (cookies.token === undefined) {\r\n                                    message.error('Vui lòng đăng nhập để gửi câu hỏi');\r\n                                } else {\r\n                                    if (isAdmin) {\r\n                                        message.error('Admin không được thực hiện chức năng này');\r\n                                    } else {\r\n                                        if (cauHoi.length > 0) {\r\n                                            GuiCauHoi()\r\n                                        } else {\r\n                                            message.warning('Vui lòng nhập câu hỏi');\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }}>Gửi câu hỏi</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default function InforDetailItemComponent(props) {\r\n    var dataProduct = props.thongTinProduct;\r\n    var dataBrand = props.thongTinBrand;\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\" style={{ marginTop: 40, height: 'auto' }}>\r\n                <div className=\"col\">\r\n                    <h5>THÔNG TIN CHI TIẾT</h5>\r\n                    <div className=\"col-sm-9 infor-detail-item\">\r\n                        <Table className=\"table-infor-detail-item\" bordered>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td className=\"title\">Thương hiệu</td>\r\n                                    <td>{dataBrand.ten}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"title\">Xuất xứ</td>\r\n                                    <td>{dataBrand.xuatXu}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"title\">Nơi sản xuất</td>\r\n                                    <td>{dataProduct.noiSanXuat}</td>\r\n                                </tr>\r\n                                {\r\n                                    dataProduct.thongTinBaoHanh.baoHanh === false && (\r\n                                        <tr>\r\n                                            <td className=\"title\">Bảo hành</td>\r\n                                            <td>Không</td>\r\n                                        </tr>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    dataProduct.thongTinBaoHanh.baoHanh === true && (\r\n                                        <Fragment>\r\n                                            <tr>\r\n                                                <td className=\"title\">Bảo hành</td>\r\n                                                <td>Có</td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td className=\"title\">Loại bảo hành</td>\r\n                                                <td>{dataProduct.thongTinBaoHanh.loaiBaoHanh === 0 ? 'Bảo hành chính hãng' : 'Bảo hành từ shop'}</td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td className=\"title\">Thời gian bảo hành</td>\r\n                                                <td>{dataProduct.thongTinBaoHanh.thoiGianBaoHanh} {dataProduct.thongTinBaoHanh.donViBaoHanh === 0 ? 'tháng' : 'năm'}</td>\r\n                                            </tr>\r\n                                        </Fragment>\r\n                                    )\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nexport default function DescriptionItemComponent(props) {\r\n    var dataProduct = props.thongTinProduct;\r\n    return (\r\n        <div className=\"row\" style={{ marginTop: 40 }}>\r\n            <div className=\"col\">\r\n                <h5>MÔ TẢ SẢN PHẨM</h5>\r\n                <div className=\"col-sm-9 baiviet\">\r\n                    <div dangerouslySetInnerHTML={{ __html: dataProduct.moTa }}></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function DangKyComponent() {\r\n    const dataNgay = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];\r\n    const dataThang = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\r\n    const dataNam = [];\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [cookies, setCookies] = useCookies();\r\n    const dispatch = useDispatch()\r\n    let maxOffset = 120;\r\n    let thisYear = (new Date()).getFullYear();\r\n    for (let x = 0; x <= maxOffset; x++) {\r\n        dataNam.push(thisYear - x)\r\n    }\r\n    const [dataNgaySinh, setDataNgaySinh] = useState({\r\n        ngay: 0,\r\n        thang: -1,\r\n        nam: 0\r\n    })\r\n    const [dataDangKy, setDataDangKy] = useState({\r\n        ten: '',\r\n        email: '',\r\n        sdt: '',\r\n        cmnd: '',\r\n        ngaySinh: '',\r\n        gioiTinh: '',\r\n        matKhau: '',\r\n        vaiTro: 2\r\n    })\r\n\r\n\r\n    function KiemTraDuLieuNhap(data) {\r\n        const regEmail = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        const regSDT = /^(0|\\+84)(\\s|\\.)?((3[2-9])|(5[689])|(7[06-9])|(8[1-689])|(9[0-46-9]))(\\d)(\\s|\\.)?(\\d{3})(\\s|\\.)?(\\d{3})$/;\r\n        if (data.ten === '' || data.email === '' || data.sdt === '' || data.cmnd === '' || data.gioiTinh === '' || data.matKhau === '') {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            if (!regEmail.test(data.email)) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                if (!regSDT.test(data.sdt)) {\r\n                    setStatusMessageError(2);\r\n                } else {\r\n                    setStatusMessageError(-1);\r\n                    KhoiTaoTaiKhoan();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async function KhoiTaoTaiKhoan() {\r\n        let res = await axios.post('hethong/auth/register', {\r\n            ten: dataDangKy.ten,\r\n            email: dataDangKy.email,\r\n            sdt: dataDangKy.sdt,\r\n            cmnd: dataDangKy.cmnd,\r\n            ngaySinh: dataDangKy.ngaySinh,\r\n            gioiTinh: dataDangKy.gioiTinh,\r\n            taiKhoan: {\r\n                tenTaiKhoan: dataDangKy.email,\r\n                matKhau: dataDangKy.matKhau\r\n            },\r\n            vaiTro: 2,\r\n            isLock: false,\r\n            isDelete: false\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(res.data.message);\r\n            dispatch({ type: 'CLOSE_MODAL_DANGNHAP_DANGKY' });\r\n        } else {\r\n            dispatch({ type: 'CLOSE_MODAL_DANGNHAP_DANGKY' });\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatusMessageError(-1);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-4\" style={{ height: 'auto', padding: 40 }}>\r\n                    <h3>Đăng Ký</h3>\r\n                    <span style={{ color: 'grey' }}>Tạo tài khoản để theo dõi đơn hàng, lưu\r\n                                    danh sách sản phẩm yêu thích, nhận nhiều ưu đãi hấp dẫn.</span>\r\n                </div>\r\n                <div className=\"col-sm-8\" style={{ height: 'auto', padding: 40, borderLeft: 1 }}>\r\n                    <Form>\r\n                        <Form.Group as={Row} controlId=\"formBasicHoTen\">\r\n                            <Form.Label column sm={3}>Họ tên</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"text\" placeholder=\"Nhập họ tên\" onChange={(e) => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        ten: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicSdt\">\r\n                            <Form.Label column sm={3}>SĐT</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"text\" placeholder=\"Nhập số điện thoại\" onChange={(e) => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        sdt: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicEmail\">\r\n                            <Form.Label column sm={3}>Email</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"email\" placeholder=\"Nhập email\" onChange={(e) => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        email: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicCMND\">\r\n                            <Form.Label column sm={3}>Chứng minh thư</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"text\" placeholder=\"Nhập chứng minh nhân dân\" onChange={(e) => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        cmnd: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicPass\">\r\n                            <Form.Label column sm={3}>Mật khẩu</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"password\" placeholder=\"Nhập mật khẩu\" onChange={(e) => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        matKhau: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm={3}>Giới tính</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Row>\r\n                                    <Form.Check type=\"radio\" label=\"Nữ\" name=\"radioGioiTinh\" id=\"formHorizontalRadios2\" style={{ marginLeft: 100 }} onClick={() => {\r\n                                        setDataDangKy({\r\n                                            ...dataDangKy,\r\n                                            gioiTinh: 0\r\n                                        })\r\n                                    }} />\r\n                                    <Form.Check type=\"radio\" label=\"Nam\" name=\"radioGioiTinh\" id=\"formHorizontalRadios1\" style={{ marginLeft: 15 }} onClick={() => {\r\n                                        setDataDangKy({\r\n                                            ...dataDangKy,\r\n                                            gioiTinh: 1\r\n                                        })\r\n                                    }} />\r\n                                </Row>\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicPass\">\r\n                            <Form.Label column sm={3}>Ngày sinh</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Row>\r\n                                    <Col sm={4}>\r\n                                        <Form.Control as=\"select\" value={dataNgaySinh.ngay} onChange={(e) => {\r\n                                            setDataNgaySinh({\r\n                                                ...dataNgaySinh,\r\n                                                ngay: e.target.value\r\n                                            })\r\n                                        }}>\r\n                                            <option value={0}>Ngày</option>\r\n                                            {\r\n                                                dataNgay.map((item, i) => {\r\n                                                    return <option key={i} value={item}>{item}</option>\r\n                                                })\r\n                                            }\r\n                                        </Form.Control>\r\n                                    </Col>\r\n                                    <Col sm={4}>\r\n                                        <Form.Control as=\"select\" value={dataNgaySinh.thang} onChange={(e) => {\r\n                                            setDataNgaySinh({\r\n                                                ...dataNgaySinh,\r\n                                                thang: e.target.value\r\n                                            })\r\n                                        }}>\r\n                                            <option value={-1}>Tháng</option>\r\n                                            {\r\n                                                dataThang.map((item, i) => {\r\n                                                    return <option key={i} value={item}>{(item + 1).toString()}</option>\r\n                                                })\r\n                                            }\r\n                                        </Form.Control>\r\n                                    </Col>\r\n                                    <Col sm={4}>\r\n                                        <Form.Control as=\"select\" value={dataNgaySinh.nam} onChange={(e) => {\r\n                                            setDataNgaySinh({\r\n                                                ...dataNgaySinh,\r\n                                                nam: e.target.value\r\n                                            })\r\n                                        }}>\r\n                                            <option value={0}>Năm</option>\r\n                                            {\r\n                                                dataNam.map((item, i) => {\r\n                                                    return <option key={i} value={item}>{item}</option>\r\n                                                })\r\n                                            }\r\n                                        </Form.Control>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm={3}></Form.Label>\r\n                            <Col sm={9}>\r\n                                {\r\n                                    statusMessageError === 0 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin đăng ký tài khoản không hợp lệ. Vui lòng kiểm tra lại thông tin</p>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    statusMessageError === 1 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Dữ liệu email không hợp lệ</p>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    statusMessageError === 2 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Dữ liệu số điện thoại không hợp lệ</p>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    statusMessageError === 3 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Email này đã tồn tại. Vui lòng chọn email khác</p>\r\n                                    )\r\n                                }\r\n\r\n                                <Button variant=\"danger\" block onMouseOver={() => {\r\n                                    setDataDangKy({\r\n                                        ...dataDangKy,\r\n                                        ngaySinh: new Date(dataNgaySinh.nam, dataNgaySinh.thang, dataNgaySinh.ngay)\r\n                                    })\r\n                                }}\r\n                                    onClick={() => {\r\n                                        KiemTraDuLieuNhap(dataDangKy);\r\n                                    }}>\r\n                                    Đăng Ký\r\n                                </Button>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Button, Row, Col, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useCookies } from 'react-cookie';\r\nimport { message, Checkbox } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function DangNhapComponent() {\r\n    const [taiKhoan, setTaiKhoan] = useState({\r\n        tenTaikhoan: \"\",\r\n        matKhau: \"\"\r\n    });\r\n\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n\r\n    const [cookies, setCookies] = useCookies();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        var regEmail = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        if (taiKhoan.tenTaikhoan === '' || taiKhoan.matKhau === '') {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            if (!regEmail.test(taiKhoan.tenTaikhoan)) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                XuLyDangNhap();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    async function XuLyDangNhap() {\r\n        setLoading(true);\r\n        await axios.post('hethong/auth', {\r\n            tenTaiKhoan: taiKhoan.tenTaikhoan,\r\n            matKhau: taiKhoan.matKhau\r\n        }).then(function (res) {\r\n            if (res.data.status === \"success\") {\r\n                setLoading(false);\r\n                localStorage.setItem('email', res.data.email);\r\n                setCookies('userID', res.data.userID, { path: '/' });\r\n                setCookies('token', res.data.token, { path: '/' });\r\n                if (res.data.vaiTro === 0) {\r\n                    window.location.pathname = \"/admin\";\r\n                } else {\r\n                    window.location.reload();\r\n                }\r\n            } else {\r\n                setLoading(false);\r\n                message.error(res.data.message);\r\n                dispatch({ type: 'CLOSE_MODAL_DANGNHAP_DANGKY' });\r\n            }\r\n        }).catch(function (error) {\r\n            console.log(error);\r\n        })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatusMessageError(-1);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-4\" style={{ height: 'auto', padding: 40 }}>\r\n                    <h3>Đăng Nhập</h3>\r\n                    <span style={{ color: 'grey' }}>Đăng nhập để theo dõi đơn hàng, lưu\r\n                                    danh sách sản phẩm yêu thích, nhận nhiều ưu đãi hấp dẫn.</span>\r\n                </div>\r\n                <div className=\"col-sm-8\" style={{ height: 'auto', padding: 40 }}>\r\n                    <Form style={{ fontSize: 14, padding: 0, margin: 0 }}>\r\n                        <Form.Group as={Row} controlId=\"formBasicEmail\">\r\n                            <Form.Label column sm={3}>Email</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"text\" placeholder=\"Nhập email\" onChange={(e) => {\r\n                                    setTaiKhoan({\r\n                                        ...taiKhoan,\r\n                                        tenTaikhoan: e.target.value\r\n                                    });\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                            <Form.Label column sm={3}>Mật khẩu</Form.Label>\r\n                            <Col sm={9}>\r\n                                <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => {\r\n                                    setTaiKhoan({\r\n                                        ...taiKhoan,\r\n                                        matKhau: e.target.value\r\n                                    });\r\n                                }} />\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row} controlId=\"formBasicCheckbox\">\r\n                            <Form.Label column sm={3}></Form.Label>\r\n                            <Col sm={9}>\r\n                                <Link to='users/password/forget' onClick={() => {\r\n                                    dispatch({ type: 'CLOSE_MODAL_DANGNHAP_DANGKY' });\r\n                                }}>Quên mật khẩu</Link>\r\n                            </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                            <Form.Label column sm={3}></Form.Label>\r\n                            <Col sm={9}>\r\n                                {\r\n                                    statusMessageError === 0 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin đăng nhập không hợp lệ. Vui lòng kiểm tra lại thông tin</p>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    statusMessageError === 1 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Dữ liệu email không hợp lệ</p>\r\n                                    )\r\n                                }\r\n                                <Button variant=\"danger\" block onClick={(e) => {\r\n                                    KiemTraDuLieuNhap();\r\n                                }}>\r\n                                    {loading === false ? \"Đăng Nhập\" : (<Spinner animation=\"border\" role=\"status\">\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </Spinner>)}\r\n                                </Button>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { NavDropdown } from 'react-bootstrap';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { message } from 'antd';\r\n\r\nexport default function UserComponent() {\r\n    const [cookies, setCookies, removeCookie] = useCookies();\r\n    const isAdminReducer = useSelector(state => state.isAdmin);\r\n    const [dataEmail, setDataEmail] = useState('');\r\n    var history = useHistory();\r\n\r\n    async function LayDataUserTheoID(userID) {\r\n        let res = await axios.get('hethong/users-item?idUser=' + userID);\r\n        if (res.data.status === 'success') {\r\n            setDataEmail(res.data.data.email);\r\n        } else {\r\n            message.error('Lấy data user thất bại');\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        LayDataUserTheoID(cookies.userID);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <NavDropdown title={dataEmail.length > 0 ? dataEmail : ''} id=\"basic-nav-dropdown\">\r\n                {\r\n                    isAdminReducer && (\r\n                        <NavDropdown.Item onClick={() => {\r\n                            history.push('/admin');\r\n                        }}>Trang quản lý</NavDropdown.Item>\r\n                    )\r\n                }\r\n                <NavDropdown.Item onClick={() => {\r\n                    history.push('/customer/account');\r\n                }}>Tài khoản của tôi</NavDropdown.Item>\r\n                {\r\n                    !isAdminReducer && (\r\n                        <Fragment>\r\n                            <NavDropdown.Item onClick={() => {\r\n                                history.push('/customer/order');\r\n                            }}>Đơn hàng của tôi</NavDropdown.Item>\r\n                            <NavDropdown.Item onClick={() => {\r\n                                history.push('/customer/payment');\r\n                            }}>Thông tin thanh toán</NavDropdown.Item>\r\n                            <NavDropdown.Item onClick={() => {\r\n                                history.push('/customer/comment');\r\n                            }}>Nhận xét của tôi</NavDropdown.Item>\r\n                            <NavDropdown.Item onClick={() => {\r\n                                history.push('/customer/san-pham-da-xem');\r\n                            }}>Sản phẩm đã xem</NavDropdown.Item>\r\n                        </Fragment>\r\n                    )\r\n                }\r\n                <NavDropdown.Item onClick={() => {\r\n                    removeCookie('token');\r\n                    removeCookie('userID');\r\n                    localStorage.setItem('email', 'undefined');\r\n                    window.location.pathname = '/';\r\n                }}>Đăng xuất</NavDropdown.Item>\r\n            </NavDropdown>\r\n        </Fragment>\r\n    )\r\n}\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/storage';\r\nimport 'firebase/analytics';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAdHRD1CizYsWb9RWG3kk-DYPf0RPvzDrg\",\r\n  authDomain: \"shoponline-fd329.firebaseapp.com\",\r\n  projectId: \"shoponline-fd329\",\r\n  storageBucket: \"shoponline-fd329.appspot.com\",\r\n  messagingSenderId: \"101598190960\",\r\n  appId: \"1:101598190960:web:50560415eab000d8e443b5\",\r\n  measurementId: \"G-BP816K62PC\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n//analytics is optional for this tutoral \r\nfirebase.analytics();\r\n\r\nconst storage = firebase.storage()\r\n\r\nexport {\r\n  storage, firebase as default\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Image, Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Button, Select, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\nimport { QuillEditor } from '../allJS';\r\n\r\nexport default function ModalThemBaiViet() {\r\n    const { Option } = Select;\r\n    const [files, setFiles] = useState([])\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const showModalThemBaiViet = useSelector(state => state.showModalThemBaiViet);\r\n    const [spinnerThemBaiViet, setSpinnerThemBaiViet] = useState(-1);\r\n    const dispatch = useDispatch();\r\n    const [dataThem, setDataThem] = useState({\r\n        tieuDe: \"\",\r\n        img: \"\",\r\n        ngayTao: new Date(),\r\n        loaiBaiViet: -1,\r\n        idProducts: [],\r\n        content: '',\r\n        luotXem: 0,\r\n        isLock: false,\r\n        isDelete: false\r\n    })\r\n\r\n    const onEditorChange = (value) => {\r\n        setDataThem({\r\n            ...dataThem,\r\n            content: value\r\n        })\r\n    }\r\n\r\n    const onFilesChange = (files) => {\r\n        setFiles(files)\r\n    }\r\n    console.log(dataThem);\r\n\r\n    const handleChange = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    img: fireBaseUrl\r\n                                })\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    function KiemTraDuLieuNhap(data) {\r\n        if (data.tieuDe.trim().length === 0 || data.img === '' || data.loaiBaiViet === -1 || data.content.trim().length === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            ThemBaiViet()\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    async function ThemBaiViet() {\r\n        setSpinnerThemBaiViet(1);\r\n        setDataThem({\r\n            ...dataThem,\r\n            content: ''\r\n        });\r\n\r\n        let res = await axios.post('hethong/baiviet-them', {\r\n            data: dataThem\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã tạo bài viết mới thành công');\r\n            dispatch({ type: 'CLOSE_THEM_BAIVIET' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            setSpinnerThemBaiViet(0);\r\n        } else {\r\n            message.error(res.data.message);\r\n            dispatch({ type: 'CLOSE_THEM_BAIVIET' });\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            setSpinnerThemBaiViet(0);\r\n        }\r\n    }\r\n\r\n    async function LayDataSanPham() {\r\n        let res = await axios.get('hethong/products');\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n        } else {\r\n            message.error('Lấy data sản phẩm thất bại !');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                message.success('Vui lòng chọn ảnh đại diện cho bài viết')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    message.error('Upload ảnh đại diện bài viết thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n\r\n    console.log(dataThem);\r\n    console.log(dataProduct);\r\n\r\n    return (\r\n        <Modal show={showModalThemBaiViet} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_THEM_BAIVIET' });\r\n        }}\r\n            onShow={() => {\r\n                LayDataSanPham();\r\n                setImageAsFile([]);\r\n                setFirstTime(true);\r\n                setStatusMessageError(-1);\r\n                setCountAnhDaUploadThanhCong(0);\r\n                setDataThem({\r\n                    tieuDe: \"\",\r\n                    img: \"\",\r\n                    ngayTao: new Date(),\r\n                    loaiBaiViet: -1,\r\n                    idProducts: [],\r\n                    content: '',\r\n                    luotXem: 0,\r\n                    isLock: false,\r\n                    isDelete: false\r\n                })\r\n            }}>\r\n            <Form\r\n                name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n                <Form.Item\r\n                    label=\"Tiêu Đề\"\r\n                    name=\"tieude\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên tiêu đề bài viết ' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            tieuDe: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Ảnh đại diện\"\r\n                    name=\"username\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn ảnh' }]}>\r\n                    <input type='file'\r\n                        onChange={(e) => {\r\n                            handleChange(e);\r\n                            setCountAnhDaUploadThanhCong(0);\r\n                            setFirstTime(false);\r\n                        }}>\r\n                    </input>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        dataThem.img === '' ? <Image alt=\"ảnh show\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" style={{ width: 300, height: 200 }}></Image> : <Image alt=\"ảnh show\" src={dataThem.img} style={{ width: 300, height: 200 }}></Image>\r\n                    }\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Loại bài viết\"\r\n                    name=\"loaibaiviet\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn loại bài viết' }]}>\r\n                    <Select value={dataThem.loaiBaiViet} onChange={(value) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            loaiBaiViet: value\r\n                        })\r\n                    }}>\r\n                        <Option value={-1}>Chọn loại bài viết</Option>\r\n                        <Option value={0}>Bài viết về chương trình/sự kiện</Option>\r\n                        <Option value={1}>Bài viết giới thiệu</Option>\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n                {\r\n                    dataThem.loaiBaiViet === 0 && (\r\n                        <Form.Item\r\n                            label=\"Các sản phẩm liên quan đến chương trình/sự kiện\"\r\n                            name=\"sanphams\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn các sản phẩm' }]}>\r\n                            <Select\r\n                                showSearch\r\n                                optionFilterProp=\"children\"\r\n                                filterOption={(input, option) =>\r\n                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                }\r\n                                mode=\"multiple\"\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn sản phẩm\"\r\n                                onChange={(value) => {\r\n                                    setDataThem({\r\n                                        ...dataThem,\r\n                                        idProducts: value\r\n                                    })\r\n                                }}>\r\n                                {\r\n                                    dataProduct.map((item, i) => {\r\n                                        return <Option key={item._id} value={item._id}>\r\n                                            {item.ten}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    )\r\n                }\r\n\r\n                <Form.Item\r\n                    label=\"Nội dung\"\r\n                    name=\"noidung\">\r\n\r\n                    <QuillEditor\r\n                        placeholder={\"Nhập nội dung\"}\r\n                        onEditorChange={onEditorChange}\r\n                        onFilesChange={onFilesChange} />\r\n\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        statusMessageError === 0 && (\r\n                            <p style={{ color: 'red', lineHeight: 1.5 }}>Vui lòng nhập đủ dữ liệu cần thiết</p>\r\n                        )\r\n                    }\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                        KiemTraDuLieuNhap(dataThem);\r\n                    }}>\r\n                        {\r\n                            spinnerThemBaiViet === 1 ?\r\n                                <Spinner animation=\"border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </Spinner> : \"Thêm\"\r\n\r\n                        }\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nexport default function ModalChiTietBaiViet() {\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const showChiTietBaiViet = useSelector(state => state.showChiTietBaiViet);\r\n    const [spinnerChiTietBaiViet, setSpinnerChiTietBaiViet] = useState(false);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [imageAsUrl, setImageAsUrl] = useState([]);\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false);\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerXoaBaiViet, setSpinnerXoaBaiViet] = useState(-1);\r\n    const [spinnerSuaBaiViet, setSpinnerSuaBaiViet] = useState(-1);\r\n    const [baiVietNow, setBaiVietNow] = useState({\r\n        _id: '',\r\n        tieuDe: '',\r\n        img: '',\r\n        ngayTao: '',\r\n        loaiBaiViet: '',\r\n        idProducts: '',\r\n        content: '',\r\n        isLock: '',\r\n    });\r\n    const [baiVietSua, setBaiVietSua] = useState({\r\n        tieuDe: '',\r\n        img: '',\r\n        content: ''\r\n    });\r\n\r\n    const handleChangeIMG = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setBaiVietSua({\r\n                                    ...baiVietSua,\r\n                                    img: fireBaseUrl\r\n                                });\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl(listUrl);\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        if (baiVietSua.tieuDe.trim().length === 0 || baiVietSua.img === '') {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            SuaBaiViet(baiVietNow._id);\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    async function SuaBaiViet(baiVietID) {\r\n        setSpinnerSuaBaiViet(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/baiviet-sua', {\r\n                _id: baiVietID,\r\n                tieuDe: baiVietSua.tieuDe,\r\n                img: baiVietSua.img,\r\n                content: baiVietSua.content\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaBaiViet(-1);\r\n                message.success(\"Sửa thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_BAIVIET' });\r\n            }\r\n            else {\r\n                setSpinnerSuaBaiViet(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                dispatch({ type: 'CLOSE_CHITIET_BAIVIET' });\r\n                message.error(\"Sửa thất bại\");\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_BAIVIET' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n    async function LayBaiVietTheoID(baiVietID) {\r\n        setSpinnerChiTietBaiViet(true);\r\n        let resData = await axios.get('hethong/baiviet-item-admin?id=' + baiVietID);\r\n        if (resData.data.status === 'success') {\r\n            setBaiVietNow({\r\n                _id: resData.data.data._id,\r\n                tieuDe: resData.data.data.tieuDe,\r\n                img: resData.data.data.img,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                loaiBaiViet: resData.data.data.loaiBaiViet,\r\n                idProducts: resData.data.data.idProducts,\r\n                content: resData.data.data.content,\r\n                isLock: resData.data.data.isLock\r\n            });\r\n            setSpinnerChiTietBaiViet(false);\r\n        } else {\r\n            message.error(\"Lấy data bài viết thất bại\");\r\n            setSpinnerChiTietBaiViet(false);\r\n            dispatch({ type: 'CLOSE_CHITIET_BAIVIET' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    setStatusMessageError(-1);\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n    return (\r\n        <Modal show={showChiTietBaiViet} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_BAIVIET' });\r\n        }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                setStatusSua(0);\r\n                LayBaiVietTheoID(objectIDDuocChonReducer);\r\n                setStatusMessageError(-1);\r\n            }}>\r\n            {\r\n                spinnerChiTietBaiViet === true && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietBaiViet === false && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n                        <Form.Item\r\n                            label=\"Tiêu đề\"\r\n                            name=\"tieude\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập tên ' }]}>\r\n                            <Input disabled={!disableOptions} defaultValue={baiVietNow.tieuDe} onChange={(e) => {\r\n                                setBaiVietSua({\r\n                                    ...baiVietSua,\r\n                                    tieuDe: e.target.value\r\n                                });\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n\r\n                        <Form.Item\r\n                            label=\"Ảnh đại diện\"\r\n                            name=\"anhchinh\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn ảnh' }]}>\r\n                            <input type='file'\r\n                                disabled={!disableOptions}\r\n                                onChange={(e) => {\r\n                                    handleChangeIMG(e);\r\n                                    setCountAnhDaUploadThanhCong(0);\r\n                                    setFirstTime(false);\r\n                                }}>\r\n                            </input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='showanhchinh'\r\n                            label=\"Show ảnh đại diện\">\r\n                            {\r\n                                statusSua === 0 && (\r\n                                    <img style={{ marginLeft: 20 }} src={baiVietNow.img} alt={'ảnh'} width='200' height='150'></img>\r\n                                )\r\n                            }\r\n                            {\r\n                                statusSua === 1 && (\r\n                                    imageAsUrl.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Loại bài viết\"\r\n                            name=\"loaibaiviet\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn loại bài viết' }]}>\r\n                            <Select disabled={true} defaultValue={baiVietNow.loaiBaiViet}>\r\n                                <Option value={-1}>Chọn loại bài viết</Option>\r\n                                <Option value={0}>Bài viết về chương trình/sự kiện</Option>\r\n                                <Option value={1}>Bài viết giới thiệu</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Nội dung\"\r\n                            name=\"noidung\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập nội dung' }]}>\r\n                            <textarea style={{ width: '100%' }} disabled={!disableOptions} rows=\"4\" cols=\"50\" defaultValue={baiVietNow.content} onChange={(e) => {\r\n                                setBaiVietSua({\r\n                                    ...baiVietSua,\r\n                                    content: e.target.value\r\n                                });\r\n                            }}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(baiVietNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trạng thái khóa\">\r\n                            <Select disabled={true} defaultValue={baiVietNow.isLock === false ? \"nolock\" : \"lock\"}>\r\n                                <Option value=\"lock\">Có</Option>\r\n                                <Option value=\"nolock\">Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            {\r\n                                statusMessageError === 0 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin sửa không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                                )\r\n                            }\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }}\r\n                                onClick={() => {\r\n                                    if (statusSua === 0) {\r\n                                        setStatusSua(1);\r\n                                        setDisableOptions(true);\r\n                                    } else {\r\n                                        KiemTraDuLieuNhap();\r\n                                    }\r\n                                    if (statusSua === 0) {\r\n                                        setBaiVietSua({\r\n                                            tieuDe: baiVietNow.tieuDe,\r\n                                            img: baiVietNow.img,\r\n                                            content: baiVietNow.content\r\n                                        });\r\n                                    }\r\n                                }}>\r\n\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaBaiViet === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaBaiViet === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item>\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Image, Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Button, message, Select } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\n\r\nexport default function ModalThemCategory() {\r\n    const { Option } = Select;\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const showModalThemCategoryReducer = useSelector(state => state.showModalThemCategory);\r\n    const [spinnerThemCategory, setSpinnerThemCategory] = useState(-1);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const [dataThem, setDataThem] = useState({\r\n        ten: '',\r\n        icon: '',\r\n        img: '',\r\n        idparen: '',\r\n    });\r\n\r\n\r\n    const handleChange = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    img: fireBaseUrl\r\n                                })\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    function KiemTraDuLieuNhap(data) {\r\n        if (data.ten.trim().length === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            ThemCategory()\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    async function LayDataCategoryAll() {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/categorys');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function ThemCategory() {\r\n        setSpinnerThemCategory(1);\r\n        let res = await axios.post('hethong/categorys-them', {\r\n            ten: dataThem.ten,\r\n            icon: dataThem.icon,\r\n            img: dataThem.img,\r\n            idparen: dataThem.idparen,\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(\"Thêm thành công\");\r\n            dispatch({ type: 'CLOSE_THEM_CATEGORY' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            setSpinnerThemCategory(0);\r\n        } else {\r\n            message.error(res.data.message);\r\n            dispatch({ type: 'CLOSE_THEM_CATEGORY' });\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            setSpinnerThemCategory(0);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCategoryAll();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                message.error('Vui lòng chọn ảnh cho Category')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    message.success('Upload ảnh category thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n    return (\r\n\r\n        <Modal show={showModalThemCategoryReducer} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_THEM_CATEGORY' });\r\n        }}\r\n            onShow={() => {\r\n                setImageAsFile([]);\r\n                setFirstTime(true);\r\n                setCountAnhDaUploadThanhCong(0);\r\n                setStatusMessageError(-1);\r\n                setDataThem({\r\n                    ten: '',\r\n                    icon: '',\r\n                    img: '',\r\n                    idparen: '',\r\n                })\r\n            }}>\r\n            <Form\r\n                name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n                <Form.Item\r\n                    label=\"Tên\"\r\n                    name=\"ten\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên danh mục cho sản phẩm' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            ten: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Icon\"\r\n                    name=\"icon\">\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            icon: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Nhóm sản phẩm\"\r\n                    name=\"idparen\"\r\n                    // rules={[{ required: true, message: 'Vui lòng chọn nhóm sản phẩm' }]}\r\n                    >\r\n                    <Select value={dataThem.idparen} onChange={(value) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            idparen: value,\r\n                        })\r\n                        console.log(value);\r\n                    }}>\r\n                        <Option value = \"\">Danh mục chính</Option>\r\n                        {dataCategory.map((item, i) => {\r\n                            var result = (item.idParen === '') ?\r\n                                (\r\n                                    <Option key ={item._id} value={item._id}>{item.ten}</Option>\r\n                                ) : ''\r\n                            return result;\r\n                        })}\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Ảnh đại diện\"\r\n                    name=\"username\">\r\n                    <input type='file'\r\n                        onChange={(e) => {\r\n                            handleChange(e);\r\n                            setCountAnhDaUploadThanhCong(0);\r\n                            setFirstTime(false);\r\n\r\n                        }}\r\n                    //onClick={() => { console.log(dataCategory) }}\r\n                    >\r\n                    </input>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        dataThem.img === '' ? <Image alt=\"ảnh show\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" style={{ width: 300, height: 200 }}></Image> : <Image alt=\"ảnh show\" src={dataThem.img} style={{ width: 300, height: 200 }}></Image>\r\n                    }\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        statusMessageError === 0 && (\r\n                            <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin tạo mới danh mục sản phẩm không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                        )\r\n                    }\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                        KiemTraDuLieuNhap(dataThem)\r\n                    }}>\r\n                        {\r\n                            spinnerThemCategory === 1 ?\r\n                                <Spinner animation=\"border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </Spinner> : \"Thêm\"\r\n\r\n                        }\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\n\r\nexport default function ModalChiTietCategory() {\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const showChiTietCategoryReducer = useSelector(state => state.showChiTietCategory);\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const setSpinnerChiTietCategory = useSelector(state => state.setSpinnerChiTietCategory);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false);\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerSuaCategory, setSpinnerSuaCategory] = useState(-1);\r\n    const [cateogryNow, setCategoryNow] = useState({\r\n        _id: '',\r\n        ten: '',\r\n        icon: '',\r\n        ngayTao: '',\r\n        isLock: ''\r\n    });\r\n    const [categorySua, setCategorySua] = useState({\r\n        ten: '',\r\n        icon: ''\r\n    });\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        if (categorySua.ten.trim().length === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            SuaCategory(cateogryNow._id);\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function SuaCategory(categoryID) {\r\n        dispatch({ type: 'SPINNER_CHITIETCATEGORY' });\r\n        setSpinnerSuaCategory(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/categorys-sua', {\r\n                _id: categoryID,\r\n                ten: categorySua.ten,\r\n                icon: categorySua.icon\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                dispatch({ type: 'NO_SPINNER_CHITIETCATEGORY' });\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaCategory(-1);\r\n                message.success(\"Sửa thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_CATEGORY' });\r\n            }\r\n            else {\r\n                //dispatch({ type: 'NO_SPINNER_SUACAROUSEL' });\r\n                setSpinnerSuaCategory(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                message.error(\"Sửa thất bại\");\r\n                dispatch({ type: 'CLOSE_CHITIET_CATEGORY' });\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_CATEGORY' });\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n\r\n    async function LayCategoryTheoID(categoryID) {\r\n        dispatch({ type: 'SPINNER_CHITIETCATEGORY' });\r\n        let resData = await axios.get('hethong/categorys-item/?id=' + categoryID);\r\n        if (resData.data.status === 'success') {\r\n            setCategoryNow({\r\n                _id: resData.data.data._id,\r\n                ten: resData.data.data.ten,\r\n                icon: resData.data.data.icon,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                isLock: resData.data.data.isLock\r\n            });\r\n            dispatch({ type: 'NO_SPINNER_CHITIETCATEGORY' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_CATEGORY' });\r\n            dispatch({ type: 'NO_SPINNER_CHITIETCATEGORY' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n\r\n    return (\r\n        <Modal show={showChiTietCategoryReducer} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_CATEGORY' });\r\n        }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                setStatusSua(0);\r\n                LayCategoryTheoID(objectIDDuocChonReducer);\r\n                setStatusMessageError(-1);\r\n            }}>\r\n            {\r\n                setSpinnerChiTietCategory === 1 && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                setSpinnerChiTietCategory === 0 && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n                        <Form.Item\r\n                            label=\"Tên\"\r\n                            name=\"ten\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập tên ' }]}>\r\n                            <Input disabled={!disableOptions} defaultValue={cateogryNow.ten} onChange={(e) => {\r\n                                setCategorySua({\r\n                                    ...categorySua,\r\n                                    ten: e.target.value\r\n                                });\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Icon\"\r\n                            name=\"icon\">\r\n                            <Input disabled={!disableOptions} defaultValue={cateogryNow.icon} onChange={(e) => {\r\n                                setCategorySua({\r\n                                    ...categorySua,\r\n                                    icon: e.target.value\r\n                                });\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(cateogryNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trạng thái khóa\">\r\n                            <Select disabled={true} defaultValue={cateogryNow.isLock === false ? \"nolock\" : \"lock\"}>\r\n                                <Option key=\"lock\">Có</Option>\r\n                                <Option key=\"nolock\">Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            {\r\n                                statusMessageError === 0 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin sửa không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                                )\r\n                            }\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                if (statusSua === 0) {\r\n                                    setStatusSua(1);\r\n                                    setDisableOptions(true);\r\n                                } else {\r\n                                    KiemTraDuLieuNhap()\r\n                                }\r\n                                if (statusSua === 0) {\r\n                                    setCategorySua({\r\n                                        ten: cateogryNow.ten,\r\n                                        icon: cateogryNow.icon\r\n                                    });\r\n                                }\r\n                            }}>\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaCategory === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaCategory === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item>\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Image, Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\n\r\nexport default function ModalThemBrand() {\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const showModalThemBrandReducer = useSelector(state => state.showModalThemBrand);\r\n    const [spinnerThemBrand, setSpinnerThemBrand] = useState(-1);\r\n    const dispatch = useDispatch();\r\n    const [dataThem, setDataThem] = useState({\r\n        ten: '',\r\n        xuatXu: '',\r\n        img: ''\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    img: fireBaseUrl\r\n                                })\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    function KiemTraDuLieuNhap(data) {\r\n        if (data.ten.trim().length === 0 || data.xuatXu.trim().length === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            ThemBrand()\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    async function ThemBrand() {\r\n        setSpinnerThemBrand(1);\r\n        let res = await axios.post('hethong/brands-them', {\r\n            ten: dataThem.ten,\r\n            xuatXu: dataThem.xuatXu,\r\n            img: dataThem.img,\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(\"Thêm thành công\");\r\n            dispatch({ type: 'CLOSE_THEM_BRAND' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            setSpinnerThemBrand(0);\r\n        } else {\r\n            message.error(res.data.message);\r\n            dispatch({ type: 'CLOSE_THEM_BRAND' });\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            setSpinnerThemBrand(0);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                message.error('Vui lòng chọn ảnh cho Brand')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    message.success('Upload ảnh brand thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n\r\n    return (\r\n        <Modal show={showModalThemBrandReducer} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_THEM_BRAND' });\r\n        }}\r\n            onShow={() => {\r\n                setStatusMessageError(-1);\r\n                setImageAsFile([]);\r\n                setFirstTime(true);\r\n                setCountAnhDaUploadThanhCong(0);\r\n                setDataThem({\r\n                    ten: '',\r\n                    xuatXu: '',\r\n                    img: ''\r\n                })\r\n            }}>\r\n            <Form\r\n                name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n                <Form.Item\r\n                    label=\"Tên\"\r\n                    name=\"ten\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên Brand ' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            ten: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Xuất xứ\"\r\n                    name=\"=xuatXu\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập nguồn gốc xuất xứ ' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            xuatXu: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    label=\"Ảnh đại diện\"\r\n                    name=\"username\">\r\n                    <input type='file'\r\n                        onChange={(e) => {\r\n                            handleChange(e);\r\n                            setCountAnhDaUploadThanhCong(0);\r\n                            setFirstTime(false);\r\n                        }}>\r\n                    </input>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        dataThem.img === '' ? <Image alt=\"ảnh show\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" style={{ width: 300, height: 200 }}></Image> : <Image alt=\"ảnh show\" src={dataThem.img} style={{ width: 300, height: 200 }}></Image>\r\n                    }\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        statusMessageError === 0 && (\r\n                            <p style={{ color: 'red', lineHeight: 1.5 }}>Vui lòng nhập đủ dữ liệu cần thiết</p>\r\n                        )\r\n                    }\r\n\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                        KiemTraDuLieuNhap(dataThem);\r\n                    }}>\r\n                        {\r\n                            spinnerThemBrand === 1 ?\r\n                                <Spinner animation=\"border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </Spinner> : \"Thêm\"\r\n\r\n                        }\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\n\r\nexport default function ModalChiTietBrand() {\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const showChiTietBrandReducer = useSelector(state => state.showChiTietBrand);\r\n    const setSpinnerChiTietBrand = useSelector(state => state.setSpinnerChiTietBrand);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [imageAsUrl, setImageAsUrl] = useState([]);\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false);\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerSuaBrand, setSpinnerSuaBrand] = useState(-1);\r\n    const [brandNow, setBrandNow] = useState({\r\n        _id: '',\r\n        ten: '',\r\n        xuatXu: '',\r\n        img: '',\r\n        ngayTao: '',\r\n        isLock: ''\r\n    });\r\n    const [brandSua, setBrandSua] = useState({\r\n        ten: '',\r\n        xuatXu: '',\r\n        img: ''\r\n    });\r\n\r\n    const handleChangeIMG = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setBrandSua({\r\n                                    ...brandSua,\r\n                                    img: fireBaseUrl\r\n                                });\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl(listUrl);\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        if (brandSua.ten.trim().length === 0 || brandSua.xuatXu.trim().length === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            SuaBrand(brandNow._id);\r\n            setStatusMessageError(-1);\r\n        }\r\n    }\r\n\r\n    async function SuaBrand(brandID) {\r\n        //dispatch({ type: 'SPINNER_SUACAROUSEL' });\r\n        setSpinnerSuaBrand(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/brands-sua', {\r\n                _id: brandID,\r\n                ten: brandSua.ten,\r\n                xuatXu: brandSua.xuatXu,\r\n                img: brandSua.img\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                //dispatch({ type: 'NO_SPINNER_SUACAROUSEL' });\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaBrand(-1);\r\n                message.success(\"Sửa thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_BRAND' });\r\n            }\r\n            else {\r\n                //dispatch({ type: 'NO_SPINNER_SUACAROUSEL' });\r\n                setSpinnerSuaBrand(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                message.error(\"Sửa thất bại\");\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_BRAND' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n    async function LayBrandTheoID(brandID) {\r\n        dispatch({ type: 'SPINNER_CHITIETBRAND' });\r\n        let resData = await axios.get('hethong/brands-item/?id=' + brandID);\r\n        if (resData.data.status === 'success') {\r\n            setBrandNow({\r\n                _id: resData.data.data._id,\r\n                ten: resData.data.data.ten,\r\n                xuatXu: resData.data.data.xuatXu,\r\n                img: resData.data.data.img,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                isLock: resData.data.data.isLock\r\n            });\r\n            dispatch({ type: 'NO_SPINNER_CHITIETBRAND' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n            dispatch({ type: 'NO_SPINNER_CHITIETBRAND' });\r\n            dispatch({ type: 'CLOSE_CHITIET_BRAND' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    setStatusMessageError(-1);\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n    return (\r\n        <Modal show={showChiTietBrandReducer} size=\"lg\" animation={false}\r\n            onHide={() => {\r\n                dispatch({ type: 'CLOSE_CHITIET_BRAND' });\r\n            }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                setStatusSua(0);\r\n                LayBrandTheoID(objectIDDuocChonReducer);\r\n                setStatusMessageError(-1);\r\n            }}>\r\n            {\r\n                setSpinnerChiTietBrand === 1 && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                setSpinnerChiTietBrand === 0 && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n                        <Form.Item\r\n                            label=\"Tên\"\r\n                            name=\"ten\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập tên ' }]}>\r\n                            <Input disabled={!disableOptions} defaultValue={brandNow.ten} onChange={(e) => {\r\n                                setBrandSua({\r\n                                    ...brandSua,\r\n                                    ten: e.target.value\r\n                                });\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Xuất xứ\"\r\n                            name=\"xuatXu\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập nguồn gốc xuất xứ ' }]}>\r\n                            <Input disabled={!disableOptions} defaultValue={brandNow.xuatXu} onChange={(e) => {\r\n                                setBrandSua({\r\n                                    ...brandSua,\r\n                                    xuatXu: e.target.value\r\n                                });\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ảnh đại diện\"\r\n                            name=\"anhchinh\">\r\n                            <input type='file'\r\n                                disabled={!disableOptions}\r\n                                onChange={(e) => {\r\n                                    handleChangeIMG(e);\r\n                                    setCountAnhDaUploadThanhCong(0);\r\n                                    setFirstTime(false);\r\n                                }}>\r\n                            </input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='showanhchinh'\r\n                            label=\"Show ảnh đại diện\">\r\n                            {\r\n                                statusSua === 0 && (\r\n                                    <img style={{ marginLeft: 20 }} src={brandNow.img === '' ? \"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" : brandNow.img} alt={'ảnh'} width='200' height='150'></img>\r\n                                )\r\n                            }\r\n                            {\r\n                                statusSua === 1 && (\r\n                                    imageAsUrl.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(brandNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trạng thái khóa\">\r\n                            <Select disabled={true} defaultValue={brandNow.isLock === false ? \"nolock\" : \"lock\"}>\r\n                                <Option key=\"lock\">Có</Option>\r\n                                <Option key=\"nolock\">Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            {\r\n                                statusMessageError === 0 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin sửa không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                                )\r\n                            }\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                if (statusSua === 0) {\r\n                                    setStatusSua(1);\r\n                                    setDisableOptions(true);\r\n                                } else {\r\n                                    KiemTraDuLieuNhap();\r\n                                }\r\n                                if (statusSua === 0) {\r\n                                    setBrandSua({\r\n                                        ten: brandNow.ten,\r\n                                        xuatXu: brandNow.xuatXu,\r\n                                        img: brandNow.img\r\n                                    });\r\n                                }\r\n                            }}>\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaBrand === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaBrand === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item>\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Modal, Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\n\r\nexport default function ModalChiTietProduct_Admin() {\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const showChiTietProductAdmin = useSelector(state => state.showChiTietProductAdmin);\r\n    const [spinnerChiTietProduct, setSpinnerChiTietProduct] = useState(false);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [dataCountries, setDataCountries] = useState([]);\r\n    const [dataBrand, setDataBrand] = useState([]);\r\n\r\n    const [productNow, setProductNow] = useState({\r\n        _id: '',\r\n        ten: '',\r\n        img: {\r\n            chinh: '',\r\n            phu: [],\r\n            moTaChiTiet: []\r\n        },\r\n        gia: '',\r\n        noiSanXuat: '',\r\n        moTa: '',\r\n        moTaNganGon: [],\r\n        soSao: 0,\r\n        giaTriGiamGia: 0,\r\n        soLuong: '',\r\n        ngayTao: new Date(),\r\n        thongTinBaoHanh: {\r\n            baoHanh: true,\r\n            loaiBaoHanh: '',\r\n            thoiGianBaoHanh: '',\r\n            donViBaoHanh: ''\r\n        },\r\n        idBrand: '',\r\n        idCategory: '',\r\n        isLock: false,\r\n        isAccept: false\r\n    });\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayProductTheoID(productID) {\r\n        setSpinnerChiTietProduct(true);\r\n        let resData = await axios.get('hethong/products-item/?id=' + productID);\r\n        if (resData.data.status === 'success') {\r\n            setProductNow({\r\n                _id: resData.data.data._id,\r\n                ten: resData.data.data.ten,\r\n                img: {\r\n                    chinh: resData.data.data.img.chinh,\r\n                    phu: resData.data.data.img.phu,\r\n                    moTaChiTiet: resData.data.data.img.moTaChiTiet\r\n                },\r\n                gia: resData.data.data.gia,\r\n                noiSanXuat: resData.data.data.noiSanXuat,\r\n                moTa: resData.data.data.moTa,\r\n                moTaNganGon: resData.data.data.moTaNganGon,\r\n                soSao: resData.data.data.soSao,\r\n                giaTriGiamGia: resData.data.data.giaTriGiamGia,\r\n                soLuong: resData.data.data.soLuong,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                thongTinBaoHanh: {\r\n                    baoHanh: resData.data.data.thongTinBaoHanh.baoHanh,\r\n                    loaiBaoHanh: resData.data.data.thongTinBaoHanh.loaiBaoHanh,\r\n                    thoiGianBaoHanh: resData.data.data.thongTinBaoHanh.thoiGianBaoHanh,\r\n                    donViBaoHanh: resData.data.data.thongTinBaoHanh.donViBaoHanh\r\n                },\r\n                idBrand: resData.data.data.idBrand,\r\n                idCategory: resData.data.data.idCategory,\r\n                isLock: resData.data.data.isLock,\r\n                isAccept: resData.data.data.isAccept\r\n            });\r\n            setSpinnerChiTietProduct(false);\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_ADMIN' });\r\n            setSpinnerChiTietProduct(false);\r\n        }\r\n    }\r\n\r\n    async function LayDataCategoryAll() {\r\n        let resData = await axios.get('hethong/categorys');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data danh mục thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_ADMIN' });\r\n        }\r\n    }\r\n\r\n    async function LayDataBrandAll() {\r\n        let resData = await axios.get('hethong/brands');\r\n        if (resData.data.status === 'success') {\r\n            setDataBrand(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_ADMIN' });\r\n        }\r\n    }\r\n\r\n    async function LayDataCountriesAll() {\r\n        let resData = await axios.get('hethong/countries');\r\n        if (resData.data.status === 'success') {\r\n            setDataCountries(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data các nước thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_ADMIN' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCategoryAll();\r\n        LayDataBrandAll();\r\n        LayDataCountriesAll();\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={showChiTietProductAdmin} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_ADMIN' });\r\n        }}\r\n            onShow={() => {\r\n                LayProductTheoID(objectIDDuocChonReducer);\r\n            }}>\r\n\r\n            {\r\n                spinnerChiTietProduct === true && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietProduct === false && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n                        <Form.Item\r\n                            label=\"Tên sản phẩm\"\r\n                            name=\"ten\">\r\n                            <Input disabled={true} defaultValue={productNow.ten} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Danh mục\"\r\n                            name=\"danhmuc\">\r\n                            <Select\r\n                                disabled={true}\r\n                                defaultValue={productNow.idCategory}\r\n                                mode=\"multiple\"\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn danh mục , nhiều nhất 3 lựa chọn\">\r\n                                {\r\n                                    dataCategory.map((item, i) => {\r\n                                        return <Option key={item._id} value={item._id}>\r\n                                            {item.ten}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Thương hiệu\"\r\n                            name=\"thuonghieu\">\r\n                            <Select\r\n                                disabled={true}\r\n                                defaultValue={productNow.idBrand}\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn thương hiệu\">\r\n                                {\r\n                                    dataBrand.map((item, i) => {\r\n                                        return <Option key={item._id} value={item._id}>\r\n                                            {item.ten}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Nơi sản xuất\"\r\n                            name=\"noisanxuat\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn nơi sản xuất' }]}\r\n                        >\r\n                            <Select\r\n                                disabled={true}\r\n                                defaultValue={productNow.noiSanXuat}\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn nơi sản xuất\">\r\n                                {\r\n                                    dataCountries.map((item, i) => {\r\n                                        return <Option key={item._id} value={item.name}>\r\n                                            {item.name}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Đặc điểm nổi bật\"\r\n                            name=\"dacdiemnoibat\">\r\n                            {\r\n                                productNow.moTaNganGon.map((item, i) => {\r\n                                    return <Input disabled={true} defaultValue={item} />\r\n                                })\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Mô tả chi tiết\"\r\n                            name=\"motachitiet\">\r\n                            <textarea style={{ width: '100%' }} disabled={true} rows=\"4\" cols=\"50\" defaultValue={productNow.moTa}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Giá gốc\"\r\n                            name=\"giagoc\">\r\n                            <Input\r\n                                disabled={true}\r\n                                defaultValue={productNow.gia.toString()}></Input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Giá trị giảm\"\r\n                            name=\"giatrigiam\">\r\n                            <Input\r\n                                disabled={true}\r\n                                defaultValue={productNow.giaTriGiamGia.toString()}>\r\n                            </Input>(Nếu giá trị nhập nhỏ hơn 100 thì hệ thống sẽ tự động giảm theo %)\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='anhchinh'\r\n                            label=\"Ảnh chính\">\r\n                            <img style={{ marginLeft: 20 }} src={productNow.img.chinh} alt={'ảnh'} width='200' height='150'></img>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='anhphu'\r\n                            label=\"Ảnh phụ\">\r\n                            {\r\n                                productNow.img.phu.map((src, i) => {\r\n                                    return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                })\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Số lượng sản phẩm\"\r\n                            name=\"soluong\">\r\n                            <Input\r\n                                disabled={true}\r\n                                defaultValue={productNow.soLuong.toString()}></Input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Bảo hành\"\r\n                            name=\"baohanh\">\r\n                            <Select style={{ width: '100%' }}\r\n                                disabled={true}\r\n                                defaultValue={productNow.thongTinBaoHanh.baoHanh === true ? 0 : 1}>\r\n                                <Option value={0}>Có</Option>\r\n                                <Option value={1}>Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            productNow.thongTinBaoHanh.baoHanh === true && (\r\n                                <Fragment>\r\n                                    <Form.Item\r\n                                        label=\"Thời gian bảo hành\"\r\n                                        name=\"thoigianbaohanh\">\r\n                                        <Input\r\n                                            disabled={true}\r\n                                            defaultValue={productNow.thongTinBaoHanh.thoiGianBaoHanh.toString()}>\r\n\r\n                                        </Input>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item\r\n                                        label=\"Đơn vị thời gian bảo hành\"\r\n                                        name=\"donvibaohanh\">\r\n                                        <Select style={{ width: '100%' }}\r\n                                            disabled={true}\r\n                                            defaultValue={productNow.thongTinBaoHanh.donViBaoHanh}>\r\n                                            <Option value={0}>Tháng</Option>\r\n                                            <Option value={1}>Năm</Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item\r\n                                        label=\"Loại bảo hành\"\r\n                                        name=\"loaibaohanh\">\r\n                                        <Select style={{ width: '100%' }}\r\n                                            disabled={true}\r\n                                            defaultValue={productNow.thongTinBaoHanh.loaiBaoHanh}>\r\n                                            <Option value={0}>Bảo hành chính hãng</Option>\r\n                                            <Option value={1}>Bảo hành bởi shop thông qua WareHouse</Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Fragment>\r\n                            )\r\n                        }\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(productNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trạng thái khóa\">\r\n                            <Select disabled={true} defaultValue={productNow.isLock === false ? \"nolock\" : \"lock\"}>\r\n                                <Option key=\"lock\">Có</Option>\r\n                                <Option key=\"nolock\">Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trạng thái duyệt\">\r\n                            <Select disabled={true} defaultValue={productNow.isAccept === true ? \"accept\" : \"noaccept\"}>\r\n                                <Option key=\"accept\">Đã duyệt</Option>\r\n                                <Option key=\"noaccept\">Chưa duyệt</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from \"../../firebase/firebase\";\r\n\r\nexport default function ModalChiTietProduct_ChuShop() {\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const showChiTietProduct_ChuShop = useSelector(state => state.showChiTietProduct_ChuShop);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false);\r\n    const [spinnerChiTietProduct, setSpinnerChiTietProduct] = useState(false);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [dataCountries, setDataCountries] = useState([]);\r\n    const [dataBrand, setDataBrand] = useState([]);\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [countAnhDaUploadThanhCong_Chinh, setCountAnhDaUploadThanhCong_Chinh] = useState(0);\r\n    const [countAnhDaUploadThanhCong_Phu, setCountAnhDaUploadThanhCong_Phu] = useState(0);\r\n    const [imageAsUrl_Chinh, setImageAsUrl_Chinh] = useState([]);\r\n    const [imageAsUrl_Phu, setImageAsUrl_Phu] = useState([]);\r\n    const [imageAsFile_Chinh, setImageAsFile_Chinh] = useState([]);\r\n    const [imageAsFile_Phu, setImageAsFile_Phu] = useState([]);\r\n    const [firstTime3, setFirstTime3] = useState(true);\r\n    const [firstTime4, setFirstTime4] = useState(true);\r\n    const [spinnerSuaProduct, setSpinnerSuaProduct] = useState(-1);\r\n    const [productNow, setProductNow] = useState({\r\n        _id: '',\r\n        ten: '',\r\n        img: {\r\n            chinh: '',\r\n            phu: [],\r\n            moTaChiTiet: []\r\n        },\r\n        gia: '',\r\n        noiSanXuat: '',\r\n        moTa: [],\r\n        moTaNganGon: [],\r\n        soSao: '',\r\n        giaTriGiamGia: '',\r\n        soLuong: '',\r\n        ngayTao: '',\r\n        thongTinBaoHanh: {\r\n            baoHanh: '',\r\n            loaiBaoHanh: '',\r\n            thoiGianBaoHanh: '',\r\n            donViBaoHanh: ''\r\n        },\r\n        idBrand: '',\r\n        idCategory: '',\r\n        isLock: '',\r\n        isAccept: ''\r\n    });\r\n    const [productSua, setProductSua] = useState({\r\n        ten: '',\r\n        img: {\r\n            chinh: '',\r\n            phu: [],\r\n            moTaChiTiet: []\r\n        },\r\n        gia: '',\r\n        noiSanXuat: '',\r\n        moTa: [],\r\n        moTaNganGon: [],\r\n        soSao: 0,\r\n        giaTriGiamGia: 0,\r\n        soLuong: '',\r\n        thongTinBaoHanh: {\r\n            baoHanh: '',\r\n            loaiBaoHanh: '',\r\n            thoiGianBaoHanh: '',\r\n            donViBaoHanh: ''\r\n        },\r\n        idBrand: '',\r\n        idCategory: '',\r\n        isLock: '',\r\n    });\r\n\r\n    const handleChangeIMG_Chinh = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Chinh(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Chinh(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Chinh(listUrl);\r\n        setProductSua({\r\n            ...productSua,\r\n            img: {\r\n                ...productSua.img,\r\n                chinh: listUrl[0]\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleChangeIMG_Phu = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Phu(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Phu(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Phu(listUrl);\r\n        setProductSua({\r\n            ...productSua,\r\n            img: {\r\n                ...productSua.img,\r\n                phu: listUrl\r\n            }\r\n        });\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        const regSo = /^[0-9\\b]+$/;\r\n        if (productSua.ten === '' || productSua.idCategory === '' || productSua.idBrand === '' || productSua.noiSanXuat === ''\r\n            || productSua.moTaNganGon.length === 0 || productSua.img.chinh === '' || productSua.gia === 0 || productSua.soLuong === 0) {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            if (!productSua.gia.toString().match(regSo)) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                if (!productSua.giaTriGiamGia.toString().match(regSo)) {\r\n                    setStatusMessageError(2);\r\n                } else {\r\n                    if (!productSua.soLuong.toString().match(regSo)) {\r\n                        setStatusMessageError(3);\r\n                    } else {\r\n                        SuaProduct(productNow._id);\r\n                        setStatusMessageError(-1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async function SuaProduct(productID) {\r\n        //dispatch({ type: 'SPINNER_SUACAROUSEL' });\r\n        setSpinnerSuaProduct(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/products-sua-chushop', {\r\n                _id: productID,\r\n                ten: productSua.ten,\r\n                img: {\r\n                    chinh: productSua.img.chinh,\r\n                    phu: productSua.img.phu,\r\n                    moTaChiTiet: productSua.img.moTaChiTiet\r\n                },\r\n                gia: productSua.gia,\r\n                noiSanXuat: productSua.noiSanXuat,\r\n                moTa: productSua.moTa,\r\n                moTaNganGon: productSua.moTaNganGon,\r\n                soSao: productSua.soSao,\r\n                giaTriGiamGia: productSua.giaTriGiamGia,\r\n                soLuong: productSua.soLuong,\r\n                thongTinBaoHanh: {\r\n                    baoHanh: productSua.thongTinBaoHanh.baoHanh,\r\n                    loaiBaoHanh: productSua.thongTinBaoHanh.loaiBaoHanh,\r\n                    thoiGianBaoHanh: productSua.thongTinBaoHanh.thoiGianBaoHanh,\r\n                    donViBaoHanh: productSua.thongTinBaoHanh.donViBaoHanh\r\n                },\r\n                idBrand: productSua.idBrand,\r\n                idCategory: productSua.idCategory,\r\n                isLock: productSua.isLock,\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaProduct(-1);\r\n                message.success(\"Sửa thông tin sản phẩm thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n            }\r\n            else {\r\n                setSpinnerSuaProduct(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                message.error(\"Sửa thông tin sản phẩm thất bại\");\r\n                dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async function LayProductTheoID(productID) {\r\n        setSpinnerChiTietProduct(true);\r\n        let resData = await axios.get('hethong/products-item/?id=' + productID);\r\n        if (resData.data.status === 'success') {\r\n            setProductNow({\r\n                _id: resData.data.data._id,\r\n                ten: resData.data.data.ten,\r\n                img: {\r\n                    chinh: resData.data.data.img.chinh,\r\n                    phu: resData.data.data.img.phu,\r\n                    moTaChiTiet: resData.data.data.img.moTaChiTiet\r\n                },\r\n                gia: resData.data.data.gia,\r\n                noiSanXuat: resData.data.data.noiSanXuat,\r\n                moTa: resData.data.data.moTa,\r\n                moTaNganGon: resData.data.data.moTaNganGon,\r\n                soSao: resData.data.data.soSao,\r\n                giaTriGiamGia: resData.data.data.giaTriGiamGia,\r\n                soLuong: resData.data.data.soLuong,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                thongTinBaoHanh: {\r\n                    baoHanh: resData.data.data.thongTinBaoHanh.baoHanh,\r\n                    loaiBaoHanh: resData.data.data.thongTinBaoHanh.loaiBaoHanh,\r\n                    thoiGianBaoHanh: resData.data.data.thongTinBaoHanh.thoiGianBaoHanh,\r\n                    donViBaoHanh: resData.data.data.thongTinBaoHanh.donViBaoHanh\r\n                },\r\n                idBrand: resData.data.data.idBrand,\r\n                idCategory: resData.data.data.idCategory,\r\n                isLock: resData.data.data.isLock,\r\n                isAccept: resData.data.data.isAccept\r\n            });\r\n            setSpinnerChiTietProduct(false);\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm thất bại\");\r\n            setSpinnerChiTietProduct(false);\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    async function LayDataCategoryAll() {\r\n        let resData = await axios.get('hethong/categorys');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    async function LayDataBrandAll() {\r\n        let resData = await axios.get('hethong/brands');\r\n        if (resData.data.status === 'success') {\r\n            setDataBrand(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    async function LayDataCountriesAll() {\r\n        let resData = await axios.get('hethong/countries');\r\n        if (resData.data.status === 'success') {\r\n            setDataCountries(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data các nước thất bại\");\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCategoryAll();\r\n        LayDataBrandAll();\r\n        LayDataCountriesAll();\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (firstTime3 === false) {\r\n            if (imageAsFile_Chinh.length === 0) {\r\n                message.error('Vui lòng chọn ảnh chính cho sản phẩm')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Chinh === imageAsFile_Chinh.length) {\r\n                    message.success('Upload ảnh chính cho sản phẩm thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Chinh])\r\n\r\n    useEffect(() => {\r\n        if (firstTime4 === false) {\r\n            if (imageAsFile_Phu.length === 0) {\r\n                message.error('Vui lòng chọn ảnh phụ cho sản phẩm')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Phu === imageAsFile_Phu.length) {\r\n                    message.success('Upload các ảnh phụ cho sản phẩm thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Phu])\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n\r\n    return (\r\n        <Modal show={showChiTietProduct_ChuShop} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_PRODUCT_CHUSHOP' });\r\n        }}\r\n            onShow={() => {\r\n                LayProductTheoID(objectIDDuocChonReducer);\r\n                setDisableOptions(false);\r\n                setStatusSua(0);\r\n                setStatusMessageError(-1);\r\n            }}>\r\n\r\n            {\r\n                spinnerChiTietProduct === true && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietProduct === false && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n                        <Form.Item\r\n                            label=\"Tên sản phẩm\"\r\n                            name=\"ten\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm ' }]}>\r\n                            <Input disabled={!disableOptions} defaultValue={productNow.ten} onChange={(e) => {\r\n                                setProductSua({\r\n                                    ...productSua,\r\n                                    ten: e.target.value\r\n                                })\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Danh mục\"\r\n                            name=\"danhmuc\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn danh mục' }]}\r\n                        >\r\n                            <Select\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.idCategory}\r\n                                mode=\"multiple\"\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn danh mục , nhiều nhất 3 lựa chọn\"\r\n                                onChange={(value) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        idCategory: value\r\n                                    })\r\n                                }}\r\n                            >\r\n                                {\r\n                                    dataCategory.map((item, i) => {\r\n                                        return <Option key={item._id} value={item._id}>\r\n                                            {item.ten}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Thương hiệu\"\r\n                            name=\"thuonghieu\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn thương hiệu' }]}\r\n                        >\r\n                            <Select\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.idBrand}\r\n                                showSearch\r\n                                optionFilterProp=\"children\"\r\n                                filterOption={(input, option) =>\r\n                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                }\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn thương hiệu\"\r\n                                onChange={(value) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        idBrand: value\r\n                                    })\r\n                                }}\r\n                            >\r\n                                {\r\n                                    dataBrand.map((item, i) => {\r\n                                        return <Option key={item._id} value={item._id}>\r\n                                            {item.ten}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Nơi sản xuất\"\r\n                            name=\"noisanxuat\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn nơi sản xuất' }]}\r\n                        >\r\n                            <Select\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.noiSanXuat}\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Chọn nơi sản xuất\"\r\n                                onChange={(value) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        noiSanXuat: value\r\n                                    })\r\n                                }}\r\n                            >\r\n                                {\r\n                                    dataCountries.map((item, i) => {\r\n                                        return <Option key={item._id} value={item.name}>\r\n                                            {item.name}\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Đặc điểm nổi bật\"\r\n                            name=\"dacdiemnoibat\"\r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            {\r\n                                productNow.moTaNganGon.map((item, i) => {\r\n                                    return <Input key={i} disabled={!disableOptions} defaultValue={item} onChange={(e) => {\r\n                                        productNow.moTaNganGon[i] = e.target.value;\r\n                                        var newArray = productNow.moTaNganGon;\r\n                                        setProductSua({\r\n                                            ...productSua,\r\n                                            moTaNganGon: newArray\r\n                                        })\r\n                                    }} />\r\n                                })\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Mô tả chi tiết\"\r\n                            name=\"motachitiet\"\r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <textarea style={{ width: '100%' }} disabled={!disableOptions} rows=\"4\" cols=\"50\" defaultValue={productNow.moTa} onChange={(e) => {\r\n                                setProductSua({\r\n                                    ...productSua,\r\n                                    moTa: e.target.value\r\n                                });\r\n                            }}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Giá gốc\"\r\n                            name=\"giagoc\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập giá gốc sản phẩm' }]}>\r\n                            <Input\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.gia.toString()}\r\n                                onChange={(e) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        gia: parseInt(e.target.value)\r\n                                    })\r\n                                }}></Input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Giá trị giảm\"\r\n                            name=\"giatrigiam\">\r\n                            <Input\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.giaTriGiamGia.toString()}\r\n                                onChange={(e) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        giaTriGiamGia: parseInt(e.target.value)\r\n                                    })\r\n                                }}></Input>(Nếu giá trị nhập nhỏ hơn 100 thì hệ thống sẽ tự động giảm theo %)\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ảnh chính cho sản phẩm\"\r\n                            name=\"anhchinh\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn ảnh' }]}>\r\n                            <input type='file'\r\n                                disabled={!disableOptions}\r\n                                onChange={(e) => {\r\n                                    handleChangeIMG_Chinh(e);\r\n                                    setCountAnhDaUploadThanhCong_Chinh(0);\r\n                                    setFirstTime3(false);\r\n                                }}>\r\n                            </input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='showanhchinh'\r\n                            label=\"Show ảnh chính\">\r\n                            {\r\n                                statusSua === 0 && (\r\n                                    <img style={{ marginLeft: 20 }} src={productNow.img.chinh} alt={'ảnh'} width='200' height='150'></img>\r\n                                )\r\n                            }\r\n                            {\r\n                                statusSua === 1 && (\r\n                                    imageAsUrl_Chinh.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ảnh phụ cho sản phẩm\"\r\n                            name=\"anhphu\"\r\n                            rules={[{ required: true, message: 'Vui lòng chọn ảnh' }]}>\r\n                            <input type='file'\r\n                                disabled={!disableOptions}\r\n                                multiple\r\n                                onChange={(e) => {\r\n                                    handleChangeIMG_Phu(e);\r\n                                    setCountAnhDaUploadThanhCong_Phu(0);\r\n                                    setFirstTime4(false);\r\n                                }}>\r\n                            </input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name='showanhphu'\r\n                            label=\"Show các ảnh phụ\">\r\n                            {\r\n                                statusSua === 0 && (\r\n                                    productNow.img.phu.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                )\r\n                            }\r\n                            {\r\n                                statusSua === 1 && (\r\n                                    imageAsUrl_Phu.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Số lượng sản phẩm\"\r\n                            name=\"soluong\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập số lượng sản phẩm' }]}>\r\n                            <Input\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.soLuong.toString()}\r\n                                onChange={(e) => {\r\n                                    setProductSua({\r\n                                        ...productSua,\r\n                                        soLuong: parseInt(e.target.value)\r\n                                    })\r\n                                }}></Input>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Bảo hành\"\r\n                            name=\"baohanh\">\r\n                            <Select style={{ width: '100%' }}\r\n                                disabled={!disableOptions}\r\n                                defaultValue={productNow.thongTinBaoHanh.baoHanh === true ? 0 : 1} onChange={(value) => {\r\n                                    if (value === 1) {\r\n                                        setProductSua({\r\n                                            ...productSua,\r\n                                            thongTinBaoHanh: {\r\n                                                baoHanh: false,\r\n                                                thoiGianBaoHanh: '',\r\n                                                donViBaoHanh: '',\r\n                                                loaiBaoHanh: ''\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        setProductSua({\r\n                                            ...productSua,\r\n                                            thongTinBaoHanh: {\r\n                                                ...productSua.thongTinBaoHanh,\r\n                                                baoHanh: true\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                }}>\r\n                                <Option value={0}>Có</Option>\r\n                                <Option value={1}>Không</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            productNow.thongTinBaoHanh.baoHanh === true && (\r\n                                <Fragment>\r\n                                    <Form.Item\r\n                                        label=\"Thời gian bảo hành\"\r\n                                        name=\"thoigianbaohanh\"\r\n                                        rules={[{ required: true, message: 'Vui lòng nhập thời gian bảo hành' }]}>\r\n                                        <Input\r\n                                            disabled={!disableOptions}\r\n                                            defaultValue={productNow.thongTinBaoHanh.thoiGianBaoHanh.toString()}\r\n                                            onChange={(e) => {\r\n                                                setProductSua({\r\n                                                    ...productSua,\r\n                                                    thongTinBaoHanh: {\r\n                                                        ...productSua.thongTinBaoHanh,\r\n                                                        thoiGianBaoHanh: parseInt(e.target.value)\r\n                                                    }\r\n                                                })\r\n                                            }}></Input>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item\r\n                                        label=\"Đơn vị thời gian bảo hành\"\r\n                                        name=\"donvibaohanh\"\r\n                                        rules={[{ required: true, message: 'Vui lòng nhập đơn vị thời gian bảo hành' }]}>\r\n                                        <Select style={{ width: '100%' }}\r\n                                            disabled={!disableOptions}\r\n                                            defaultValue={productNow.thongTinBaoHanh.donViBaoHanh}\r\n                                            onChange={(value) => {\r\n                                                setProductSua({\r\n                                                    ...productSua,\r\n                                                    thongTinBaoHanh: {\r\n                                                        ...productSua.thongTinBaoHanh,\r\n                                                        donViBaoHanh: value\r\n                                                    }\r\n                                                })\r\n                                            }}>\r\n                                            <Option value={0}>Tháng</Option>\r\n                                            <Option value={1}>Năm</Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item\r\n                                        label=\"Loại bảo hành\"\r\n                                        name=\"loaibaohanh\"\r\n                                        rules={[{ required: true, message: 'Vui lòng chọn loại bảo hành' }]}>\r\n                                        <Select style={{ width: '100%' }}\r\n                                            disabled={!disableOptions}\r\n                                            defaultValue={productNow.thongTinBaoHanh.loaiBaoHanh}\r\n                                            onChange={(value) => {\r\n                                                setProductSua({\r\n                                                    ...productSua,\r\n                                                    thongTinBaoHanh: {\r\n                                                        ...productSua.thongTinBaoHanh,\r\n                                                        loaiBaoHanh: value\r\n                                                    }\r\n                                                })\r\n                                            }}>\r\n                                            <Option value={0}>Bảo hành chính hãng</Option>\r\n                                            <Option value={1}>Bảo hành bởi shop thông qua WareHouse</Option>\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Fragment>\r\n                            )\r\n                        }\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\"\r\n                        >\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(productNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"button2\">\r\n                            {\r\n                                statusMessageError === 0 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin tạo mới sản phẩm không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                                )\r\n                            }\r\n\r\n                            {\r\n                                statusMessageError === 1 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Giá gốc không hợp lệ</p>\r\n                                )\r\n                            }\r\n\r\n                            {\r\n                                statusMessageError === 2 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Giá trị giảm giá không hợp lệ</p>\r\n                                )\r\n                            }\r\n\r\n                            {\r\n                                statusMessageError === 3 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Giá trị số lượng sản phẩm không hợp lệ</p>\r\n                                )\r\n                            }\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                if (statusSua === 0) {\r\n                                    setStatusSua(1);\r\n                                    setDisableOptions(true);\r\n                                }\r\n                                else {\r\n                                    KiemTraDuLieuNhap();\r\n                                }\r\n                                if (statusSua === 0) {\r\n                                    setProductSua({\r\n                                        ten: productNow.ten,\r\n                                        img: {\r\n                                            chinh: productNow.img.chinh,\r\n                                            phu: productNow.img.phu,\r\n                                            moTaChiTiet: productNow.img.moTaChiTiet\r\n                                        },\r\n                                        gia: productNow.gia,\r\n                                        noiSanXuat: productNow.noiSanXuat,\r\n                                        moTa: productNow.moTa,\r\n                                        moTaNganGon: productNow.moTaNganGon,\r\n                                        soSao: productNow.soSao,\r\n                                        giaTriGiamGia: productNow.giaTriGiamGia,\r\n                                        soLuong: productNow.soLuong,\r\n                                        thongTinBaoHanh: {\r\n                                            baoHanh: productNow.thongTinBaoHanh.baoHanh,\r\n                                            loaiBaoHanh: productNow.thongTinBaoHanh.loaiBaoHanh,\r\n                                            thoiGianBaoHanh: productNow.thongTinBaoHanh.thoiGianBaoHanh,\r\n                                            donViBaoHanh: productNow.thongTinBaoHanh.donViBaoHanh\r\n                                        },\r\n                                        idBrand: productNow.idBrand,\r\n                                        idCategory: productNow.idCategory,\r\n                                        isLock: productNow.isLock\r\n                                    });\r\n                                }\r\n                            }}>\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaProduct === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaProduct === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item\r\n                                    name=\"button3\">\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\n\r\nexport default function ModalChiTietDonHang_ChuShop(props) {\r\n    const dataShowChiTietDonHang = props.dataShowChiTietDonHang;\r\n    const dataNguoiMua = props.dataNguoiMua;\r\n    const { Option } = Select;\r\n    const { TextArea } = Input;\r\n    const dispatch = useDispatch();\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false);\r\n    const showChiTietDonHang_ChuShop = useSelector(state => state.showChiTietDonHang_ChuShop);\r\n    const [spinnerChiTietDonHang, setSpinnerChiTietDonHang] = useState(0);\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerSuaChiTietDonHang, setSpinnerSuaChiTietDonHang] = useState(-1);\r\n    const [chiTietNow, setChiTietNow] = useState({\r\n        idShow: '',\r\n        ten: '',\r\n        thanhTien: '',\r\n        soLuong: '',\r\n        mauSac: '',\r\n        size: '',\r\n        ghiChu: '',\r\n        trangThai: ''\r\n    });\r\n    const [chiTietSua, setChiTietSua] = useState({\r\n        trangThai: '',\r\n        ghiChu: ''\r\n    });\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function CapNhatLichSu(idOrderDetail, trangThai) {\r\n        let result = await axios.put('hethong/lichsu-capnhat', {\r\n            idOrderDetail: idOrderDetail,\r\n            trangThai: trangThai\r\n        });\r\n\r\n        if (result.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            setStatusSua(0);\r\n            setSpinnerSuaChiTietDonHang(-1);\r\n            message.success(\"Cập nhật trạng thái thành công\");\r\n            dispatch({ type: 'CLOSE_CHITIET_DONHANG_CHUSHOP' });\r\n            setDisableOptions(false);\r\n        } else {\r\n            message.error('Cập nhật trạng thái thất bại');\r\n            dispatch({ type: 'CLOSE_CHITIET_DONHANG_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    async function SuaChiTietDonHang(idOrderDetail) {\r\n        setSpinnerSuaChiTietDonHang(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/order-details-sua', {\r\n                id: idOrderDetail,\r\n                trangThai: chiTietSua.trangThai,\r\n                ghiChu: chiTietSua.ghiChu\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                CapNhatLichSu(idOrderDetail, chiTietSua.trangThai);\r\n            }\r\n            else {\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                message.error(\"Sửa thất bại\");\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            dispatch({ type: 'CLOSE_CHITIET_DONHANG_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setChiTietNow({\r\n            idShow: dataShowChiTietDonHang.idShow,\r\n            ten: dataShowChiTietDonHang.ten,\r\n            thanhTien: dataShowChiTietDonHang.thanhTien,\r\n            soLuong: dataShowChiTietDonHang.soLuong,\r\n            mauSac: dataShowChiTietDonHang.mauSac,\r\n            size: dataShowChiTietDonHang.size,\r\n            ghiChu: dataShowChiTietDonHang.ghiChu,\r\n            trangThai: dataShowChiTietDonHang.trangThai\r\n        });\r\n    }, [dataShowChiTietDonHang])\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n    return (\r\n        <Modal show={showChiTietDonHang_ChuShop} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_DONHANG_CHUSHOP' });\r\n        }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                setStatusSua(0);\r\n                setStatusMessageError(-1);\r\n            }}>\r\n            {\r\n                spinnerChiTietDonHang === 1 && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietDonHang === 0 && (\r\n                    <Fragment>\r\n                        <h3 style={{ padding: 20 }}>Phần thông tin đơn hàng</h3>\r\n                        <Form\r\n                            name=\"basic\"\r\n                            layout='vertical'\r\n                            initialValues={{ remember: true }}\r\n                            style={{ padding: 20 }}>\r\n                            <Form.Item\r\n                                label=\"Tên sản phẩm\"\r\n                                name='tensanpham'>\r\n                                <Input disabled={true} defaultValue={chiTietNow.ten} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Màu sắc\"\r\n                                name=\"mausac\">\r\n                                <Input disabled={true} defaultValue={chiTietNow.mauSac === '' ? 'Không có' : chiTietNow.mauSac} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Size\"\r\n                                name=\"size\">\r\n                                <Input disabled={true} defaultValue={chiTietNow.size === '' ? 'Không có' : chiTietNow.size} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Số lượng\"\r\n                                name=\"soluong\">\r\n                                <Input disabled={true} defaultValue={chiTietNow.soLuong} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Tổng tiền\"\r\n                                name=\"tongtien\">\r\n                                <Input disabled={true} defaultValue={format_curency(chiTietNow.thanhTien.toString())} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Trạng thái đơn hàng\"\r\n                                name=\"trangthai\">\r\n                                <Select style={{ width: 300 }} disabled={!disableOptions} size='large' defaultValue={chiTietNow.trangThai} onChange={(value) => {\r\n                                    setChiTietSua({\r\n                                        ...chiTietSua,\r\n                                        trangThai: value\r\n                                    })\r\n                                }}>\r\n                                    <Option value={0}><span style={{ color: 'blue' }}><strong>Chờ duyệt</strong></span></Option>\r\n                                    <Option value={1}><span style={{ color: 'red' }}><strong>Đã duyệt</strong></span></Option>\r\n                                    <Option value={2}><span style={{ color: '#CC00FF' }}><strong>Đang vận chuyển</strong></span></Option>\r\n                                    <Option value={3}><span style={{ color: '#006600' }}><strong>Khách đã nhận hàng</strong></span></Option>\r\n                                    <Option value={4}><span style={{ color: 'green' }}><strong>Hoàn thành</strong></span></Option>\r\n                                    <Option value={5}><span style={{ color: 'black' }}><strong>Hủy</strong></span></Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Ghi chú\"\r\n                                name=\"ghichu\">\r\n                                <textarea style={{ width: '100%' }} rows={3} cols={50} disabled={!disableOptions} defaultValue={chiTietNow.ghiChu} onChange={(e) => {\r\n                                    setChiTietSua({\r\n                                        ...chiTietSua,\r\n                                        ghiChu: e.target.value\r\n                                    })\r\n                                }}></textarea>\r\n                            </Form.Item>\r\n                        </Form>\r\n                        <h3 style={{ padding: 20 }}>Phần thông tin người mua</h3>\r\n                        <Form\r\n                            name=\"basic\"\r\n                            layout='vertical'\r\n                            initialValues={{ remember: true }}\r\n                            style={{ padding: 20 }}>\r\n                            <Form.Item\r\n                                label=\"Tên người mua\"\r\n                                name=\"tennguoimua\">\r\n                                <Input disabled={true} defaultValue={dataNguoiMua.ten} />\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"Số điện thoại\"\r\n                                name=\"sdt\">\r\n                                <Input disabled={true} defaultValue={dataNguoiMua.sdt} />\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"Địa chỉ\"\r\n                                name=\"diachi\">\r\n                                <Input disabled={true} defaultValue={dataNguoiMua.diaChi} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item>\r\n                                {\r\n                                    statusMessageError === 0 && (\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Không thể cập nhật lại trạng thái đã có từ trước đó</p>\r\n                                    )\r\n                                }\r\n                                <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                    if (statusSua === 0) {\r\n                                        setStatusSua(1);\r\n                                        setDisableOptions(true);\r\n                                    } else {\r\n                                        if (chiTietSua.trangThai < chiTietNow.trangThai) {\r\n                                            setStatusMessageError(0);\r\n                                        } else {\r\n                                            setStatusMessageError(-1);\r\n                                            SuaChiTietDonHang(chiTietNow.idShow);\r\n                                        }\r\n                                    }\r\n                                    if (statusSua === 0) {\r\n                                        setChiTietSua({\r\n                                            trangThai: chiTietNow.trangThai,\r\n                                            ghiChu: chiTietNow.ghiChu\r\n                                        });\r\n                                    }\r\n\r\n                                }}>\r\n                                    {\r\n                                        statusSua === 0 && spinnerSuaChiTietDonHang === -1 ? \"Sửa\" : \"Lưu\"\r\n                                    }\r\n                                    {\r\n                                        spinnerSuaChiTietDonHang === 1 && (\r\n                                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                                <span className=\"sr-only\">Loading...</span>\r\n                                            </Spinner>\r\n                                        )\r\n                                    }\r\n                                </Button>\r\n                            </Form.Item>\r\n                            {\r\n                                showButtonHuy === true && (\r\n                                    <Form.Item>\r\n                                        <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                            setDisableOptions(false);\r\n                                            setStatusSua(0);\r\n                                        }}>Hủy</Button>\r\n                                    </Form.Item>\r\n                                )\r\n                            }\r\n                        </Form>\r\n                    </Fragment>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\n\r\n\r\nexport default function ModalChiTietCauHoi(props) {\r\n    const traLoi = props.traLoi;\r\n    const dispatch = useDispatch();\r\n    const showChiTietCauHoi = useSelector(state => state.showChiTietCauHoi);\r\n    const [spinnerChiTietCauHoi, setSpinnerChiTietCauHoi] = useState(false);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false)\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerSuaCauHoi, setSpinnerSuaCauHoi] = useState(-1);\r\n    const [statusError, setStatusError] = useState(-1);\r\n    const [cauHoiNow, setCauHoiNow] = useState({\r\n        _id: '',\r\n        idProduct: '',\r\n        question: '',\r\n        answer: '',\r\n        luotThich: '',\r\n        ngayTao: '',\r\n        ngayTraLoi: '',\r\n        isAccept: '',\r\n    });\r\n    const [cauHoiSua, setCauHoiSua] = useState({\r\n        answer: ''\r\n    });\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function SuaCauHoi(cauHoiID) {\r\n        setSpinnerSuaCauHoi(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/questanswer-sua', {\r\n                _id: cauHoiID,\r\n                answer: cauHoiSua.answer\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaCauHoi(-1);\r\n                message.success(\"Sửa thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_CAUHOI' });\r\n            }\r\n            else {\r\n                setSpinnerSuaCauHoi(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                dispatch({ type: 'CLOSE_CHITIET_CAUHOI' });\r\n                message.error(\"Sửa thất bại\");\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_CAUHOI' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n    async function LayCauHoiTheoID(cauHoiID) {\r\n        setSpinnerChiTietCauHoi(true);\r\n        let resData = await axios.get('hethong/questanswer-item-admin?id=' + cauHoiID);\r\n        if (resData.data.status === 'success') {\r\n            setCauHoiNow({\r\n                _id: resData.data.data._id,\r\n                idProduct: resData.data.data.idProduct,\r\n                question: resData.data.data.question,\r\n                answer: resData.data.data.answer,\r\n                luotThich: resData.data.data.luotThich,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                ngayTraLoi: resData.data.data.ngayTraLoi,\r\n                isAccept: resData.data.data.isAccept\r\n            });\r\n            setSpinnerChiTietCauHoi(false);\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi thất bại\");\r\n            setSpinnerChiTietCauHoi(false);\r\n            dispatch({ type: 'CLOSE_CHITIET_CAUHOI' });\r\n        }\r\n    }\r\n\r\n    async function DuyetCauHoi(cauHoiID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.put('hethong/questanswer-duyet', {\r\n            _id: cauHoiID\r\n        });\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error(\"Duyệt câu hỏi thất bại\");\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n    return (\r\n        <Modal show={showChiTietCauHoi} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_CAUHOI' });\r\n        }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                LayCauHoiTheoID(objectIDDuocChonReducer);\r\n                if (traLoi) {\r\n                    setStatusSua(1);\r\n                    setDisableOptions(true);\r\n                } else {\r\n                    setStatusSua(0);\r\n                    setDisableOptions(false);\r\n                }\r\n            }}>\r\n            {\r\n                spinnerChiTietCauHoi === true && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietCauHoi === false && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n\r\n                        <Form.Item\r\n                            label=\"ID sản phẩm\"\r\n                            name=\"id\">\r\n                            <Input disabled={true} defaultValue={cauHoiNow.idProduct} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Câu hỏi\"\r\n                            name=\"cauhoi\">\r\n                            <Input disabled={true} defaultValue={cauHoiNow.question} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trả lời\"\r\n                            name=\"traloi\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập nội dung' }]}>\r\n                            <textarea style={{ width: '100%' }} disabled={!disableOptions} rows=\"4\" cols=\"50\" defaultValue={cauHoiNow.answer} onChange={(e) => {\r\n                                setCauHoiSua({\r\n                                    ...cauHoiSua,\r\n                                    answer: e.target.value\r\n                                });\r\n                            }}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(cauHoiNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày trả lời\"\r\n                            name=\"ngaytraloi\">\r\n                            <Input disabled={true} defaultValue={cauHoiNow.ngayTraLoi === '' ? 'Chưa xác định' : hamChuyenDoiNgay(new Date(cauHoiNow.ngayTraLoi))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            {\r\n                                statusError === 0 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Nhập phần Trả lời trước khi lưu để được duyệt</p>\r\n                                )\r\n                            }\r\n                            {\r\n                                statusError === 1 && (\r\n                                    <p style={{ color: 'red', lineHeight: 1.5 }}>Phần trả lời không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                                )\r\n                            }\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }}\r\n                                onClick={() => {\r\n\r\n                                    if (statusSua === 0) {\r\n                                        setStatusSua(1);\r\n                                        setDisableOptions(true);\r\n                                    } else {\r\n                                        if (traLoi) {\r\n                                            if (cauHoiSua.answer.trim().length === 0) {\r\n                                                setStatusError(0); //Lỗi không cho duyệt khi chưa trả lời\r\n                                            } else {\r\n                                                SuaCauHoi(cauHoiNow._id);\r\n                                                DuyetCauHoi(cauHoiNow._id);\r\n                                            }\r\n                                        } else {\r\n                                            if (cauHoiSua.answer.trim().length !== 0) {\r\n                                                setStatusError(1); //Câu trả lời không được rỗng\r\n                                            } else {\r\n                                                SuaCauHoi(cauHoiNow._id);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    if (statusSua === 0) {\r\n                                        setCauHoiSua({\r\n                                            answer: cauHoiNow.answer,\r\n                                            isAccept: cauHoiNow.isAccept\r\n                                        });\r\n                                    }\r\n                                }}>\r\n\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaCauHoi === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaCauHoi === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item>\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\n\r\nexport default function ModalChiTietNhanXet(props) {\r\n    const traLoi = props.traLoi;\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const showChiTietNhanXet = useSelector(state => state.showChiTietNhanXet);\r\n    const [spinnerChiTietNhanXet, setSpinnerChiTietNhanXet] = useState(false);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [showButtonHuy, setShowButtonHuy] = useState(false)\r\n    const [disableOptions, setDisableOptions] = useState(false);\r\n    const [statusSua, setStatusSua] = useState(0);\r\n    const [spinnerSuaNhanXet, setSpinnerSuaNhanXet] = useState(-1);\r\n    const [nhanXetNow, setNhanXetNow] = useState({\r\n        _id: '',\r\n        idProduct: '',\r\n        soSao: '',\r\n        tieuDe: '',\r\n        noiDung: '',\r\n        traLoi: '',\r\n        ngayTao: '',\r\n        ngayTraLoi: '',\r\n        isAccept: '',\r\n    });\r\n    const [nhanXetSua, setNhanXetSua] = useState({\r\n        traLoi: ''\r\n    });\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function SuaNhanXet(nhanXetID) {\r\n        setSpinnerSuaNhanXet(1);\r\n        setDisableOptions(false);\r\n        if (statusSua === 1) {\r\n            let resData = await axios.put('hethong/comments-sua', {\r\n                _id: nhanXetID,\r\n                traLoi: nhanXetSua.traLoi\r\n            });\r\n\r\n            if (resData.data.status === 'success') {\r\n                dispatch({ type: 'RELOAD_DATABASE' });\r\n                setStatusSua(0);\r\n                setSpinnerSuaNhanXet(-1);\r\n                message.success(\"Sửa thành công\");\r\n                setDisableOptions(false);\r\n                dispatch({ type: 'CLOSE_CHITIET_COMMENT' });\r\n            }\r\n            else {\r\n                setSpinnerSuaNhanXet(0);\r\n                setStatusSua(0);\r\n                setDisableOptions(true);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                dispatch({ type: 'CLOSE_CHITIET_COMMENT' });\r\n                message.error(\"Sửa thất bại\");\r\n            }\r\n\r\n        } else {\r\n            dispatch({ type: 'CLOSE_CHITIET_COMMENT' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n    async function LayNhanXetTheoID(nhanXetID) {\r\n        setSpinnerChiTietNhanXet(true);\r\n        let resData = await axios.get('hethong/comments-item-admin?id=' + nhanXetID);\r\n        if (resData.data.status === 'success') {\r\n            setNhanXetNow({\r\n                _id: resData.data.data._id,\r\n                idProduct: resData.data.data.idProduct,\r\n                soSao: resData.data.data.soSao,\r\n                tieuDe: resData.data.data.tieuDe,\r\n                noiDung: resData.data.data.noiDung,\r\n                traLoi: resData.data.data.traLoi,\r\n                ngayTao: resData.data.data.ngayTao,\r\n                ngayTraLoi: resData.data.data.ngayTraLoi,\r\n                isAccept: resData.data.data.isAccept,\r\n            });\r\n            setSpinnerChiTietNhanXet(false);\r\n        } else {\r\n            message.error(\"Lấy data nhận xét thất bại\");\r\n            setSpinnerChiTietNhanXet(false);\r\n            dispatch({ type: 'CLOSE_CHITIET_COMMENT' });\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (statusSua === 1) {\r\n            setShowButtonHuy(true)\r\n        } else {\r\n            setShowButtonHuy(false)\r\n        }\r\n    }, [statusSua])\r\n\r\n\r\n    return (\r\n        <Modal show={showChiTietNhanXet} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CHITIET_COMMENT' });\r\n        }}\r\n            onShow={() => {\r\n                setDisableOptions(false);\r\n                if (traLoi) {\r\n                    setStatusSua(1);\r\n                    setDisableOptions(true);\r\n                } else {\r\n                    setStatusSua(0);\r\n                    setDisableOptions(false);\r\n                }\r\n                LayNhanXetTheoID(objectIDDuocChonReducer);\r\n            }}>\r\n            {\r\n                spinnerChiTietNhanXet === true && (\r\n                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 400 }}>\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                )\r\n            }\r\n            {\r\n                spinnerChiTietNhanXet === false && (\r\n                    <Form\r\n                        name=\"basic\"\r\n                        layout='vertical'\r\n                        initialValues={{ remember: true }}\r\n                        style={{ padding: 40 }}>\r\n\r\n                        <Form.Item\r\n                            label=\"ID sản phẩm\"\r\n                            name=\"id\">\r\n                            <Input disabled={true} defaultValue={nhanXetNow.idProduct} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Số sao\"\r\n                            name=\"sosao\">\r\n                            <Input disabled={true} defaultValue={nhanXetNow.soSao} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Tiêu đề\"\r\n                            name=\"tieude\">\r\n                            <Input disabled={true} defaultValue={nhanXetNow.tieuDe} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Nội dung\"\r\n                            name=\"noidung\">\r\n                            <textarea style={{ width: '100%' }} disabled={true} rows=\"4\" cols=\"50\" defaultValue={nhanXetNow.noiDung}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Trả lời\"\r\n                            name=\"traloi\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập câu trả lời cho khách hàng' }]}>\r\n                            <textarea style={{ width: '100%' }} disabled={!disableOptions} rows=\"4\" cols=\"50\" defaultValue={nhanXetNow.traLoi} onChange={(e) => {\r\n                                setNhanXetSua({\r\n                                    ...nhanXetSua,\r\n                                    traLoi: e.target.value\r\n                                });\r\n                            }}>\r\n                            </textarea>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày tạo\"\r\n                            name=\"ngaytao\">\r\n                            <Input disabled={true} defaultValue={hamChuyenDoiNgay(new Date(nhanXetNow.ngayTao))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày trả lời\"\r\n                            name=\"ngaytraloi\">\r\n                            <Input disabled={true} defaultValue={nhanXetNow.ngayTraLoi === '' ? 'Chưa xác định' : hamChuyenDoiNgay(new Date(nhanXetNow.ngayTraLoi))} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }}\r\n                                onClick={() => {\r\n                                    if (statusSua === 0) {\r\n                                        setStatusSua(1);\r\n                                        setDisableOptions(true);\r\n                                    } else {\r\n                                        SuaNhanXet(nhanXetNow._id);\r\n                                    }\r\n                                    if (statusSua === 0) {\r\n                                        setNhanXetSua({\r\n                                            traLoi: nhanXetNow.traLoi\r\n                                        });\r\n                                    }\r\n                                }}>\r\n\r\n                                {\r\n                                    statusSua === 0 && spinnerSuaNhanXet === -1 ? \"Sửa\" : \"Lưu\"\r\n                                }\r\n                                {\r\n                                    spinnerSuaNhanXet === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 40 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            showButtonHuy === true && (\r\n                                <Form.Item>\r\n                                    <Button variant=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                                        setDisableOptions(false);\r\n                                        setStatusSua(0);\r\n                                    }}>Hủy</Button>\r\n                                </Form.Item>\r\n                            )\r\n                        }\r\n                    </Form>\r\n                )\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Image, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, Popconfirm, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\n\r\nexport default function ModalCapNhatKho() {\r\n    const showModalCapNhatKho = useSelector(state => state.showModalCapNhatKho);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [soLuongThem, setSoLuongThem] = useState(0);\r\n    const [isNumber, setIsNumber] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    function KiemTraKieuDuLieuNhap() {\r\n        var filterSoLuong = /^\\d+$/;\r\n\r\n        if (filterSoLuong.test(soLuongThem) && soLuongThem > 0) {\r\n            setIsNumber(true);\r\n            CapNhatSoLuongTrongKho()\r\n        } else {\r\n            setIsNumber(false);\r\n        }\r\n    }\r\n\r\n    async function CapNhatSoLuongTrongKho() {\r\n        let res = await axios.put('hethong/products-capnhatsoluong', {\r\n            id: objectIDDuocChonReducer,\r\n            soLuongThem: soLuongThem\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Cập nhật số lượng thành công');\r\n            dispatch({ type: 'CLOSE_CAPNHATKHO' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Cập nhật số lượng thất bại');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={showModalCapNhatKho} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CAPNHATKHO' });\r\n            setIsNumber(true);\r\n        }}>\r\n            <Form name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n                <Form.Item\r\n                    label=\"Số lượng mới\"\r\n                    name=\"soluong\">\r\n                    <Input onChange={(e) => {\r\n                        setSoLuongThem(parseInt(e.target.value));\r\n                        setIsNumber(true);\r\n                    }} />\r\n                </Form.Item>\r\n                {\r\n                    isNumber === false && (\r\n                        <span style={{ color: 'red' }}>Dữ liệu không hợp lệ</span>\r\n                    )\r\n                }\r\n                <Form.Item>\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                        KiemTraKieuDuLieuNhap()\r\n                    }}>Cập nhật\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, Image, Spinner, Button } from 'react-bootstrap';\r\nimport { Form, Input, Select, Popconfirm, message } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\n\r\nexport default function ModalCapNhatKho() {\r\n    const showModalCapNhatGiaTriGiam = useSelector(state => state.showModalCapNhatGiaTriGiam);\r\n    const objectIDDuocChonReducer = useSelector(state => state.objectIDDuocChon);\r\n    const [giaTriGiam, setGiaTriGiam] = useState(0);\r\n    const [gia,setGia]=useState(0);\r\n    const [isNumber, setIsNumber] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    function KiemTraKieuDuLieuNhap() {\r\n        var filterGiaTriGiam = /^\\d+$/;\r\n\r\n        if (filterGiaTriGiam.test(giaTriGiam) && giaTriGiam >= 0) {\r\n            setIsNumber(true);\r\n            CapNhatGiaTriGiam()\r\n        } else {\r\n            setIsNumber(false);\r\n        }\r\n    }\r\n\r\n    async function CapNhatGiaTriGiam() {\r\n        let res = await axios.put('hethong/products-capnhatgiatrigiamgia', {\r\n            id: objectIDDuocChonReducer,\r\n            gia: gia,\r\n            giaTriGiamGia: giaTriGiam\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Cập nhật giá trị giảm giá thành công');\r\n            dispatch({ type: 'CLOSE_CAPNHATGIATRIGIAM' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Cập nhật giá trị giảm giá thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayGiaProductTheoID() {\r\n        let res = await axios.get('hethong/products-item?id=' + objectIDDuocChonReducer);\r\n        \r\n        if(res.data.status ==='success'){\r\n            setGia(res.data.data.gia);\r\n        }else{\r\n            message.error('Lấy data giá sản phẩm này thất bại');\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n        <Modal show={showModalCapNhatGiaTriGiam} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_CAPNHATGIATRIGIAM' });\r\n            setIsNumber(true);\r\n        }}\r\n        onShow={()=>{\r\n            LayGiaProductTheoID();\r\n        }}>\r\n            <Form name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n                <Form.Item\r\n                    label=\"Giá trị giảm giá\"\r\n                    name=\"giatrigiam\">\r\n                    <Input onChange={(e) => {\r\n                        setGiaTriGiam(parseInt(e.target.value));\r\n                        setIsNumber(true);\r\n                    }} /><br></br>\r\n                    <span>(Nếu giá trị nhập nhỏ hơn 100 thì hệ thống sẽ tự động giảm theo %)</span>\r\n                </Form.Item>\r\n                {\r\n                    isNumber === false && (\r\n                        <span style={{ color: 'red' }}>Dữ liệu không hợp lệ</span>\r\n                    )\r\n                }\r\n                <Form.Item>\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                        KiemTraKieuDuLieuNhap()\r\n                    }}>Cập nhật\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Modal, Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Button, DatePicker, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport moment from 'moment';\r\n\r\nexport default function ModalThemMaGiamGia() {\r\n    const { RangePicker } = DatePicker;\r\n    const [statusMessageError, setStatusMessageError] = useState(-1);\r\n    const showModalThemMaGiamGiaReducer = useSelector(state => state.showModalThemVoucher);\r\n    const [spinnerThemMaGiamGia, setSpinnerThemMaGiamGia] = useState(-1);\r\n    const dispatch = useDispatch();\r\n    const [dataThem, setDataThem] = useState({\r\n        idShow: '',\r\n        ten: '',\r\n        loaiGiamGia: 0,\r\n        giaTriGiam: 0,\r\n        ngayBatDau: '',\r\n        ngayKetThuc: ''\r\n    });\r\n\r\n    function disabledDate(current) {\r\n        // Can not select days before today and today\r\n        return current && current < moment().endOf('day');\r\n    }\r\n\r\n    function KiemTraDuLieuNhap(data) {\r\n        var regNum = /^\\d+$/;\r\n        if (data.idShow.trim().length === 0 || data.ten.trim().length === 0 || data.giaTriGiam === '' || data.ngayBatDau === '' || data.ngayKetThuc === '') {\r\n            setStatusMessageError(0);\r\n        } else {\r\n            if (!regNum.test(data.giaTriGiam)) {\r\n                setStatusMessageError(1);\r\n            } else {\r\n                ThemMaGiamGia();\r\n                setStatusMessageError(-1);\r\n            }\r\n        }\r\n    }\r\n\r\n    async function ThemMaGiamGia() {\r\n        setSpinnerThemMaGiamGia(1);\r\n        let res = await axios.post('hethong/vouchers-them', {\r\n            idShow: dataThem.idShow,\r\n            ten: dataThem.ten,\r\n            loaiGiamGia: dataThem.loaiGiamGia,\r\n            giaTriGiam: dataThem.giaTriGiam,\r\n            ngayBatDau: dataThem.ngayBatDau,\r\n            ngayKetThuc: dataThem.ngayKetThuc\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(\"Thêm thành công\");\r\n            dispatch({ type: 'CLOSE_THEM_VOUCHER' });\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            setSpinnerThemMaGiamGia(0);\r\n        } else {\r\n            message.error(\"Thêm thất bại\");\r\n            setSpinnerThemMaGiamGia(0);\r\n            dispatch({ type: 'CLOSE_THEM_VOUCHER' });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={showModalThemMaGiamGiaReducer} size=\"lg\" animation={false} onHide={() => {\r\n            dispatch({ type: 'CLOSE_THEM_VOUCHER' });\r\n        }}\r\n            onShow={() => {\r\n                setStatusMessageError(-1);\r\n                setDataThem({\r\n                    idShow: '',\r\n                    ten: '',\r\n                    loaiGiamGia: 0,\r\n                    giaTriGiam: 0,\r\n                    ngayBatDau: '',\r\n                    ngayKetThuc: ''\r\n                })\r\n            }}>\r\n            <Form\r\n                name=\"basic\"\r\n                layout='vertical'\r\n                initialValues={{ remember: true }}\r\n                style={{ padding: 40 }}>\r\n\r\n                <Form.Item\r\n                    label=\"ID Voucher\"\r\n                    name=\"id\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên ID voucher' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            idShow: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Tên\"\r\n                    name=\"ten\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên Voucher' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            ten: e.target.value\r\n                        })\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Giá trị giảm giá\"\r\n                    name=\"giatrigiam\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập giá trị giảm voucher' }]}>\r\n                    <Input onChange={(e) => {\r\n                        setDataThem({\r\n                            ...dataThem,\r\n                            giaTriGiam: parseInt(e.target.value)\r\n                        })\r\n                    }} />(Nếu giá trị nhập nhỏ hơn 100 thì hệ thống sẽ tự động giảm theo %)\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"Ngày bắt đầu - Ngày kết thúc\"\r\n                    name=\"ngay\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn ngày bắt đầu và ngày kết thúc voucher' }]}>\r\n                    <RangePicker style={{ width: '100%' }} format=\"DD-MM-YYYY\" disabledDate={disabledDate} onChange={(dates, dateStrings) => {\r\n                        if (dates !== null) {\r\n                            setDataThem({\r\n                                ...dataThem,\r\n                                ngayBatDau: new Date(dates[0]),\r\n                                ngayKetThuc: new Date(dates[1])\r\n                            })\r\n                        }\r\n                    }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    {\r\n                        statusMessageError === 0 && (\r\n                            <p style={{ color: 'red', lineHeight: 1.5 }}>Thông tin tạo mới danh mục sản phẩm không hợp lệ. Vui lòng kiểm tra lại</p>\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        statusMessageError === 1 && (\r\n                            <p style={{ color: 'red', lineHeight: 1.5 }}>Giá trị giảm giá không hợp lệ</p>\r\n                        )\r\n                    }\r\n                    <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }}\r\n                        onMouseOver={() => {\r\n                            if (dataThem.giaTriGiam < 100) {\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    loaiGiamGia: 1\r\n                                })\r\n                            }\r\n                        }}\r\n                        onClick={() => {\r\n                            KiemTraDuLieuNhap(dataThem)\r\n                        }}>\r\n                        {\r\n                            spinnerThemMaGiamGia === 1 ?\r\n                                <Spinner animation=\"border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </Spinner> : \"Thêm\"\r\n\r\n                        }\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Popconfirm, Button } from 'antd';\r\nimport { ModalThemCategory, ModalChiTietCategory } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { DeleteOutlined, EditOutlined, LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLCategoryComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataCategoryTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/categorys/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachCategorySearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/categorys-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataCategory_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/categorys-chuakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataCategory(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataCategory_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/categorys-dakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataCategory(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data danh mục sản phẩm đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaDanhMuc(id) {\r\n        let res = await axios.put('hethong/categorys-khoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function MoKhoaDanhMuc(id) {\r\n        let res = await axios.put('hethong/categorys-mokhoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Mở khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Mở khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function XoaDanhMuc(id) {\r\n        let resData = await axios.put('hethong/categorys-xoa', {\r\n            id: id\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Xóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Xóa thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCategoryTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataCategoryTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataCategoryTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataCategory_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataCategory_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalThemCategory></ModalThemCategory>\r\n            <ModalChiTietCategory></ModalChiTietCategory>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID hoặc Tên Category' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachCategorySearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                </Select>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    dispatch({ type: 'SHOW_THEM_CATEGORY' });\r\n                                }}>\r\n                                    Thêm mới +\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tên</th>\r\n                                <th>Icon</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataCategory.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idShow}</td>\r\n                                            <td>{item.ten}</td>\r\n                                            {\r\n                                                item.icon.length === 0 ? <td>Không</td> : <td><i className={item.icon}></i></td>\r\n                                            }\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td><span style={{ color: item.isLock === false ? 'red' : 'blue' }}><strong>{item.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 10 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EditOutlined />} size='large' onClick={() => {\r\n                                                        dispatch({ type: 'SHOW_CHITIET_CATEGORY' });\r\n                                                    }} />\r\n                                                    <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaDanhMuc(item._id);\r\n                                                        } else {\r\n                                                            KhoaDanhMuc(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                    <Popconfirm title=\"Bạn có chắc chắn muốn xóa\" okText=\"Có\" cancelText=\"Không\" onConfirm={() => {\r\n                                                        XoaDanhMuc(item._id);\r\n                                                    }}>\r\n                                                        <Button style={{ marginLeft: 25 }} size='large' type=\"danger\" icon={<DeleteOutlined />} />\r\n                                                    </Popconfirm>\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataCategoryTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataCategory_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataCategory_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachCategorySearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button } from 'antd';\r\nimport { ModalThemVoucher } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLMaGiamGiaComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataVoucher, setDataVoucher] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataVoucherTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/vouchers-admin/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataVoucher(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data mã giảm giá thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachVoucherSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/vouchers-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataVoucher(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data mã giảm giá theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataVoucher_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/vouchers-admin-chuakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataVoucher(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data mã giảm giá chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataVoucher_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/vouchers-admin-dakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataVoucher(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaVoucher(cauHoiID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.put('hethong/vouchers-khoa', {\r\n            _id: cauHoiID\r\n        });\r\n        if (resData.data.status === 'success') {\r\n            message.success(\"Khóa thành công\");\r\n            dispatch({ type: 'RELOAD_DATABASE' })\r\n        } else {\r\n            message.error(\"Khóa thất bại\");\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' })\r\n        }\r\n    }\r\n\r\n    async function MoKhoaVoucher(cauHoiID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.put('hethong/vouchers-mokhoa', {\r\n            _id: cauHoiID\r\n        });\r\n        if (resData.data.status === 'success') {\r\n            message.success(\"Mở khóa thành công\");\r\n            dispatch({ type: 'RELOAD_DATABASE' })\r\n\r\n        } else {\r\n            message.error(\"Mở khóa thất bại\");\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' })\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataVoucherTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataVoucherTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataVoucherTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataVoucher_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataVoucher_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalThemVoucher></ModalThemVoucher>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID voucher' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachVoucherSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                </Select>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    dispatch({ type: 'SHOW_THEM_VOUCHER' });\r\n                                }}>\r\n                                    Thêm mới +\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tên</th>\r\n                                <th>Loại giảm</th>\r\n                                <th>Giá trị giảm</th>\r\n                                <th>Ngày bắt đầu</th>\r\n                                <th>Ngày kết thúc</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataVoucher.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idShow}</td>\r\n                                            <td>{item.ten}</td>\r\n                                            <td>{item.loaiGiamGia === 0 ? 'Theo thành tiền' : 'Theo phần trăm'}</td>\r\n                                            {\r\n                                                item.loaiGiamGia === 0 && (\r\n                                                    <td>{format_curency(item.giaTriGiam.toString())} đ</td>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.loaiGiamGia === 1 && (\r\n                                                    <td>{item.giaTriGiam}%</td>\r\n                                                )\r\n                                            }\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayBatDau))}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayKetThuc))}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td style={{ width: 150 }}><span style={{ color: item.isLock === false ? 'red' : 'blue' }}><strong>{item.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 100, paddingTop: 15 }}>\r\n                                                <center>\r\n                                                    <Button size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaVoucher(item._id);\r\n                                                        } else {\r\n                                                            KhoaVoucher(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataVoucherTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataVoucher_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataVoucher_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachVoucherSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Select, Input, message, Button, Popconfirm } from 'antd';\r\nimport { ModalThemBrand, ModalChiTietBrand } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { DeleteOutlined, EditOutlined, LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLBrandComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataBrand, setDataBrand] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var now = new Date();\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataBrandTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/brands/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataBrand(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataBrand_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/brands-chuakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataBrand(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataBrand_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/brands-dakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataBrand(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachBrandSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/brands-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataBrand(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaThuongHieu(id) {\r\n        let res = await axios.put('hethong/brands-khoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function MoKhoaThuongHieu(id) {\r\n        let res = await axios.put('hethong/brands-mokhoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Mở khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Mở khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function XoaThuongHieu(id) {\r\n        let resData = await axios.put('hethong/brands-xoa', {\r\n            id: id\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Xóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Xóa thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataBrandTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataBrandTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataBrandTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataBrand_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataBrand_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalThemBrand></ModalThemBrand>\r\n            <ModalChiTietBrand></ModalChiTietBrand>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID hoặc Tên thương hiệu' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachBrandSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    dispatch({ type: 'SHOW_THEM_BRAND' });\r\n                                }}>\r\n                                    Thêm mới +\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tên</th>\r\n                                <th>Hình ảnh</th>\r\n                                <th>Xuất xứ</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataBrand.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idShow}</td>\r\n                                            <td style={{ width: 300 }}>{item.ten}</td>\r\n                                            {\r\n                                                item.img.length === 0 ? <td><Image src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td> :\r\n                                                    <td><Image src={item.img} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                            }\r\n                                            <td>{item.xuatXu}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td><span style={{ color: item.isLock === false ? 'red' : 'blue' }}><strong>{item.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 40 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EditOutlined />} size='large' onClick={() => {\r\n                                                        dispatch({ type: 'SHOW_CHITIET_BRAND' });\r\n                                                    }} />\r\n                                                    <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaThuongHieu(item._id);\r\n                                                        } else {\r\n                                                            KhoaThuongHieu(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                    <Popconfirm title=\"Bạn có chắc chắn muốn xóa\" okText=\"Có\" cancelText=\"Không\" onConfirm={() => {\r\n                                                        XoaThuongHieu(item._id);\r\n                                                    }}>\r\n                                                        <Button style={{ marginLeft: 25 }} size='large' type=\"danger\" icon={<DeleteOutlined />} />\r\n                                                    </Popconfirm>\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataBrandTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataBrand_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataBrand_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachBrandSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Button, Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\n\r\nexport default function QLDonHangComponent() {\r\n    const dispatch = useDispatch();\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataDonHang, setDataDonHang] = useState([]);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [dataChiTietDonHang, setDataChiTietDonHang] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [trangThaiShow, setTrangThaiShow] = useState([]);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataDonHangTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/orders/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data đơn hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDDonHang(idDonHang) {\r\n        let resData = await axios.get('hethong/order-details-all');\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachDonHangSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/orders-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data đơn hàng theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataDonHangTheoTrang(pageNow);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        var array = [];\r\n        for (let index = 0; index < dataDonHang.length; index++) {\r\n            array.push(false);\r\n        }\r\n        setTrangThaiShow(array);\r\n    }, [dataDonHang])\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataDonHangTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID Đơn hàng hoặc Tên khách hàng' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button variant=\"primary\" style={{ width: 200 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachDonHangSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID Đơn hàng</th>\r\n                                <th>Tên người mua</th>\r\n                                <th>ID tài khoản mua</th>\r\n                                <th>Số lượng sản phẩm</th>\r\n                                <th>Tổng tiền</th>\r\n                                <th>Ngày tạo đơn</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataDonHang.map((item, i) => {\r\n                                        return <Fragment key={i}>\r\n                                            <tr style={{ backgroundColor: trangThaiShow[i] === true ? 'grey' : 'white' }}>\r\n                                                <td>{item.idShow}</td>\r\n                                                <td>{item.thongTinNguoiMua.ten}</td>\r\n                                                <td>{item.idUser}</td>\r\n                                                <td>{item.soLuongSanPham}</td>\r\n                                                <td>{format_curency(item.tongTien.toString())}</td>\r\n                                                <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                                <td>\r\n                                                    <center>\r\n                                                        <a style={{ color: trangThaiShow[i] === true ? 'white' : 'blue' }} href='/' onClick={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            if (trangThaiShow[i] === true) {\r\n                                                                trangThaiShow[i] = false;\r\n                                                                setTrangThaiShow([\r\n                                                                    ...trangThaiShow,\r\n                                                                ])\r\n                                                            } else {\r\n                                                                trangThaiShow[i] = true;\r\n                                                                setTrangThaiShow([\r\n                                                                    ...trangThaiShow,\r\n                                                                ])\r\n                                                            }\r\n                                                            LayDataChiTietDonHang_TheoIDDonHang(item.idShow);\r\n                                                        }}>\r\n                                                            {\r\n                                                                trangThaiShow[i] === true ? (\r\n                                                                    <strong>\r\n                                                                        Đóng <i class=\"fa fa-angle-up\"></i>\r\n                                                                    </strong>\r\n                                                                ) : (<strong>\r\n                                                                    Xem chi tiết <i class=\"fa fa-angle-down\"></i>\r\n                                                                </strong>)\r\n                                                            }\r\n\r\n                                                        </a>\r\n                                                    </center>\r\n                                                </td>\r\n                                            </tr>\r\n                                            {\r\n                                                trangThaiShow[i] === true && dataChiTietDonHang.length > 0 && (\r\n                                                    <Fragment>\r\n                                                        <tr style={{ backgroundColor: 'silver' }}>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>ID Chi tiết</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }} colSpan={2}>Tên sản phẩm</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>Màu sắc</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>Size</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>Số lượng</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>Thành tiền</td>\r\n                                                            <td style={{ fontWeight: 'bold', textAlign: 'center' }}>Trạng thái</td>\r\n                                                        </tr>\r\n                                                        {\r\n                                                            dataChiTietDonHang.map((item2, i2) => {\r\n                                                                if (item2.idOrder === item.idShow) {\r\n                                                                    return <tr key={i2} style={{ backgroundColor: 'silver' }}>\r\n                                                                        <td >{item2.idShow}</td>\r\n                                                                        <td colSpan={2}>{item2.ten}</td>\r\n                                                                        <td >{item2.mauSac === '' ? 'Không có' : item2.mauSac}</td>\r\n                                                                        <td >{item2.size === '' ? 'Không có' : item2.size}</td>\r\n                                                                        <td >{item2.soLuong}</td>\r\n                                                                        <td >{format_curency(item2.thanhTien.toString())}</td>\r\n                                                                        <td >\r\n                                                                            {\r\n                                                                                item2.trangThai === 0 && (\r\n                                                                                    <span style={{ color: 'blue' }}><strong>Chờ duyệt từ shop</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item2.trangThai === 1 && (\r\n                                                                                    <span style={{ color: 'red' }}><strong>Shop đã tiếp nhận</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item2.trangThai === 2 && (\r\n                                                                                    <span style={{ color: '#CC00FF' }}><strong>Đang vận chuyển</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item2.trangThai === 3 && (\r\n                                                                                    <span style={{ color: '#006600' }}><strong>Khách đã nhận hàng</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item2.trangThai === 4 && (\r\n                                                                                    <span style={{ color: 'green' }}><strong>Hoàn thành</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item2.trangThai === 5 && (\r\n                                                                                    <span style={{ color: 'black' }}><strong>Hủy</strong></span>\r\n                                                                                )\r\n                                                                            }\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                }\r\n                                                            })\r\n                                                        }\r\n                                                    </Fragment>\r\n                                                )\r\n                                            }\r\n                                        </Fragment>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            LayDataDonHangTheoTrang(page - 1);\r\n                        } else {\r\n                            LayDanhSachDonHangSearch(page - 1);\r\n                        }\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Spinner, Image } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n\r\nexport default function QLGianHangComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataShop, setDataShop] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataShopTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users/shop/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataShop(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data gian hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataShop_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users/shop-chuakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataShop(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data gian hàng chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataShop_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users/shop-dakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataShop(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data gian hàng đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachGianHangSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users/shop-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataShop(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data gian hàng theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaShop(shopID) {\r\n        let res = await axios.put('hethong/users/shop-khoashop', {\r\n            id: shopID\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function MoKhoaShop(shopID) {\r\n        let res = await axios.put('hethong/users/shop-mokhoashop', {\r\n            id: shopID\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Mở khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Mở khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataShopTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataShopTheoTrang(0);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataShopTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataShop_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataShop_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID hoặc Tên shop' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachGianHangSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                    setPageNow(1);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tên gian hàng</th>\r\n                                <th>Logo</th>\r\n                                <th>Địa chỉ</th>\r\n                                <th>Mô tả gian hàng</th>\r\n                                <th>Ngày tạo</th>\r\n                                {/* <th>Ví WareHouse</th> */}\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataShop.map((item, i) => {\r\n                                        return <tr key={i}>\r\n                                            <td>{item.thongTinShop.idShop}</td>\r\n                                            <td>{item.thongTinShop.ten}</td>\r\n                                            <td><Image src={item.thongTinShop.logoShop === '' ? \"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" : item.thongTinShop.logoShop} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                            <td>{item.thongTinShop.diaChi}</td>\r\n                                            <td>{item.thongTinShop.moTa}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.thongTinShop.ngayTao))}</td>\r\n                                            {/* <td>{item.thongTinShop.viShop}<br></br>\r\n                                                <PaypalExpressBtn\r\n                                                    \r\n                                                />\r\n                                            </td> */}\r\n                                            <td style={{ width: 150 }}><span style={{ color: item.thongTinShop.isLock === false ? 'red' : 'blue' }}><strong>{item.thongTinShop.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 100, paddingTop: 45 }}>\r\n                                                <center>\r\n                                                    <Button size='large' type=\"primary\" icon={item.thongTinShop.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                        if (item.thongTinShop.isLock) {\r\n                                                            MoKhoaShop(item.thongTinShop.idShop);\r\n                                                        } else {\r\n                                                            KhoaShop(item.thongTinShop.idShop);\r\n                                                        }\r\n                                                    }} />\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataShopTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataShop_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataShop_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachGianHangSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function QuanLyNguoiDungComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataUser, setDataUser] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataUserTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataUser(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data người dùng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachUserSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataUser(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data người dùng theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataUser_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users-chuakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataUser(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data người dùng chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataUser_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/users-dakhoa/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataUser(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data người dùng đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaUser(userID) {\r\n        let res = await axios.put('hethong/users-khoauser', {\r\n            id: userID\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function MoKhoaUser(userID) {\r\n        let res = await axios.put('hethong/users-mokhoauser', {\r\n            id: userID\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Mở khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Mở khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataUserTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataUserTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataUserTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataUser_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataUser_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo Email/SĐT hoặc Tên khách hàng' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachUserSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Tên người dùng</th>\r\n                                <th>Email</th>\r\n                                <th>SĐT</th>\r\n                                <th>Chứng minh thư</th>\r\n                                <th>Giới tính</th>\r\n                                <th>Ngày sinh</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataUser.map((item, i) => {\r\n                                        return <tr key={i}>\r\n                                            <td>{item.ten}</td>\r\n                                            <td>{item.email}</td>\r\n                                            <td>{item.sdt}</td>\r\n                                            <td>{item.cmnd}</td>\r\n                                            <td>{item.gioiTinh === 0 ? 'Nữ' : 'Nam'}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngaySinh))}</td>\r\n                                            <td style={{ width: 150 }}><span style={{ color: item.thongTinShop.isLock === false ? 'red' : 'blue' }}><strong>{item.thongTinShop.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 100, paddingTop: 15 }}>\r\n                                                <center>\r\n                                                    <Button size='large' type=\"primary\" icon={item.isLock ? <LockOutlined /> : <UnlockOutlined />} onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaUser(item._id);\r\n                                                        } else {\r\n                                                            KhoaUser(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataUserTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataUser_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataUser_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachUserSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Select, Input, message, Button, Popconfirm } from 'antd';\r\nimport { ModalThemBaiViet, ModalChiTietBaiViet } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { DeleteOutlined, EditOutlined, LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLBaiVietComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [pageNow, setPageNow] = useState(1);\r\n    const [dataBaiViet, setDataBaiViet] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataBaiViet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let res = await axios.get('hethong/baiviet-showadmin/' + page);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataBaiViet(res.data.data);\r\n            setTongSoTrang(res.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error('Lấy data bài viết từ admin thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachBaiVietSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/baiviet-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataBaiViet(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data bài viết theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataBaiViet_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/baiviet-chuakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataBaiViet(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data bài viết chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataBaiViet_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/baiviet-dakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataBaiViet(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data bài viết đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaBaiViet(id) {\r\n        let res = await axios.put('hethong/baiviet-khoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function MoKhoaBaiViet(id) {\r\n        let res = await axios.put('hethong/baiviet-mokhoa', {\r\n            id: id\r\n        })\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Mở khóa thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Mở khóa thất bại !');\r\n        }\r\n    }\r\n\r\n    async function XoaBaiViet(baiVietID) {\r\n        let resData = await axios.put('hethong/baiviet-xoa', {\r\n            id: baiVietID\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Xóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Xóa thất bại\");\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        LayDataBaiViet_TheoTrang(pageNow - 1);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataBaiViet_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataBaiViet_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataBaiViet_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataBaiViet_TheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalThemBaiViet ></ModalThemBaiViet>\r\n            <ModalChiTietBaiViet></ModalChiTietBaiViet>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID hoặc Tiêu đề bài viết' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachBaiVietSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                    </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                </Select>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    dispatch({ type: 'SHOW_THEM_BAIVIET' });\r\n                                }}>\r\n                                    Thêm mới +\r\n                            </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tiêu đề</th>\r\n                                <th>Hình ảnh</th>\r\n                                <th>Loại bài viết</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataBaiViet.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idShow}</td>\r\n                                            <td style={{ width: 400 }}>{item.tieuDe}</td>\r\n                                            <td style={{ width: 250 }}><Image src={item.img} style={{ width: 200, height: 100 }}></Image></td>\r\n                                            <td>{item.loaiBaiViet === 0 ? \"Chương trình/sự kiện\" : \"Giới thiệu\"}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td><span style={{ color: item.isLock === false ? 'red' : 'blue' }}><strong>{item.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 45 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EditOutlined />} size='large' onClick={() => {\r\n                                                        dispatch({ type: 'SHOW_CHITIET_BAIVIET' });\r\n                                                    }} />\r\n                                                    <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaBaiViet(item._id);\r\n                                                        } else {\r\n                                                            KhoaBaiViet(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                    <Popconfirm title=\"Bạn có chắc chắn muốn xóa\" okText=\"Có\" cancelText=\"Không\" onConfirm={() => {\r\n                                                        XoaBaiViet(item._id);\r\n                                                    }}>\r\n                                                        <Button style={{ marginLeft: 25 }} size='large' type=\"danger\" icon={<DeleteOutlined />} />\r\n                                                    </Popconfirm>\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataBaiViet_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataBaiViet_ChuaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataBaiViet_DaKhoa_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachBaiVietSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button, Popconfirm } from 'antd';\r\nimport { ModalChiTietProduct_Admin } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { EyeOutlined, LockOutlined, UnlockOutlined, CheckOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLProductComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n\r\n    async function LayDataProductTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProduct_ChuaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-admin-chuakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProduct_DaKhoa_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-admin-dakhoa/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProduct_ChuaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-admin-chuaduyet/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm chưa duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProduct_DaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-admin-daduyet/' + page);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function DuyetSanPham(idProduct) {\r\n        let res = await axios.put('hethong/products-duyetsanpham', {\r\n            id: idProduct\r\n        });\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (res.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success('Duyệt sản phẩm thành công');\r\n        } else {\r\n            message.error(\"Duyệt sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaSanPham(idProduct) {\r\n        let res = await axios.put('hethong/products-khoasanpham', {\r\n            id: idProduct\r\n        });\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (res.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success('Khóa sản phẩm thành công');\r\n        } else {\r\n            message.error(\"Khóa sản phẩm thất bại !\");\r\n        }\r\n    }\r\n\r\n    async function MoKhoaSanPham(idProduct) {\r\n        let res = await axios.put('hethong/products-mokhoasanpham', {\r\n            id: idProduct\r\n        });\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (res.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success('Mở khóa sản phẩm thành công');\r\n        } else {\r\n            message.error(\"Mở khóa sản phẩm thất bại !\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachBrandSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-search-admin/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n        }\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataProductTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataProductTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataProduct_ChuaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataProduct_DaKhoa_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 3) {\r\n            LayDataProduct_ChuaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 4) {\r\n            LayDataProduct_DaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalChiTietProduct_Admin></ModalChiTietProduct_Admin>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID hoặc Tên sản phẩm' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    LayDanhSachBrandSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                    setPageNow(1);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa khóa</Option>\r\n                                    <Option value={2}>Đã khóa</Option>\r\n                                    <Option value={3}>Chưa duyệt</Option>\r\n                                    <Option value={4}>Đã duyệt</Option>\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Tên</th>\r\n                                <th>Hình ảnh</th>\r\n                                <th>Giá</th>\r\n                                <th>Trạng thái duyệt</th>\r\n                                <th>Trạng thái khóa</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataProduct.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idShow}</td>\r\n                                            <td style={{ width: 350 }}>{item.ten}</td>\r\n                                            <td><Image src={item.img.chinh} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                            <td>{format_curency(item.gia.toString())}</td>\r\n                                            <td><span style={{ color: item.isAccept === false ? 'red' : 'blue' }}><strong>{item.isAccept === false ? 'Chưa duyệt' : 'Đã duyệt'}</strong></span></td>\r\n                                            <td><span style={{ color: item.isLock === false ? 'red' : 'blue' }}><strong>{item.isLock === false ? 'Chưa khóa' : 'Đã khóa'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 40 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EyeOutlined />} size='large' onClick={() => {\r\n                                                        dispatch({ type: 'SHOW_CHITIET_PRODUCT_ADMIN' });\r\n                                                    }} />\r\n                                                    <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />}  onClick={() => {\r\n                                                        if (item.isLock) {\r\n                                                            MoKhoaSanPham(item._id);\r\n                                                        } else {\r\n                                                            KhoaSanPham(item._id);\r\n                                                        }\r\n                                                    }} />\r\n                                                    {\r\n                                                        item.isAccept === false && (\r\n                                                            <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={<CheckOutlined />} onClick={() => {\r\n                                                                DuyetSanPham(item._id);\r\n                                                            }} />\r\n                                                        )\r\n                                                    }\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (trangThaiOption === 0) {\r\n                            LayDataProductTheoTrang(page - 1);\r\n                        }\r\n                        if (trangThaiOption === 1) {\r\n                            LayDataProduct_ChuaKhoa_TheoTrang(page - 1);\r\n                        }\r\n                        if (trangThaiOption === 2) {\r\n                            LayDataProduct_DaKhoa_TheoTrang(page - 1);\r\n                        }\r\n                        if (trangThaiOption === 3) {\r\n                            LayDataProduct_ChuaDuyet_TheoTrang(page - 1);\r\n                        }\r\n                        if (trangThaiOption === 4) {\r\n                            LayDataProduct_DaDuyet_TheoTrang(page - 1);\r\n                        }\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button } from 'antd';\r\nimport { ModalChiTietCauHoi } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLCauHoiComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataCauHoi, setDataCauHoi] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n    const [traLoi, setTraLoi] = useState(false);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataCauHoiTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/questanswer-admin/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataCauHoi(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi khách hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachCauHoiSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/questanswer-admin-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataCauHoi(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataCauHoi_ChuaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/questanswer-admin-chuaduyet/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataCauHoi(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi chưa duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataCauHoi_DaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/questanswer-admin-daduyet/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataCauHoi(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data câu hỏi đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCauHoiTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataCauHoiTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataCauHoiTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataCauHoi_ChuaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataCauHoi_DaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalChiTietCauHoi traLoi={traLoi}></ModalChiTietCauHoi>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID sản phẩm' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    setPageNow(1);\r\n                                    LayDanhSachCauHoiSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa duyệt</Option>\r\n                                    <Option value={2}>Đã duyệt</Option>\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID sản phẩm</th>\r\n                                <th>Câu hỏi</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái duyệt</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataCauHoi.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                        }}>\r\n                                            <td>{item.idProduct}</td>\r\n                                            <td>{item.question}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td><span style={{ color: item.isAccept === false ? 'red' : 'blue' }}><strong>{item.isAccept === false ? 'Chưa duyệt' : 'Đã duyệt'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 10 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EditOutlined />} size='large'\r\n                                                        onClick={() => {\r\n                                                            dispatch({ type: 'SHOW_CHITIET_CAUHOI' });\r\n                                                        }}\r\n                                                        onMouseOver={() => {\r\n                                                            setTraLoi(false);\r\n                                                        }} />\r\n                                                    {\r\n                                                        item.isAccept === false && (\r\n                                                            <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={<CheckOutlined />}\r\n                                                                onClick={() => {\r\n                                                                    dispatch({ type: 'SHOW_CHITIET_CAUHOI' });\r\n                                                                }}\r\n                                                                onMouseOver={() => {\r\n                                                                    setTraLoi(true);\r\n                                                                }} />\r\n                                                        )\r\n                                                    }\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataCauHoiTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataCauHoi_ChuaDuyet_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataCauHoi_DaDuyet_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachCauHoiSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Radio, message } from 'antd';\r\nimport { Table } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { Line, Pie } from 'react-chartjs-2';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function QLDoanhThuComponent() {\r\n    const [countDonHangShow, setCountDonHangShow] = useState(8);\r\n    const [optionValueTime, setOptionValueTime] = useState(0);\r\n    const [donHangShowEnd, setDonHangShowEnd] = useState(false);\r\n    const [chartData, setChartData] = useState({\r\n        labels: [],\r\n        datasets: [\r\n            {\r\n                label: 'Doanh thu',\r\n                data: [],\r\n                backgroundColor: 'rgba(75,192,192,0.6)',\r\n                borderWidth: 4\r\n            }\r\n        ]\r\n    });\r\n\r\n    const [dataChiTietDonHang, setDataChiTietDonHang] = useState([]);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var now = new Date();\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function LayDataDoanhThuTuanNay() {\r\n        let res = await axios.get('hethong/order-details-admin-tinhdataloinhuantuannay');\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'VNĐ',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n            setDataChiTietDonHang(res.data.data);\r\n        } else {\r\n            message.error('Lấy data doanh thu tuần này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThuThangNay() {\r\n        let res = await axios.get('hethong/order-details-admin-tinhdataloinhuanthangnay');\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'VNĐ',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n            setDataChiTietDonHang(res.data.data);\r\n        } else {\r\n            message.error('Lấy data doanh thu tháng này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThu3ThangGanNhat() {\r\n        let res = await axios.get('hethong/order-details-admin-tinhdataloinhuan3thanggannhat');\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'VNĐ',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n            setDataChiTietDonHang(res.data.data);\r\n        } else {\r\n            message.error('Lấy data doanh thu 3 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThu6ThangGanNhat() {\r\n        let res = await axios.get('hethong/order-details-admin-tinhdataloinhuan6thanggannhat');\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'VNĐ',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n            setDataChiTietDonHang(res.data.data);\r\n        } else {\r\n            message.error('Lấy data doanh thu 6 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        LayDataDoanhThuTuanNay();\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (optionValueTime === 0) {\r\n            LayDataDoanhThuTuanNay();\r\n        }\r\n\r\n        if (optionValueTime === 1) {\r\n            LayDataDoanhThuThangNay();\r\n        }\r\n\r\n        if (optionValueTime === 2) {\r\n            LayDataDoanhThu3ThangGanNhat();\r\n        }\r\n\r\n        if (optionValueTime === 3) {\r\n            LayDataDoanhThu6ThangGanNhat();\r\n        }\r\n    }, [optionValueTime])\r\n\r\n    useEffect(() => {\r\n        if (countDonHangShow >= dataChiTietDonHang.length && dataChiTietDonHang.length !== 0) {\r\n            setDonHangShowEnd(true);\r\n        }\r\n    }, [countDonHangShow])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className='col'>\r\n                    <span>(*Kết quả báo cáo đều được dựa vào các đơn hàng đã hoàn thành)</span>\r\n                    <br></br>\r\n                    <Radio.Group value={optionValueTime} onChange={(e) => {\r\n                        setOptionValueTime(e.target.value);\r\n                    }}>\r\n                        <Radio.Button value={0}>Tuần này</Radio.Button>\r\n                        <Radio.Button value={1}>Tháng này</Radio.Button>\r\n                        <Radio.Button value={2}>3 tháng gần nhất</Radio.Button>\r\n                        <Radio.Button value={3}>6 tháng gần nhất</Radio.Button>\r\n                    </Radio.Group>\r\n\r\n                    <br></br><br></br>\r\n                    <br></br><br></br>\r\n                    <div style={{ height: 600, width: 1100, marginLeft: 100 }}>\r\n                        <Line data={chartData} options={{\r\n                            responsive: true,\r\n                            title: {\r\n                                text: 'BIỂU ĐỒ MIỀN', display: true\r\n                            },\r\n                            scales: {\r\n                                yAxes: [\r\n                                    {\r\n                                        ticks: {\r\n                                            autoSkip: true,\r\n                                            maxTicksLimit: 10,\r\n                                            beginAtZero: true\r\n                                        },\r\n                                        gridLines: {\r\n                                            display: false,\r\n\r\n                                        }\r\n                                    }\r\n                                ],\r\n                                xAxes: [\r\n                                    {\r\n                                        gridLines: {\r\n                                            display: false\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }}></Line>\r\n                    </div>\r\n\r\n                    <br></br><br></br>\r\n                    <br></br><br></br>\r\n                    <div style={{ height: 600, width: 1100, marginLeft: 100 }}>\r\n                        <Pie data={chartData} options={{\r\n                            responsive: true,\r\n                            title: {\r\n                                text: 'BIỂU ĐỒ TRÒN', display: true\r\n                            }\r\n                        }}></Pie>\r\n                    </div>\r\n\r\n                    <div className=\"col\" style={{ width: '100%', marginTop: 40 }}>\r\n                        <h4>CHI TIẾT DOANH THU</h4>\r\n                        <Table bordered hover responsive>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID đơn hàng</th>\r\n                                    <th>ID gian hàng</th>\r\n                                    <th>Tên sản phẩm</th>\r\n                                    <th>Doanh thu</th>\r\n                                    <th>Ngày tạo</th>\r\n                                    <th>Ngày hoàn thành</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    dataChiTietDonHang.map((item, i) => {\r\n                                        if (i < countDonHangShow) {\r\n                                            return <tr key={i}>\r\n                                                <td>{item.idShow}</td>\r\n                                                <td>{item.idShop}</td>\r\n                                                <td style={{ width: 400 }}>{item.ten}</td>\r\n                                                <td>{format_curency((item.thanhTien * 10 / 10).toString())}</td>\r\n                                                <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                                <td>{hamChuyenDoiNgay(new Date(item.ngayHoanThanh))}</td>\r\n                                            </tr>\r\n                                        }\r\n                                    })\r\n\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                        {\r\n                            donHangShowEnd === false && (\r\n                                <center>\r\n                                    <Link to='/' onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        setCountDonHangShow(prev => prev + 8);\r\n                                    }}>Xem thêm</Link>\r\n                                </center>\r\n                            )\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </Fragment >\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { Pagination, Input, Select, message, Button } from 'antd';\r\nimport { ModalChiTietNhanXet } from '../Modals/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons';\r\n\r\nexport default function QLNhanXetComponent() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataComment, setDataComment] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n    const [traLoi, setTraLoi] = useState(false);\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataCommentTheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/comments-admin/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataComment(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data nhận xét khách hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDanhSachCommentSearch(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/comments-admin-search/' + page + '?search=' + dataSearch);\r\n        if (resData.data.status === 'success') {\r\n            setDataComment(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data nhận xét theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataComment_ChuaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/comments-admin-chuaduyet/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataComment(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data nhận xét chưa duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataComment_DaDuyet_TheoTrang(page) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/comments-admin-daduyet/' + page);\r\n        if (resData.data.status === 'success') {\r\n            setDataComment(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data nhận xét đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function DuyetComment(cauHoiID, idProduct) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.put('hethong/comments-duyet', {\r\n            _id: cauHoiID,\r\n            idProduct: idProduct,\r\n        });\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            dispatch({ type: 'SHOW_CHITIET_COMMENT' });\r\n        } else {\r\n            message.error(\"Duyệt nhận xét thất bại\");\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCommentTheoTrang(pageNow - 1);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataCommentTheoTrang(pageNow - 1);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataCommentTheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataComment_ChuaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataComment_DaDuyet_TheoTrang(pageNow - 1);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalChiTietNhanXet traLoi={traLoi}></ModalChiTietNhanXet>\r\n            <div className=\"col-sm-10\" style={{ padding: 20 }}>\r\n                <div className=\"col\" style={{ width: '100%' }}>\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                <Input size='large' placeholder='Tìm theo ID sản phẩm' onChange={(e) => {\r\n                                    setDataSearch(e.target.value);\r\n                                }}></Input>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                    LayDanhSachCommentSearch(0);\r\n                                }}>\r\n                                    <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Select style={{ width: 300 }} size='large' value={trangThaiOption} onChange={(value) => {\r\n                                    setTrangThaiOption(value);\r\n                                }}>\r\n                                    <Option value={0}>Tất cả</Option>\r\n                                    <Option value={1}>Chưa duyệt</Option>\r\n                                    <Option value={2}>Đã duyệt</Option>\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n                <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                    <Table bordered hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID sản phẩm</th>\r\n                                <th>Tiêu đề</th>\r\n                                <th>Số sao</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Trạng thái duyệt</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                setSpinnerReducer === 0 && (\r\n                                    dataComment.map((item, i) => {\r\n                                        return <tr key={item._id} onClick={(e) => {\r\n                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n\r\n                                        }}>\r\n                                            <td>{item.idProduct}</td>\r\n                                            <td>{item.tieuDe}</td>\r\n                                            <td>{item.soSao}</td>\r\n                                            <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                            <td><span style={{ color: item.isAccept === false ? 'red' : 'blue' }}><strong>{item.isAccept === false ? 'Chưa duyệt' : 'Đã duyệt'}</strong></span></td>\r\n                                            <td style={{ width: 200, paddingTop: 10 }}>\r\n                                                <center>\r\n                                                    <Button type=\"default\" icon={<EditOutlined />} size='large'\r\n                                                        onClick={() => {\r\n                                                            dispatch({ type: 'SHOW_CHITIET_COMMENT' });\r\n                                                        }}\r\n                                                        onMouseOver={() => {\r\n                                                            setTraLoi(false);\r\n                                                        }} />\r\n                                                    {\r\n                                                        item.isAccept === false && (\r\n                                                            <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={<CheckOutlined />}\r\n                                                                onClick={() => {\r\n                                                                    dispatch({ type: 'SHOW_CHITIET_COMMENT' });\r\n                                                                    DuyetComment(item._id);\r\n                                                                }}\r\n                                                                onMouseOver={() => {\r\n                                                                    setTraLoi(true);\r\n                                                                }} />\r\n                                                        )\r\n                                                    }\r\n                                                </center>\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                    {\r\n                        setSpinnerReducer === 1 && (\r\n                            <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </Spinner>\r\n                        )\r\n                    }\r\n                    <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                        setPageNow(page);\r\n                        if (dataSearch === '') {\r\n                            if (trangThaiOption === 0) {\r\n                                LayDataCommentTheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 1) {\r\n                                LayDataComment_ChuaDuyet_TheoTrang(page - 1);\r\n                            }\r\n                            if (trangThaiOption === 2) {\r\n                                LayDataComment_DaDuyet_TheoTrang(page - 1);\r\n                            }\r\n                        } else {\r\n                            LayDanhSachCommentSearch(page - 1);\r\n                        }\r\n\r\n                    }}>\r\n                    </Pagination>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Image } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { InputNumber, Input, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function CheckoutCartt() {\r\n    const { Search } = Input;\r\n    const [dataGioHang, setDataGioHang] = useState(JSON.parse(localStorage.getItem('dataGioHang')));\r\n    const [dataGioHangNew, setDataGioHangNew] = useState([]);\r\n    const [dataVoucher, setDataVoucher] = useState('');\r\n    const [cookie, setCookie] = useCookies();\r\n    const dispatch = useDispatch();\r\n    const statusThayDoiGioHang = useSelector(state => state.statusThayDoiGioHang);\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function tinhTongSanPhamTrongGioHang(data) {\r\n        var tong = 0;\r\n        for (let index = 0; index < data.length; index++) {\r\n            tong += data[index].soLuong;\r\n        }\r\n        return parseInt(tong);\r\n    }\r\n\r\n    function tienTamTinh(data) {\r\n        var tien = 0;\r\n        for (let index = 0; index < data.length; index++) {\r\n            tien += data[index].soLuong * data[index].giaCuoiCung;\r\n        }\r\n        return parseInt(tien);\r\n    }\r\n\r\n    function tienGiamVoucherTheoPhanTram(giaTriGiam, tongTien) {\r\n        var tien = 0;\r\n        tien = tongTien * giaTriGiam / 100;\r\n        return parseInt(tien);\r\n    }\r\n\r\n    function tinhThanhTien(tienTamTinh, dataVoucher) {\r\n        var tienGiam = 0;\r\n        if (dataVoucher === '') {\r\n            return tienTamTinh;\r\n        } else {\r\n            if (dataVoucher.loaiGiamGia === 0) {\r\n                tienGiam = parseInt(dataVoucher.giaTriGiam);\r\n                return parseInt(tienTamTinh - tienGiam);\r\n            } else {\r\n                tienGiam = parseInt(tienTamTinh * dataVoucher.giaTriGiam / 100);\r\n                return parseInt(tienTamTinh - tienGiam);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getGioHangTheoIDUser() {\r\n        var arrayGioHangNew = [];\r\n\r\n        for (let index = 0; index < dataGioHang.length; index++) {\r\n            if (dataGioHang[index].idUser === cookie.userID) {\r\n                arrayGioHangNew.push({\r\n                    giaCuoiCung: dataGioHang[index].giaCuoiCung,\r\n                    giaGoc: dataGioHang[index].giaGoc,\r\n                    idShop: dataGioHang[index].idShop,\r\n                    idUser: dataGioHang[index].idUser,\r\n                    img: dataGioHang[index].img,\r\n                    khuyenMai: dataGioHang[index].khuyenMai,\r\n                    mauSac: dataGioHang[index].mauSac,\r\n                    size: dataGioHang[index].size,\r\n                    soLuong: dataGioHang[index].soLuong,\r\n                    ten: dataGioHang[index].ten,\r\n                    tenShop: dataGioHang[index].tenShop,\r\n                    index: index\r\n                });\r\n            }\r\n        }\r\n        setDataGioHangNew(arrayGioHangNew);\r\n    }\r\n\r\n\r\n    async function KiemTraVoucher(voucherID) {\r\n        let res = await axios.get('hethong/vouchers-item-show?idShow=' + voucherID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataVoucher(res.data.data);\r\n            message.success(res.data.message);\r\n        } else {\r\n            message.error(res.data.message);\r\n            setDataVoucher('');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (statusThayDoiGioHang === true) {\r\n            setDataGioHang(JSON.parse(localStorage.getItem('dataGioHang')));\r\n            dispatch({ type: 'KHONG_THAY_DOI_GIO_HANG' });\r\n        }\r\n    }, [statusThayDoiGioHang])\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('idVoucher', '');\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        if (cookie.token === undefined) {\r\n            setDataGioHang([]);\r\n        }\r\n        getGioHangTheoIDUser();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('idVoucher', dataVoucher.idShow);\r\n    }, [dataVoucher]);\r\n\r\n    useEffect(() => {\r\n        getGioHangTheoIDUser();\r\n    }, [dataGioHang])\r\n\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop: '50px', backgroundColor: '#F8F9FA', height: 'auto', padding: 10 }}>\r\n            <h4>GIỎ HÀNG ({cookie.token === undefined ? 0 : tinhTongSanPhamTrongGioHang(dataGioHangNew)} sản phẩm)</h4>\r\n            <div className='row' style={{ padding: 20 }}>\r\n                <div className='col-sm-8'>\r\n                    {\r\n                        dataGioHangNew.map((item, i) => {\r\n                            return <div key={i} className='row' style={{ backgroundColor: 'white', height: 'auto', padding: 10, borderRadius: 10, marginTop: 10 }}>\r\n                                <Image src={item.img} style={{ width: 120, height: 140, marginLeft: 10 }}></Image>\r\n                                <div className='col-sm-6' style={{ marginLeft: 20 }}>\r\n                                    <strong>\r\n                                        {\r\n                                            item.mauSac !== '' && item.size !== '' && (\r\n                                                item.ten + ' - ' + item.mauSac + ' - ' + item.size\r\n                                            )\r\n                                        }\r\n                                        {\r\n                                            item.mauSac === '' && item.size !== '' && (\r\n                                                item.ten + ' - ' + item.size\r\n                                            )\r\n                                        }\r\n                                        {\r\n                                            item.mauSac !== '' && item.size === '' && (\r\n                                                item.ten + ' - ' + item.mauSac\r\n                                            )\r\n                                        }\r\n                                        {\r\n                                            item.size === '' && item.mauSac === '' && (\r\n                                                item.ten\r\n                                            )\r\n                                        }\r\n                                    </strong><br></br>\r\n                                    Cung cấp bởi: <Link to={'/shop/' + item.idShop + '/' + to_slug(item.tenShop)}>{item.tenShop}</Link> <br></br>\r\n                                    <Link to='/' onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        dataGioHang.splice(item.index, 1);\r\n                                        setDataGioHang([\r\n                                            ...dataGioHang\r\n                                        ]);\r\n                                        localStorage.setItem('dataGioHang', null);\r\n                                        localStorage.setItem('dataGioHang', JSON.stringify(dataGioHang));\r\n                                        dispatch({ type: 'THAY_DOI_GIO_HANG' });\r\n                                    }}>Xóa</Link>\r\n                                </div>\r\n                                <div className='col-sm-3'>\r\n                                    <div className='col'>\r\n                                        <span style={{ fontSize: 20, fontWeight: 'bold' }}>{format_curency(item.giaCuoiCung.toString())}đ</span><br></br>\r\n                                        <strike>{format_curency(item.giaGoc.toString())}đ</strike> | {item.khuyenMai > 100 ? '-' + format_curency(item.khuyenMai.toString()) + 'đ' : '-' + item.khuyenMai + '%'}\r\n                                    </div>\r\n                                    <div className='col'>\r\n                                        <br></br>\r\n                                        <InputNumber min={1} defaultValue={item.soLuong} onChange={(value) => {\r\n                                            dataGioHang[item.index].soLuong = value;\r\n                                            setDataGioHang([\r\n                                                ...dataGioHang\r\n                                            ]);\r\n                                            localStorage.setItem('dataGioHang', null);\r\n                                            localStorage.setItem('dataGioHang', JSON.stringify(dataGioHang));\r\n                                            dispatch({ type: 'THAY_DOI_GIO_HANG' });\r\n                                        }} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className='col-sm-1'>\r\n\r\n                </div>\r\n\r\n                <div className='col-sm-3' style={{ backgroundColor: 'white', padding: 10, borderRadius: 10, height: 'auto', marginTop: 10 }}>\r\n                    <div className='col'>\r\n                        <div className='row'>\r\n                            <div className='col-sm-6'>\r\n                                <span style={{ float: 'left', fontSize: 16 }}>Tạm tính</span>\r\n                            </div>\r\n                            <div className='col-sm-6'>\r\n                                <span style={{ float: 'right', fontSize: 16, fontWeight: 'bold' }}>{format_curency(tienTamTinh(dataGioHangNew).toString())}đ</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {\r\n                            dataVoucher !== '' && (\r\n                                <div className='row'>\r\n                                    <div className='col-sm-6'>\r\n                                        <span style={{ float: 'left', fontSize: 16 }}>Mã giảm giá</span>\r\n                                        <span style={{ float: 'left', fontSize: 16, fontWeight: 'bold' }}>{dataVoucher.idShow}</span>\r\n                                    </div>\r\n                                    <div className='col-sm-6'>\r\n                                        <br></br>\r\n                                        <span style={{ float: 'right', fontSize: 16, fontWeight: 'bold' }}>\r\n                                            {\r\n                                                dataVoucher.loaiGiamGia === 0 ? '-' + format_curency(dataVoucher.giaTriGiam.toString()) + 'đ' : '-' + dataVoucher.giaTriGiam + '% (' + format_curency(tienGiamVoucherTheoPhanTram(dataVoucher.giaTriGiam, tienTamTinh(dataGioHangNew)).toString()) + 'đ)'\r\n                                            }\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                        <hr></hr>\r\n                        <div className='row'>\r\n                            <div className='col-sm-6'>\r\n                                <span style={{ float: 'left', fontSize: 16 }}>Thành tiền</span>\r\n                            </div>\r\n                            <div className='col-sm-6'>\r\n                                <span style={{ float: 'right', fontSize: 24, fontWeight: 'bold', color: 'red' }}>{format_curency(tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher).toString())}đ</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Link to='shipping' onClick={(e) => {\r\n                        if (dataGioHang.length === 0) {\r\n                            e.preventDefault();\r\n                            message.error('Chưa có sản phẩm nào trong giỏ hàng');\r\n                        } else {\r\n                            if (cookie.token === undefined) {\r\n                                e.preventDefault();\r\n                                dispatch({ type: 'SHOW_MODAL_DANGNHAP_DANGKY' })\r\n                            }\r\n                        }\r\n                    }}>\r\n                        <Button style={{ width: '100%', height: 50, marginTop: 20 }}>Tiến hành đặt hàng</Button>\r\n                    </Link>\r\n                    <div className='col' style={{ marginTop: 20 }}>\r\n                        <span style={{ fontSize: 16, fontWeight: 'bold' }}>Mã giảm giá / Quà tặng</span>\r\n                        <Search\r\n                            placeholder=\"Nhập mã ở đây\"\r\n                            enterButton=\"Kiểm tra\"\r\n                            size=\"large\"\r\n                            onSearch={(value) => {\r\n                                KiemTraVoucher(value);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { Steps, Select, message, Breadcrumb } from 'antd';\r\nimport { Form, Row, Col, Button, Nav, Navbar } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport default function CheckoutShipping() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const thongTinDatHang = useSelector(state => state.thongTinDatHang);\r\n    const { Step } = Steps;\r\n    const { Option } = Select;\r\n    const [dataThanhPho, setDataThanhPho] = useState([]);\r\n    const [dataQuan, setDataQuan] = useState([]);\r\n    const [dataPhuong, setDataPhuong] = useState([]);\r\n    const [checkDuLieuNhap, setCheckDuLieuNhap] = useState(false);\r\n    const [thongTin, setThongTin] = useState({\r\n        hoTen: '',\r\n        sdt: '',\r\n        diaChi: '',\r\n        phuong: '',\r\n        quan: '',\r\n        thanhPho: ''\r\n    });\r\n    const [diaChi, setDiaChi] = useState({\r\n        idThanhPho: '-1',\r\n        idQuan: '-1',\r\n        idPhuong: '-1',\r\n        diaChi: ''\r\n    });\r\n    const steps = [\r\n        {\r\n            title: 'Đăng nhập',\r\n        },\r\n        {\r\n            title: 'Địa chỉ giao hàng',\r\n        },\r\n        {\r\n            title: 'Thanh toán & Đặt mua',\r\n        },\r\n    ];\r\n\r\n    function KiemTraThongTinNhap(data) {\r\n        const regSDT = /^(0|\\+84)(\\s|\\.)?((3[2-9])|(5[689])|(7[06-9])|(8[1-689])|(9[0-46-9]))(\\d)(\\s|\\.)?(\\d{3})(\\s|\\.)?(\\d{3})$/;\r\n        if (data.hoTen === '' || data.sdt === '' || data.diaChi === '' || data.phuong === '' || data.quan === '' || data.thanhPho === '') {\r\n            message.error('Thông tin không hợp lệ. Vui lòng kiểm tra lại');\r\n            return false;\r\n        } else {\r\n            if (regSDT.test(data.sdt)) {\r\n                return true;\r\n            } else {\r\n                message.error('Số điện thoại không hợp lệ');\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    async function LayDataThanhPho() {\r\n        let res = await axios.get('hethong/locals');\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataThanhPho(res.data.data);\r\n        }\r\n    }\r\n\r\n    async function LayDataQuanTheoIDThanhPho(thanhPhoID) {\r\n        let res = await axios.get('hethong/locals-quan?idThanhPho=' + thanhPhoID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataQuan(res.data.data);\r\n        }\r\n    }\r\n\r\n    async function LayDataPhuongTheoIDQuan(thanhPhoID, quanID) {\r\n        let res = await axios.get('hethong/locals-phuong?idThanhPho=' + thanhPhoID + '&idQuan=' + quanID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataPhuong(res.data.data);\r\n        }\r\n    }\r\n\r\n    async function LayTenLocalTheoID(thanhPhoID, quanID, phuongID) {\r\n        if (thanhPhoID !== '' && quanID !== '' && phuongID !== '') {\r\n            let res = await axios.get('hethong/locals-address?idThanhPho=' + thanhPhoID + '&idQuan=' + quanID + '&idPhuong=' + phuongID);\r\n\r\n            if (res.data.status === 'success') {\r\n                setThongTin({\r\n                    ...thongTin,\r\n                    phuong: res.data.tenPhuong,\r\n                    quan: res.data.tenQuan,\r\n                    thanhPho: res.data.tenThanhPho,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n        LayDataThanhPho();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (diaChi.idThanhPho !== '-1') {\r\n            LayDataQuanTheoIDThanhPho(diaChi.idThanhPho);\r\n        }\r\n    }, [diaChi.idThanhPho])\r\n\r\n    useEffect(() => {\r\n        if (diaChi.idQuan !== '-1') {\r\n            LayDataPhuongTheoIDQuan(diaChi.idThanhPho, diaChi.idQuan);\r\n        }\r\n    }, [diaChi.idQuan])\r\n\r\n    useEffect(() => {\r\n        LayTenLocalTheoID(diaChi.idThanhPho, diaChi.idQuan, diaChi.idPhuong);\r\n    }, [diaChi])\r\n\r\n    useEffect(() => {\r\n        if (checkDuLieuNhap === true) {\r\n            history.push('/checkout/payment');\r\n            dispatch({ type: 'THONGTIN_DATHANG', thongTin: thongTin });\r\n        }\r\n    }, [checkDuLieuNhap])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src='/logo.png'\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        style={{ marginRight: 5 }}\r\n                        className=\"d-inline-block\"\r\n                    />\r\n                    <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                </Navbar.Brand>\r\n            </Navbar>\r\n            <div className=\"container\" style={{ height: 'auto', padding: 10 }}>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\">Trang Chủ</a>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.pathname = 'checkout/cart';\r\n                        }}>Giỏ hàng</a>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.pathname = 'checkout/shipping';\r\n                        }}>Địa chỉ giao hàng</a>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <br></br>\r\n                <div className='col'>\r\n                    <div>\r\n                        <Steps current={1}>\r\n                            {steps.map(item => (\r\n                                <Step key={item.title} title={item.title} />\r\n                            ))}\r\n                        </Steps>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 50, padding: 20 }}>\r\n                        {/* <p><strong>2. Địa chỉ giao hàng</strong></p> */}\r\n                        <div className='row'>\r\n                            <div className='col-sm-2'>\r\n\r\n                            </div>\r\n                            <div className='col-sm-8' style={{ backgroundColor: '#F8F9FA', padding: 10 }}>\r\n                                <Form>\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalHoTenMuaHang\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Họ tên\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Form.Control type=\"text\" placeholder='Nhập họ tên' onChange={(e) => {\r\n                                                setThongTin({\r\n                                                    ...thongTin,\r\n                                                    hoTen: e.target.value\r\n                                                });\r\n                                            }}></Form.Control>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalSdtMuaHang\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Số điện thoại\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Form.Control type=\"text\" placeholder='Nhập số điện thoại' onChange={(e) => {\r\n                                                setThongTin({\r\n                                                    ...thongTin,\r\n                                                    sdt: e.target.value\r\n                                                });\r\n                                            }}></Form.Control>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalDiaChiMuaHang1\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Tỉnh/Thành phố\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Select\r\n                                                allowClear\r\n                                                showSearch\r\n                                                optionFilterProp=\"children\"\r\n                                                filterOption={(input, option) =>\r\n                                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                                }\r\n                                                style={{ width: '100%' }}\r\n                                                size='large'\r\n                                                value={diaChi.idThanhPho}\r\n                                                onChange={(value) => {\r\n                                                    setDiaChi({\r\n                                                        idThanhPho: value,\r\n                                                        idPhuong: '-1',\r\n                                                        idQuan: '-1'\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                <Option value={'-1'}>Chọn Tỉnh/Thành phố</Option>\r\n                                                {\r\n                                                    dataThanhPho.map((item, i) => {\r\n                                                        return <Option key={item.id} value={item.id}>{item.name}</Option>\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalDiaChiMuaHang2\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Quận/Huyện\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Select\r\n                                                allowClear\r\n                                                showSearch\r\n                                                optionFilterProp=\"children\"\r\n                                                filterOption={(input, option) =>\r\n                                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                                }\r\n                                                value={diaChi.idQuan}\r\n                                                style={{ width: '100%' }}\r\n                                                size='large'\r\n                                                onChange={(value) => {\r\n                                                    setDiaChi({\r\n                                                        ...diaChi,\r\n                                                        idQuan: value,\r\n                                                        idPhuong: '-1'\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                <Option value={'-1'}>Chọn Quận/Huyện</Option>\r\n                                                {\r\n                                                    dataQuan.map((item, i) => {\r\n                                                        return <Option key={item.id} value={item.id}>{item.name}</Option>\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalDiaChiMuaHang3\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Phường/Xã\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Select\r\n                                                allowClear\r\n                                                showSearch\r\n                                                optionFilterProp=\"children\"\r\n                                                filterOption={(input, option) =>\r\n                                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                                }\r\n                                                value={diaChi.idPhuong}\r\n                                                style={{ width: '100%' }}\r\n                                                size='large'\r\n                                                onChange={(value) => {\r\n                                                    setDiaChi({\r\n                                                        ...diaChi,\r\n                                                        idPhuong: value\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                <Option value={'-1'}>Chọn Phường/Xã</Option>\r\n                                                {\r\n                                                    dataPhuong.map((item, i) => {\r\n                                                        return <Option key={item.id} value={item.id}>{item.name}</Option>\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row} controlId=\"formHorizontalPasswordDiaChiMuaHang\">\r\n                                        <Form.Label column sm={3}>\r\n                                            Địa chỉ\r\n                                        </Form.Label>\r\n                                        <Col sm={9}>\r\n                                            <Form.Control as='textarea' rows='3' onChange={(e) => {\r\n                                                setThongTin({\r\n                                                    ...thongTin,\r\n                                                    diaChi: e.target.value\r\n                                                })\r\n                                            }}>\r\n                                            </Form.Control>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n\r\n                                    <Form.Group as={Row}>\r\n                                        <Col sm={{ span: 8, offset: 3 }}>\r\n                                            <Link to='/' onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                setCheckDuLieuNhap(KiemTraThongTinNhap(thongTin));\r\n                                            }}>\r\n                                                <Button>Giao đến địa chỉ này</Button>\r\n                                            </Link>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                            <div className='col-sm-2'>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { Steps, Radio, message, Breadcrumb } from 'antd';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button, Navbar, Nav } from 'react-bootstrap';\r\nimport ids from 'short-id';\r\nimport { useCookies } from 'react-cookie';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n\r\nexport default function CheckoutPayment() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [dataGioHangNew, setDataGioHangNew] = useState([]);\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const { Step } = Steps;\r\n    // const { Option } = Select;\r\n    const [valueRadioGiaoHang, setValueRadioGiaoHang] = useState(0);\r\n    const [valueRadioThanhToan, setValueRadioThanhToan] = useState(0);\r\n    const thongTinDatHang = useSelector(state => state.thongTinDatHang);\r\n    const [total, setTotal] = useState(0);\r\n    const [dataVoucher, setDataVoucher] = useState({\r\n        idShow: '',\r\n        loaiGiamGia: '',\r\n        giaTriGiam: ''\r\n    });\r\n    // const layout = {\r\n    //     labelCol: {\r\n    //         span: 0,\r\n    //     },\r\n    //     wrapperCol: {\r\n    //         span: 12,\r\n    //     },\r\n    // };\r\n    const [idVoucher, setIdVoucher] = useState(localStorage.getItem('idVoucher'));\r\n    const [dataGioHang, setDataGioHang] = useState(JSON.parse(localStorage.getItem('dataGioHang')));\r\n    const steps = [\r\n        {\r\n            title: 'Đăng nhập',\r\n        },\r\n        {\r\n            title: 'Địa chỉ giao hàng',\r\n        },\r\n        {\r\n            title: 'Thanh toán & Đặt mua',\r\n        },\r\n    ];\r\n    const [thongTinDonHang, setThongTinDonHang] = useState({\r\n        idShow: '',\r\n        thongTinNguoiMua: {\r\n            hoTen: '',\r\n            sdt: '',\r\n            diaChi: ''\r\n        },\r\n        tongTien: '',\r\n        soLuongSanPham: '',\r\n        ngayTao: '',\r\n        idVoucher: ''\r\n    })\r\n\r\n    const radioStyle = {\r\n        display: 'block',\r\n        height: '30px',\r\n        lineHeight: '30px',\r\n    };\r\n\r\n    const onSuccess = (payment) => {\r\n        // Congratulation, it came here means everything's fine!\r\n        console.log(\"The payment was succeeded!\", payment);\r\n        TaoDonHang_ThanhToan_PayPal(dataGioHangNew);\r\n        // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n    }\r\n\r\n    const onCancel = (data) => {\r\n        // User pressed \"cancel\" or close Paypal's popup!\r\n        console.log('The payment was cancelled!', data);\r\n        // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n    }\r\n\r\n    const onError = (err) => {\r\n        // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n        console.log(\"Error!\", err);\r\n        // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n        // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n    }\r\n\r\n    let env = 'sandbox'; // you can set here to 'production' for production\r\n    let currency = 'USD'; // or you can set this value from your props or state\r\n    // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n\r\n    const client = {\r\n        sandbox: 'AXtpVvNsxiOBjuWz-81KhPk5iMKn6XW6_N6CoDdIO-DjjtQj7Olq3HBdG98cci768r4NVim4uiOC1rXf',\r\n        production: 'YOUR-PRODUCTION-APP-ID',\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function tinhThanhTien(tienTamTinh, dataVoucher, tienShip) {\r\n        var tienGiam = 0;\r\n        if (dataVoucher === '') {\r\n            return tienTamTinh;\r\n        } else {\r\n            if (dataVoucher.loaiGiamGia === 0) {\r\n                tienGiam = parseInt(dataVoucher.giaTriGiam);\r\n                return parseInt(tienTamTinh - tienGiam - tienShip);\r\n            } else {\r\n                tienGiam = parseInt(tienTamTinh * dataVoucher.giaTriGiam / 100);\r\n                return parseInt(tienTamTinh - tienGiam - tienShip);\r\n            }\r\n        }\r\n    }\r\n\r\n    function tinhTienMoiSanPham(giaCuoiCung, soLuong) {\r\n        var tien = parseInt(giaCuoiCung * soLuong);\r\n        return tien;\r\n\r\n    }\r\n\r\n    function getGioHangTheoIDUser() {\r\n        var arrayGioHangNew = [];\r\n\r\n        for (let index = 0; index < dataGioHang.length; index++) {\r\n            if (dataGioHang[index].idUser === cookies.userID) {\r\n                arrayGioHangNew.push({\r\n                    giaCuoiCung: dataGioHang[index].giaCuoiCung,\r\n                    giaGoc: dataGioHang[index].giaGoc,\r\n                    idShop: dataGioHang[index].idShop,\r\n                    idUser: dataGioHang[index].idUser,\r\n                    img: dataGioHang[index].img,\r\n                    khuyenMai: dataGioHang[index].khuyenMai,\r\n                    mauSac: dataGioHang[index].mauSac,\r\n                    size: dataGioHang[index].size,\r\n                    soLuong: dataGioHang[index].soLuong,\r\n                    ten: dataGioHang[index].ten,\r\n                    tenShop: dataGioHang[index].tenShop,\r\n                    index: index\r\n                });\r\n            }\r\n        }\r\n\r\n        setDataGioHangNew(arrayGioHangNew);\r\n    }\r\n\r\n    function tienTamTinh(data) {\r\n        var tien = 0;\r\n        for (let index = 0; index < data.length; index++) {\r\n            tien += data[index].soLuong * data[index].giaCuoiCung;\r\n        }\r\n        return parseInt(tien);\r\n    }\r\n\r\n    function tinhTongSanPhamTrongGioHang(data) {\r\n        var tong = 0;\r\n        for (let index = 0; index < data.length; index++) {\r\n            tong += data[index].soLuong;\r\n        }\r\n        return parseInt(tong);\r\n    }\r\n\r\n    async function KiemTraVoucher(voucherID) {\r\n        if (idVoucher !== undefined) {\r\n            let res = await axios.get('hethong/vouchers-item-show?idShow=' + voucherID);\r\n\r\n            if (res.data.status === 'success') {\r\n                setDataVoucher({\r\n                    idShow: res.data.data.idShow,\r\n                    loaiGiamGia: res.data.data.loaiGiamGia,\r\n                    giaTriGiam: res.data.data.giaTriGiam\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // function ThanhToan_ATMnoidia() {\r\n    //     let res = axios.post('hethong/vnpay-them', {\r\n    //         amount: tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher, 0),\r\n    //         bankCode: valueNganHang,\r\n    //         orderDescription: 'Trả tiền mua hàng cho WareHouse',\r\n    //         orderType: 'billpayment',\r\n    //         language: 'vn'\r\n    //     })\r\n\r\n    //     if(res.data.status === 'success'){\r\n    //         alert('VNPAY ok');\r\n    //     }else{\r\n    //         alert('Thanh toán thất bại');\r\n    //     }\r\n    // }\r\n\r\n    async function TaoDonHang_ThanhToan_COD(dataGioHang) {\r\n        let res = await axios.post('hethong/orders-them', {\r\n            emailNhan: localStorage.getItem('email'),\r\n            idShow: thongTinDonHang.idShow,\r\n            thongTinNguoiMua: {\r\n                hoTen: thongTinDonHang.thongTinNguoiMua.hoTen,\r\n                sdt: thongTinDonHang.thongTinNguoiMua.sdt,\r\n                diaChi: thongTinDonHang.thongTinNguoiMua.diaChi\r\n            },\r\n            tongTien: thongTinDonHang.tongTien,\r\n            soLuongSanPham: thongTinDonHang.soLuongSanPham,\r\n            hinhThucThanhToan: valueRadioThanhToan,\r\n            ngayTao: thongTinDonHang.ngayTao,\r\n            idUser: cookies.userID,\r\n            idVoucher: thongTinDonHang.idVoucher,\r\n            dataGioHang: dataGioHangNew\r\n        });\r\n\r\n        if (res.data.status === 'fail') {\r\n            console.log(res)\r\n            message.error(res.data.message);\r\n        } else {\r\n            message.success('Đã tạo đơn hàng thành công');\r\n            localStorage.setItem('dataGioHang', '[]');\r\n            localStorage.setItem('idVoucher', undefined);\r\n            history.push('/checkout/payment/success/' + thongTinDonHang.idShow);\r\n        }\r\n    }\r\n\r\n    async function TaoDonHang_ThanhToan_PayPal(dataGioHang) {\r\n        let res = await axios.post('hethong/orders-them', {\r\n            emailNhan: localStorage.getItem('email'),\r\n            idShow: thongTinDonHang.idShow,\r\n            thongTinNguoiMua: {\r\n                hoTen: thongTinDonHang.thongTinNguoiMua.hoTen,\r\n                sdt: thongTinDonHang.thongTinNguoiMua.sdt,\r\n                diaChi: thongTinDonHang.thongTinNguoiMua.diaChi\r\n            },\r\n            tongTien: thongTinDonHang.tongTien,\r\n            soLuongSanPham: thongTinDonHang.soLuongSanPham,\r\n            hinhThucThanhToan: valueRadioThanhToan,\r\n            ngayTao: thongTinDonHang.ngayTao,\r\n            idUser: cookies.userID,\r\n            idVoucher: thongTinDonHang.idVoucher,\r\n            dataGioHang: dataGioHangNew\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Đã tạo đơn hàng thành công');\r\n            history.push('/checkout/payment/success/' + thongTinDonHang.idShow);\r\n            localStorage.setItem('dataGioHang', '[]');\r\n            localStorage.setItem('idVoucher', undefined);\r\n        } else {\r\n            message.error('Đã tạo đơn hàng thất bại');\r\n        }\r\n    }\r\n\r\n    // async function ThanhToan_MoMo(dataGioHang) {\r\n    //     let res = await axios.post('hethong/gw_payment/transactionProcessor', {\r\n    //         amount: tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher, 0).toString(),\r\n    //         orderInfo: thongTinDonHang.idShow\r\n    //     });\r\n    //     if (res.data.status === 'success') {\r\n    //         window.location.assign(res.data.data);\r\n    //     } else {\r\n    //         alert('Thanh toán MoMo thất bại');\r\n    //     }\r\n    // }\r\n\r\n    useEffect(() => {\r\n        KiemTraVoucher(idVoucher);\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n        getGioHangTheoIDUser();\r\n        if (thongTinDatHang.diaChi === '') {\r\n            history.push('/checkout/shipping');\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setThongTinDonHang({\r\n            ...thongTinDonHang,\r\n            idShow: 'ORDER-' + ids.generate().toUpperCase(),\r\n            thongTinNguoiMua: {\r\n                hoTen: thongTinDatHang.hoTen,\r\n                sdt: thongTinDatHang.sdt,\r\n                diaChi: thongTinDatHang.diaChi + ', phường ' + thongTinDatHang.phuong + ', ' + thongTinDatHang.quan + ', ' + thongTinDatHang.thanhPho\r\n            },\r\n            tongTien: tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher, 0),\r\n            soLuongSanPham: tinhTongSanPhamTrongGioHang(dataGioHang),\r\n            ngayTao: new Date()\r\n        })\r\n        setTotal(parseInt(tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher, 0) / 23300));\r\n    }, [dataGioHangNew])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src='/logo.png'\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        style={{ marginRight: 5 }}\r\n                        className=\"d-inline-block\"\r\n                    />\r\n                    <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                </Navbar.Brand>\r\n            </Navbar>\r\n            <div className=\"container\" style={{ height: 'auto', padding: 20 }}>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\">Trang Chủ</a>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.pathname = 'checkout/cart';\r\n                        }}>Giỏ hàng</a>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.pathname = 'checkout/shipping';\r\n                        }}>Địa chỉ giao hàng</a>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <a href=\"/\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.pathname = 'checkout/payment';\r\n                        }}>Thanh toán & Đặt mua</a>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <br></br>\r\n                <div className='col'>\r\n                    <div>\r\n                        <Steps current={2}>\r\n                            {steps.map(item => (\r\n                                <Step key={item.title} title={item.title} />\r\n                            ))}\r\n                        </Steps>\r\n                    </div>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <div className='row'>\r\n                        <div className='col-sm-9'>\r\n                            <div>\r\n                                <h6>1. Chọn hình thức giao hàng</h6>\r\n                                <div style={{ height: 'auto', paddingLeft: 20 }}>\r\n                                    <Radio.Group onChange={(e) => {\r\n                                        setValueRadioGiaoHang(e.target.value);\r\n                                    }} value={valueRadioGiaoHang}>\r\n                                        <Radio style={radioStyle} value={0}>\r\n                                            Giao hàng tiêu chuẩn\r\n                                        </Radio>\r\n                                        {/* <Radio style={radioStyle} value={1} disabled>\r\n                                        Giao hàng bằng GoViet\r\n                                </Radio>\r\n                                    <Radio style={radioStyle} value={2} disabled>\r\n                                        Giao hàng bằng Grab\r\n                                </Radio> */}\r\n                                    </Radio.Group>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style={{ marginTop: 20 }}>\r\n                                <h6>2. Chọn hình thức thanh toán</h6>\r\n                                <div style={{ height: 'auto', paddingLeft: 20 }}>\r\n                                    <Radio.Group onChange={(e) => {\r\n                                        setValueRadioThanhToan(e.target.value);\r\n                                    }} value={valueRadioThanhToan}>\r\n                                        <Radio style={radioStyle} value={0}>\r\n                                            Thanh toán tiền mặt khi nhận hàng\r\n                                        </Radio>\r\n                                        <Radio style={radioStyle} value={1}>\r\n                                            Thanh toán bằng Paypal\r\n                                        </Radio>\r\n                                        {/* <Radio style={radioStyle} value={2}>\r\n                                        Thanh toán bằng thẻ ATM nội địa/Internet Banking\r\n                                </Radio>\r\n                                <Radio style={radioStyle} value={3}>\r\n                                        Thanh toán bằng MoMo\r\n                                </Radio>\r\n                                    {\r\n                                        valueRadioThanhToan === 2 && (\r\n                                            <Form {...layout}>\r\n                                                <Form.Item label=\"Chọn ngân hàng: \">\r\n                                                    <Select style={{ width: 300 }} onChange={(value) => {\r\n                                                        setValueNganHang(value);\r\n                                                    }}>\r\n                                                        <Option value=''>Không chọn</Option>\r\n                                                        <Option value='NCB'>Ngân hàng NCB</Option>\r\n                                                        <Option value='SCB'>Ngân hàng SCB</Option>\r\n                                                        <Option value='SACOMBANK'>Ngân hàng SACOMBANK</Option>\r\n                                                        <Option value='EXIMBANK'>Ngân hàng EXIMBANK</Option>\r\n                                                        <Option value='MSBANK'>Ngân hàng MSBANK</Option>\r\n                                                        <Option value='NAMABANK'>Ngân hàng NAMABANK</Option>\r\n                                                        <Option value='VIETTINBANK'>Ngân hàng VIETTINBANK</Option>\r\n                                                        <Option value='VIETCOMBANK'>Ngân hàng VIETCOMBANK</Option>\r\n                                                        <Option value='HDBANK'>Ngân hàng HDBANK</Option>\r\n                                                        <Option value='DONGABANK'>Ngân hàng DONGABANK</Option>\r\n                                                        <Option value='OCEANBANK'>Ngân hàng OCEANBANK</Option>\r\n                                                        <Option value='BIDV'>Ngân hàng BIDV</Option>\r\n                                                        <Option value='TECHCOMBANK'>Ngân hàng TECHCOMBANK</Option>\r\n                                                        <Option value='VPBANK'>Ngân hàng VPBANK</Option>\r\n                                                        <Option value='AGRIBANK'>Ngân hàng AGRIBANK</Option>\r\n                                                        <Option value='MBBANK'>Ngân hàng MBBANK</Option>\r\n                                                        <Option value='ACB'>Ngân hàng ACB</Option>\r\n                                                        <Option value='OCB'>Ngân hàng OCB</Option>\r\n                                                        <Option value='SHB'>Ngân hàng SHB</Option>\r\n                                                    </Select>\r\n                                                </Form.Item>\r\n                                            </Form>\r\n                                        )\r\n                                    } */}\r\n                                    </Radio.Group>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style={{ marginTop: 20 }}>\r\n                                <h6 style={{ color: 'gray' }}>Thông tin người mua</h6>\r\n                                <div className='col' style={{ height: 'auto', paddingLeft: 20 }}>\r\n                                    <div className='row'>\r\n                                        <div className='col-sm-2'>\r\n                                            <strong>Họ tên:</strong>\r\n                                        </div>\r\n                                        <div className='col-sm-6'>\r\n                                            {thongTinDatHang.hoTen}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className='row'>\r\n                                        <div className='col-sm-2'>\r\n                                            <strong>Số điện thoại:</strong>\r\n                                        </div>\r\n                                        <div className='col-sm-6'>\r\n                                            {thongTinDatHang.sdt}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className='row'>\r\n                                        <div className='col-sm-2'>\r\n                                            <strong>Địa chỉ:</strong>\r\n                                        </div>\r\n                                        <div className='col-sm-6'>\r\n                                            {\r\n                                                thongTinDatHang.diaChi + ', phường ' + thongTinDatHang.phuong + ', ' + thongTinDatHang.quan + ', ' + thongTinDatHang.thanhPho\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='col' style={{ marginTop: 20 }}>\r\n                                {\r\n                                    valueRadioThanhToan === 0 && (\r\n                                        // <Link to={'payment/success/' + thongTinDonHang.idShow} onClick={(e) => {\r\n\r\n                                        <Button style={{ width: 300 }} variant=\"danger\" size='lg'\r\n                                            onMouseOver={() => {\r\n                                                if (idVoucher.length > 0) {\r\n                                                    setThongTinDonHang({\r\n                                                        ...thongTinDonHang,\r\n                                                        idVoucher: idVoucher\r\n                                                    })\r\n                                                }\r\n                                            }}\r\n                                            onClick={() => {\r\n                                                TaoDonHang_ThanhToan_COD(dataGioHangNew);\r\n                                            }}>ĐẶT MUA</Button>\r\n                                    )\r\n                                }\r\n\r\n                                {/* {\r\n                                valueRadioThanhToan === 3 && (\r\n                                    <Button style={{ width: 300 }} variant=\"danger\" size='lg' onClick={() => {\r\n                                        ThanhToan_MoMo()\r\n                                    }}>ĐẶT MUA</Button>\r\n                                )\r\n                            } */}\r\n\r\n                                {\r\n                                    valueRadioThanhToan === 1 && (\r\n                                        <Link to={'payment/success/' + thongTinDonHang.idShow} onClick={(e) => {\r\n                                            //TaoDonHang(e, dataGioHang);\r\n                                            e.preventDefault();\r\n                                        }}\r\n                                            onMouseOver={() => {\r\n                                                if (idVoucher.length > 0) {\r\n                                                    setThongTinDonHang({\r\n                                                        ...thongTinDonHang,\r\n                                                        idVoucher: idVoucher\r\n                                                    })\r\n                                                }\r\n                                            }}>\r\n                                            <PaypalExpressBtn\r\n                                                env={env}\r\n                                                client={client}\r\n                                                currency={currency}\r\n                                                total={total}\r\n                                                onError={onError}\r\n                                                onSuccess={onSuccess}\r\n                                                onCancel={onCancel}\r\n                                                style={{\r\n                                                    size: 'large',\r\n                                                    color: 'blue',\r\n                                                    shape: 'rect',\r\n                                                    label: 'checkout'\r\n                                                }} />\r\n                                        </Link>\r\n                                    )\r\n                                }\r\n\r\n                                {/* {\r\n                                valueRadioThanhToan === 2 && (\r\n                                    <Button style={{ width: 300 }} variant=\"danger\" size='lg' onClick={() => {\r\n                                        ThanhToan_ATMnoidia()\r\n                                    }}>ĐẶT MUA</Button>\r\n                                )\r\n                            } */}\r\n\r\n                                <br></br>\r\n                                (Xin vui lòng kiểm tra lại đơn hàng trước khi Đặt mua)\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-sm-3' style={{ height: 'auto', backgroundColor: '#F8F9FA' }}>\r\n                            <div className='row' style={{ padding: 10 }}>\r\n                                <span>\r\n                                    <strong>Đơn hàng ({tinhTongSanPhamTrongGioHang(dataGioHangNew)} sản phẩm)</strong> &nbsp;\r\n                                    <Link to='/checkout/cart'>Sửa</Link>\r\n                                </span>\r\n\r\n                            </div>\r\n                            <hr style={{ marginTop: 5 }}></hr>\r\n                            <div className='col'>\r\n                                {\r\n                                    dataGioHangNew.map((item, i) => {\r\n                                        return <div className='row' key={i}>\r\n                                            <div className='col-sm-8' style={{ height: 'auto', marginLeft: 0 }}>\r\n                                                <strong>x{item.soLuong}</strong> {item.ten} {item.mauSac !== '' ? ' - ' + item.mauSac : ''} {item.size !== '' ? ' - ' + item.size : ''}\r\n                                            </div>\r\n                                            <div className='col-sm-4' style={{ paddingRight: 10 }}>\r\n                                                <span style={{ float: 'right', fontWeight: 'bold' }}>{format_curency(tinhTienMoiSanPham(item.giaCuoiCung, item.soLuong).toString())}đ</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n\r\n                            </div>\r\n                            <hr></hr>\r\n                            <div className='col'>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-8' style={{ height: 'auto', marginLeft: 0 }}>\r\n                                        Tạm tính\r\n                                    </div>\r\n                                    <div className='col-sm-4' style={{ paddingRight: 10 }}>\r\n                                        <span style={{ float: 'right', fontWeight: 'bold' }}>{format_curency(tienTamTinh(dataGioHangNew).toString())}đ</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-8' style={{ height: 'auto', marginLeft: 0 }}>\r\n                                        Voucher\r\n                                    </div>\r\n                                    <div className='col-sm-4' style={{ paddingRight: 10 }}>\r\n                                        <span style={{ float: 'right', fontWeight: 'bold' }}>\r\n                                            {dataVoucher.idShow !== '' && (\r\n                                                dataVoucher.loaiGiamGia === 0 ? '-' + format_curency(dataVoucher.giaTriGiam.toString()) + 'đ' : '-' + dataVoucher.giaTriGiam + '%'\r\n                                            )}\r\n                                            {\r\n                                                dataVoucher.idShow === '' && ('-0đ')\r\n                                            }\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-8' style={{ height: 'auto', marginLeft: 0 }}>\r\n                                        Phí vận chuyển\r\n                                    </div>\r\n                                    <div className='col-sm-4' style={{ paddingRight: 10 }}>\r\n                                        <span style={{ float: 'right', fontWeight: 'bold' }}>0đ</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <hr></hr>\r\n                            <div className='col'>\r\n                                <div className='row'>\r\n                                    <div className='col-sm-8' style={{ height: 'auto', marginLeft: 0 }}>\r\n                                        Thành tiền\r\n                                    </div>\r\n                                    <div className='col-sm-4' style={{ paddingRight: 10 }}>\r\n                                        <span style={{ float: 'right', color: 'red', fontSize: 20, fontWeight: 'bold' }}>{format_curency(tinhThanhTien(tienTamTinh(dataGioHangNew), dataVoucher, 0).toString())}đ</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Menu, Dropdown, message } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory, Switch, Route, useRouteMatch, Redirect } from 'react-router-dom';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport { Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { BanHang_TrangChuComponent, BanHang_DanhSachSanPhamComponent, BanHang_DanhSachGiamGiaComponent, BanHang_BaoCaoBanHangTongHopComponent, BanHang_Top10SanPhamBanChayComponent, BanHang_TongHopDonHangComponent, BanHang_QuanLyTonKhoComponent, BanHang_TaoMoiSanPhamComponent, BanHang_DonHangComponent } from '../allJS'\r\n\r\nexport default function BanHang() {\r\n    const { SubMenu } = Menu;\r\n    const match = useRouteMatch();\r\n    const [cookie, setCookie, removeCookies] = useCookies();\r\n\r\n    const [dataUser, setDataUser] = useState({\r\n        _id: '',\r\n        email: '',\r\n        thongTinShop: {\r\n            idShop: '',\r\n            ten: '',\r\n            moTa: '',\r\n            diaChi: '',\r\n            logoShop: '',\r\n            img: {\r\n                carousel: [],\r\n                banner1: '',\r\n                banner2: ''\r\n            }\r\n        }\r\n    });\r\n    const dispatch = useDispatch();\r\n    let history = useHistory();\r\n\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item >\r\n                Đổi mật khẩu\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => {\r\n                removeCookies('token');\r\n                removeCookies('userID');\r\n                window.location.pathname = '/';\r\n            }}>\r\n                Đăng xuất\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n    const idUser = cookie.userID;\r\n\r\n    async function LayDataUserTheoIDUser(userID) {\r\n        let resData = await axios.get('hethong/users-item?idUser=' + userID);\r\n        if (resData.data.status === 'success') {\r\n            setDataUser({\r\n                _id: resData.data.data._id,\r\n                email: resData.data.data.email,\r\n                thongTinShop: {\r\n                    idShop: resData.data.data.thongTinShop.idShop,\r\n                    ten: resData.data.data.thongTinShop.ten,\r\n                    moTa: resData.data.data.thongTinShop.moTa,\r\n                    diaChi: resData.data.data.thongTinShop.diaChi,\r\n                    logoShop: resData.data.data.thongTinShop.logoShop,\r\n                    img: {\r\n                        carousel: resData.data.data.thongTinShop.img.carousel,\r\n                        banner1: resData.data.data.thongTinShop.img.banner1,\r\n                        banner2: resData.data.data.thongTinShop.img.banner2\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.error(\"Lấy data user thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataUserTheoIDUser(idUser);\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setCookie('shopID', dataUser.thongTinShop.idShop);\r\n    }, [dataUser])\r\n\r\n    return (\r\n        <div className='row' style={{ marginRight: 0 }}>\r\n            <Fragment>\r\n                <div className='col-sm-2'>\r\n                    <div style={{ height: 70, width: 'auto', backgroundColor: '#003366' }}>\r\n                        <Link to='/'>\r\n                            <div className='row' style={{ alignItems: 'center', justifyContent: 'center' }}>\r\n                                <img alt=\"\" src='/logo.png' width=\"50\" height=\"70\" />\r\n                                <span style={{ fontWeight: 'bold', color: 'orange', fontSize: 28 }}>WareHouse</span>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                    <Menu mode=\"inline\" theme=\"dark\" style={{ width: 'auto', height: 1036 }}>\r\n                        <Menu.Item key=\"0\" onClick={() => {\r\n                            history.push(`${match.url}/trang-chu`);\r\n                        }}>Trang chủ</Menu.Item>\r\n                        <Menu.Item key=\"1\" onClick={() => {\r\n                            history.push(`${match.url}/don-hang`);\r\n                        }}>Đơn hàng</Menu.Item>\r\n                        <SubMenu key=\"sub1\" title=\"Sản phẩm\">\r\n                            <Menu.Item key=\"2\" onClick={() => {\r\n                                history.push(`${match.url}/san-pham/danh-sach-san-pham`);\r\n                            }}>Danh sách sản phẩm</Menu.Item>\r\n                            <Menu.Item key=\"3\" onClick={() => {\r\n                                history.push(`${match.url}/san-pham/tao-moi-san-pham`);\r\n                            }}>Tạo mới/ Đăng mới sản phẩm</Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" title=\"Thống kê\">\r\n                            <Menu.Item key=\"6\" onClick={() => {\r\n                                history.push(`${match.url}/thong-ke/tong-hop-don-hang`);\r\n                            }}>Tổng hợp đơn hàng</Menu.Item>\r\n                            <Menu.Item key=\"7\" onClick={() => {\r\n                                history.push(`${match.url}/thong-ke/top-10-san-pham-ban-chay-nhat`);\r\n                            }}>Top 10 sản phẩm bạn chạy nhất</Menu.Item>\r\n                            <Menu.Item key=\"8\" onClick={() => {\r\n                                history.push(`${match.url}/thong-ke/bao-cao-ban-hang-tong-hop`);\r\n                            }}>Báo cáo bán hàng tổng hợp</Menu.Item>\r\n                        </SubMenu>\r\n                        <Menu.Item key=\"4\" onClick={() => {\r\n                            history.push(`${match.url}/quan-ly-kho`);\r\n                        }}>Quản lý kho</Menu.Item>\r\n                        <SubMenu key=\"sub3\" title=\"Quảng cáo\">\r\n                            <Menu.Item key=\"5\" onClick={() => {\r\n                                history.push(`${match.url}/quang-cao/danh-sach-giam-gia`);\r\n                            }}>Danh sách giảm giá</Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </div>\r\n                <div className='col-sm-10'>\r\n                    <div className='col'>\r\n                        <div className='row' style={{ float: 'right' }}>\r\n                            <Dropdown overlay={menu} placement=\"bottomCenter\">\r\n                                <Button size='large' style={{ marginTop: 15 }}>\r\n                                    <img alt=\"\" src='/logoshop.png' width=\"30\" height=\"30\" /> &nbsp; {dataUser.email} <DownOutlined />\r\n                                </Button>\r\n                            </Dropdown>\r\n                        </div>\r\n\r\n                        <div className='row' style={{ width: '95%', height: 'auto', marginLeft: 20 }}>\r\n                            <Switch>\r\n                                <Redirect exact from={match.url} to={`${match.url}/trang-chu`} />\r\n                                <Route exact path={`${match.url}/trang-chu`} component={BanHang_TrangChuComponent}></Route>\r\n                                <Route exact path={`${match.url}/don-hang`} component={BanHang_DonHangComponent}></Route>\r\n                                <Route exact path={`${match.url}/san-pham/danh-sach-san-pham`} component={BanHang_DanhSachSanPhamComponent}></Route>\r\n                                <Route exact path={`${match.url}/san-pham/tao-moi-san-pham`} component={BanHang_TaoMoiSanPhamComponent}></Route>\r\n                                <Route exact path={`${match.url}/quan-ly-kho`} component={BanHang_QuanLyTonKhoComponent}></Route>\r\n                                <Route exact path={`${match.url}/thong-ke/tong-hop-don-hang`} component={BanHang_TongHopDonHangComponent}></Route>\r\n                                <Route exact path={`${match.url}/thong-ke/top-10-san-pham-ban-chay-nhat`} component={BanHang_Top10SanPhamBanChayComponent}></Route>\r\n                                <Route exact path={`${match.url}/thong-ke/bao-cao-ban-hang-tong-hop`} component={BanHang_BaoCaoBanHangTongHopComponent}></Route>\r\n                                <Route exact path={`${match.url}/quang-cao/danh-sach-giam-gia`} component={BanHang_DanhSachGiamGiaComponent}></Route>\r\n                            </Switch>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Menu, Dropdown, Form, Input, message } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { storage } from \"../../firebase/firebase\";\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport { Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function BanHang_DangKy() {\r\n    const [cookie, setCookie, removeCookies] = useCookies();\r\n    const userID = cookie.userID;\r\n    const [countAnhDaUploadThanhCong_Logo, setCountAnhDaUploadThanhCong_Logo] = useState(0);\r\n    const [firstTime1, setFirstTime1] = useState(true);\r\n    const [imageAsFile_Logo, setImageAsFile_Logo] = useState([]);\r\n    const [imageAsUrl_Logo, setImageAsUrl_Logo] = useState([]);\r\n    const [dataTaoShop, setDataTaoShop] = useState({\r\n        ten: '',\r\n        moTa: '',\r\n        diaChi: '',\r\n        logoShop: '',\r\n        keyPaypal: '',\r\n        viShop: '',\r\n        ngayTao: new Date()\r\n    })\r\n    const [dataEmail, setDataEmail] = useState('');\r\n\r\n    const layout = {\r\n        labelCol: {\r\n            span: 6,\r\n        },\r\n        wrapperCol: {\r\n            span: 12,\r\n        },\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const tailLayout = {\r\n        wrapperCol: {\r\n            offset: 8,\r\n            span: 16,\r\n        },\r\n    };\r\n\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item >\r\n                Đổi mật khẩu\r\n          </Menu.Item>\r\n            <Menu.Item onClick={() => {\r\n                removeCookies('token');\r\n                removeCookies('userID');\r\n                window.location.pathname = '/';\r\n            }}>\r\n                Đăng xuất\r\n          </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const handleChangeIMG_Logo = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Logo(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                setDataTaoShop({\r\n                                    ...dataTaoShop,\r\n                                    logoShop: fireBaseUrl\r\n                                })\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Logo(listUrl);\r\n    }\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        if (dataTaoShop.ten.trim().length === 0) {\r\n            message.error('Tên gian hàng không hợp lệ');\r\n        } else {\r\n            TaoShop();\r\n        }\r\n\r\n    }\r\n\r\n    async function LayEmailTheoIDUser(userID) {\r\n        let resData = await axios.get('hethong/users-item?idUser=' + userID);\r\n        if (resData.data.status === 'success') {\r\n            setDataEmail(resData.data.data.email);\r\n        } else {\r\n            message.error(\"Lấy email thất bại\");\r\n        }\r\n    }\r\n\r\n    async function TaoShop() {\r\n        let resData = await axios.put('hethong/users-taoshop', {\r\n            _id: userID,\r\n            ten: dataTaoShop.ten.trim(),\r\n            diaChi: dataTaoShop.diaChi,\r\n            logoShop: dataTaoShop.logoShop,\r\n            keyPaypal: dataTaoShop.keyPaypal,\r\n            viShop: '',\r\n            ngayTao: dataTaoShop.ngayTao,\r\n            moTa: dataTaoShop.moTa\r\n        });\r\n        if (resData.data.status === 'success') {\r\n            message.success('Đăng ký gian hàng thành công. Chờ duyệt nhé');\r\n            setTimeout(() => {\r\n                window.location.pathname = '/';\r\n            }, 2000);\r\n        } else {\r\n            message.error(resData.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayEmailTheoIDUser(userID);\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (firstTime1 === false) {\r\n            if (imageAsFile_Logo.length === 0) {\r\n                message.error('Vui lòng chọn Logo cho shop')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Logo === imageAsFile_Logo.length) {\r\n                    message.success('Upload logo shop thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Logo])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='col'>\r\n                <div className='row' style={{ float: 'right', marginRight: 20 }}>\r\n                    <Dropdown overlay={menu} placement=\"bottomCenter\">\r\n                        <Button size='large' style={{ marginTop: 15 }}>\r\n                            <img alt=\"\" src='/logoshop.png' width=\"30\" height=\"30\" /> &nbsp; {dataEmail} <DownOutlined />\r\n                        </Button>\r\n                    </Dropdown>\r\n                </div>\r\n                <div className='container' style={{ marginTop: 50 }}>\r\n                    <div className='col'>\r\n                        <center><h2>ĐĂNG KÝ GIAN HÀNG</h2></center>\r\n                        <div>\r\n                            <Form\r\n                                {...layout}\r\n                                name=\"basic\"\r\n                                initialValues={{\r\n                                    remember: true,\r\n                                }}\r\n                            >\r\n                                <Form.Item\r\n                                    label=\"Tên gian hàng\"\r\n                                    name=\"ten\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: 'Vui lòng nhập tên gian hàng',\r\n                                        },\r\n                                    ]}\r\n                                >\r\n                                    <Input onChange={(e) => {\r\n                                        setDataTaoShop({\r\n                                            ...dataTaoShop,\r\n                                            ten: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Form.Item>\r\n\r\n                                <Form.Item\r\n                                    label=\"Địa chỉ\"\r\n                                    name=\"diachi\"\r\n                                >\r\n                                    <Input onChange={(e) => {\r\n                                        setDataTaoShop({\r\n                                            ...dataTaoShop,\r\n                                            diaChi: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Form.Item>\r\n\r\n                                <Form.Item\r\n                                    label=\"Mô tả\"\r\n                                    name=\"mota\"\r\n                                >\r\n                                    <Input onChange={(e) => {\r\n                                        setDataTaoShop({\r\n                                            ...dataTaoShop,\r\n                                            moTa: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Form.Item>\r\n                                <Form.Item\r\n                                    label=\"Key Paypal\"\r\n                                    name=\"keypaypal\"\r\n                                >\r\n                                    <Input onChange={(e) => {\r\n                                        setDataTaoShop({\r\n                                            ...dataTaoShop,\r\n                                            keyPaypal: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Form.Item>\r\n\r\n                                <Form.Item\r\n                                    label=\"Logo\"\r\n                                    name=\"logo\">\r\n                                    <input type='file'\r\n                                        onChange={(e) => {\r\n                                            handleChangeIMG_Logo(e);\r\n                                            setCountAnhDaUploadThanhCong_Logo(0);\r\n                                            setFirstTime1(false);\r\n                                        }}>\r\n                                    </input>\r\n                                </Form.Item>\r\n\r\n                                <Form.Item\r\n                                    name='showlogo'\r\n                                    label=\"Show ảnh logo\">\r\n                                    {\r\n                                        imageAsUrl_Logo.map((src, i) => {\r\n                                            return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                        })\r\n                                    }\r\n                                </Form.Item>\r\n\r\n                                <Form.Item {...tailLayout}>\r\n                                    <Button type=\"primary\" style={{ width: 300 }}\r\n                                        onClick={() => {\r\n                                            KiemTraDuLieuNhap();\r\n                                        }}>\r\n                                        Xác nhận\r\n                                                </Button>\r\n                                </Form.Item>\r\n\r\n                                <Link to='/' style={{ marginLeft: '43%' }}>\r\n                                    Trở về Trang Chủ\r\n                                </Link>\r\n\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { Carousel, Button } from 'react-bootstrap';\r\nimport { storage } from '../../firebase/firebase';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\n\r\n\r\nexport default function BanHang_TrangChu(props) {\r\n    const { TabPane } = Tabs;\r\n    const [cookies, setCookie] = useCookies();\r\n    const userID = cookies.userID;\r\n    const [dataUser, setDataUser] = useState({\r\n        _id: '',\r\n        email: '',\r\n        thongTinShop: {\r\n            idShop: '',\r\n            ten: '',\r\n            moTa: '',\r\n            diaChi: '',\r\n            logoShop: '',\r\n            keyPaypal: '',\r\n            viShop: '',\r\n            img: {\r\n                carousel: [],\r\n                banner1: '',\r\n                banner2: ''\r\n            }\r\n        }\r\n    });\r\n    const [countAnhDaUploadThanhCong_Carousel, setCountAnhDaUploadThanhCong_Carousel] = useState(0);\r\n    const [countAnhDaUploadThanhCong_Banner1, setCountAnhDaUploadThanhCong_Banner1] = useState(0);\r\n    const [countAnhDaUploadThanhCong_Banner2, setCountAnhDaUploadThanhCong_Banner2] = useState(0);\r\n    const [dataThayDoiThietKe, setDataThayDoiThietKe] = useState({\r\n        carousel: [],\r\n        banner1: '',\r\n        banner2: ''\r\n    });\r\n\r\n    const [dataThayDoiThongTin, setDataThayDoiThongTin] = useState({\r\n        ten: '',\r\n        diaChi: '',\r\n        moTa: '',\r\n        keyPaypal: '',\r\n    });\r\n    const [firstTime1, setFirstTime1] = useState(true);\r\n    const [firstTime2, setFirstTime2] = useState(true);\r\n    const [firstTime3, setFirstTime3] = useState(true);\r\n    const [imageAsFile_Carousel, setImageAsFile_Carousel] = useState([]);\r\n    const [imageAsFile_Banner1, setImageAsFile_Banner1] = useState([]);\r\n    const [imageAsFile_Banner2, setImageAsFile_Banner2] = useState([]);\r\n    const [imageAsUrl_Carousel, setImageAsUrl_Carousel] = useState([]);\r\n    const [imageAsUrl_Banner1, setImageAsUrl_Banner1] = useState([]);\r\n    const [imageAsUrl_Banner2, setImageAsUrl_Banner2] = useState([]);\r\n\r\n    let env = 'sandbox'; // you can set here to 'production' for production\r\n    let currency = 'USD'; // or you can set this value from your props or state\r\n    // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n    const client = {\r\n        sandbox: 'AXtpVvNsxiOBjuWz-81KhPk5iMKn6XW6_N6CoDdIO-DjjtQj7Olq3HBdG98cci768r4NVim4uiOC1rXf',\r\n        production: 'YOUR-PRODUCTION-APP-ID',\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    const handleChangeIMG_Carousel = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Carousel(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Carousel(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Carousel(listUrl);\r\n    }\r\n\r\n    const handleChangeIMG_Banner1 = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Banner1(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Banner1(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Banner1(listUrl);\r\n    }\r\n\r\n    const handleChangeIMG_Banner2 = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Banner2(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Banner2(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Banner2(listUrl);\r\n    }\r\n\r\n    async function CapNhatThietKeGianHang() {\r\n        let res = await axios.put('hethong/users-sua-designshop', {\r\n            _id: dataUser._id,\r\n            carousel: dataThayDoiThietKe.carousel,\r\n            banner1: dataThayDoiThietKe.banner1,\r\n            banner2: dataThayDoiThietKe.banner2\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            alert('Cập nhật thiết kế gian hàng thành công');\r\n            window.location.reload();\r\n        } else {\r\n            alert('Cập nhật thiết kế gian hàng thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataUserTheoIDUser(userID) {\r\n        let resData = await axios.get('hethong/users-item?idUser=' + userID);\r\n        //alert(JSON.stringify(resData.data));\r\n        //setDataCarousel(resData.data.status);\r\n        if (resData.data.status === 'success') {\r\n            //alert(JSON.stringify(resData.data.data));\r\n            setDataUser({\r\n                _id: resData.data.data._id,\r\n                email: resData.data.data.email,\r\n                thongTinShop: {\r\n                    idShop: resData.data.data.thongTinShop.idShop,\r\n                    ten: resData.data.data.thongTinShop.ten,\r\n                    moTa: resData.data.data.thongTinShop.moTa,\r\n                    diaChi: resData.data.data.thongTinShop.diaChi,\r\n                    logoShop: resData.data.data.thongTinShop.logoShop,\r\n                    keyPaypal: resData.data.data.thongTinShop.keyPaypal,\r\n                    viShop: resData.data.data.thongTinShop.viShop,\r\n                    img: {\r\n                        carousel: resData.data.data.thongTinShop.img.carousel,\r\n                        banner1: resData.data.data.thongTinShop.img.banner1,\r\n                        banner2: resData.data.data.thongTinShop.img.banner2\r\n                    }\r\n                }\r\n            });\r\n\r\n            setDataThayDoiThongTin({\r\n                ten: resData.data.data.thongTinShop.ten,\r\n                moTa: resData.data.data.thongTinShop.moTa,\r\n                diaChi: resData.data.data.thongTinShop.diaChi,\r\n                viShop: resData.data.data.thongTinShop.viShop\r\n            })\r\n        } else {\r\n            alert(\"Lấy data thất bại\");\r\n        }\r\n    }\r\n\r\n    async function CapNhatThongTinGianHang() {\r\n        let res = await axios.put('hethong/users-sua-thongtinshop', {\r\n            _id: dataUser._id,\r\n            ten: dataThayDoiThongTin.ten,\r\n            moTa: dataThayDoiThongTin.moTa,\r\n            diaChi: dataThayDoiThongTin.diaChi\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            alert('Cập nhật thông tin gian hàng thành công');\r\n            window.location.reload();\r\n        } else {\r\n            alert('Cập nhật thông tin gian hàng thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (firstTime1 === false) {\r\n            if (imageAsFile_Carousel.length === 0) {\r\n                alert('Vui lòng chọn ảnh cho carousel')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Carousel === imageAsFile_Carousel.length) {\r\n                    alert('Upload các carousel thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Carousel])\r\n\r\n    useEffect(() => {\r\n        if (firstTime2 === false) {\r\n            if (imageAsFile_Banner1.length === 0) {\r\n                alert('Vui lòng chọn ảnh cho banner 1')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Banner1 === imageAsFile_Banner1.length) {\r\n                    alert('Upload banner 1 thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Banner1])\r\n\r\n    useEffect(() => {\r\n        if (firstTime3 === false) {\r\n            if (imageAsFile_Banner2.length === 0) {\r\n                alert('Vui lòng chọn ảnh cho banner 2')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Banner2 === imageAsFile_Banner2.length) {\r\n                    alert('Upload banner 2 thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Banner2])\r\n\r\n    useEffect(() => {\r\n        setDataThayDoiThietKe({\r\n            carousel: dataUser.thongTinShop.img.carousel,\r\n            banner1: dataUser.thongTinShop.img.banner1,\r\n            banner2: dataUser.thongTinShop.img.banner2\r\n        })\r\n    }, [dataUser])\r\n\r\n    useEffect(() => {\r\n        LayDataUserTheoIDUser(userID);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Tabs defaultActiveKey=\"1\" size='large' style={{ width: '100%' }}>\r\n                <TabPane tab=\"Thiết kế Gian Hàng\" key=\"1\">\r\n                    <div className='row' style={{ backgroundColor: '#F8F9FA', paddingTop: 20 }}>\r\n                        <div className='col-sm-3'>\r\n                            <div className='col'>\r\n                                <img alt='ảnh logo' src={dataUser.thongTinShop.logoShop === '' ? \"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" : dataUser.thongTinShop.logoShop} width='350' height='350'></img>\r\n                                <br></br>\r\n                                <br></br>\r\n                                <h5>{dataUser.thongTinShop.ten}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-sm-9'>\r\n                            <div className='row' style={{ padding: 10 }}>\r\n                                <strong style={{ marginLeft: 50 }}><h4>Carousel</h4></strong>\r\n                            </div>\r\n                            <div className='col' style={{ marginLeft: 20 }}>\r\n                                {\r\n                                    dataUser.thongTinShop.img.carousel.length === 0 && (\r\n                                        <Carousel style={{ height: 250, width: 900, textAlign: 'center', marginLeft: 60 }}>\r\n                                            <Carousel.Item>\r\n                                                <img alt='ảnh' className=\"d-block w-100\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='250' />\r\n                                            </Carousel.Item>\r\n                                            <Carousel.Item>\r\n                                                <img alt='ảnh' className=\"d-block w-100\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='250' />\r\n                                            </Carousel.Item>\r\n                                            <Carousel.Item>\r\n                                                <img alt='ảnh' className=\"d-block w-100\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='250' />\r\n                                            </Carousel.Item>\r\n                                        </Carousel>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    dataUser.thongTinShop.img.carousel.length > 0 && (\r\n                                        <Carousel style={{ height: 250, width: 700, textAlign: 'center', marginLeft: 110 }}>\r\n                                            {\r\n                                                dataUser.thongTinShop.img.carousel.map((src, i) => {\r\n                                                    return <Carousel.Item key={i}>\r\n                                                        <img alt='ảnh carousel' className=\"d-block w-100\" src={src} height='250' />\r\n                                                    </Carousel.Item>\r\n                                                })\r\n                                            }\r\n                                        </Carousel>\r\n                                    )\r\n                                }\r\n\r\n                                <br></br>\r\n                                <h6 style={{ marginLeft: 10 }}>Chọn ảnh làm carousel (Tối đa 3):</h6>\r\n                                <input type='file'\r\n                                    multiple\r\n                                    onChange={(e) => {\r\n                                        handleChangeIMG_Carousel(e);\r\n                                        setCountAnhDaUploadThanhCong_Carousel(0);\r\n                                        setFirstTime1(false);\r\n                                    }}>\r\n                                </input>\r\n                                <br></br>\r\n                                <br></br>\r\n                                {\r\n                                    imageAsUrl_Carousel.length === 0 && (\r\n                                        <Fragment>\r\n                                            <img alt='ảnh' src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='50' width='150' />\r\n                                            <img alt='ảnh' src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='50' width='150' style={{ marginLeft: 20 }} />\r\n                                            <img alt='ảnh' src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='50' width='150' style={{ marginLeft: 20 }} />\r\n                                        </Fragment>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    imageAsUrl_Carousel.length > 0 && (\r\n                                        imageAsUrl_Carousel.map((src, i) => {\r\n                                            return <img key={i} alt='ảnh' src={src} height='50' width='150' />\r\n                                        })\r\n                                    )\r\n                                }\r\n\r\n                            </div>\r\n                            <br></br>\r\n                            <br></br>\r\n                            <div className='row' style={{ padding: 10 }}>\r\n                                <strong style={{ marginLeft: 50 }}><h4>Banner</h4></strong>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-sm-6'>\r\n                                    {\r\n                                        dataUser.thongTinShop.img.banner1 === '' && (\r\n                                            <img alt='ảnh' className=\"d-block w-100\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    {\r\n                                        dataUser.thongTinShop.img.banner1 !== '' && (\r\n                                            <img alt='ảnh' className=\"d-block w-100\" src={dataUser.thongTinShop.img.banner1} height='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    <br></br>\r\n                                    <h6 style={{ marginLeft: 10 }}>Chọn ảnh cho banner 1:</h6>\r\n                                    <input type='file'\r\n                                        onChange={(e) => {\r\n                                            handleChangeIMG_Banner1(e);\r\n                                            setCountAnhDaUploadThanhCong_Banner1(0);\r\n                                            setFirstTime2(false);\r\n                                        }}>\r\n                                    </input>\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                    {\r\n                                        imageAsUrl_Banner1.length === 0 && (\r\n                                            <img alt='ảnh' src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='50' width='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    {\r\n                                        imageAsUrl_Banner1.length > 0 && (\r\n                                            imageAsUrl_Banner1.map((src, i) => {\r\n                                                return <img alt='ảnh' key={i} src={src} height='50' width='150' />\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                                <div className='col-sm-6'>\r\n                                    {\r\n                                        dataUser.thongTinShop.img.banner2 === '' && (\r\n                                            <img alt='ảnh' className=\"d-block w-100\" src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    {\r\n                                        dataUser.thongTinShop.img.banner2 !== '' && (\r\n                                            <img alt='ảnh' className=\"d-block w-100\" src={dataUser.thongTinShop.img.banner2} height='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    <br></br>\r\n                                    <h6 style={{ marginLeft: 10 }}>Chọn ảnh cho banner 2:</h6>\r\n                                    <input type='file'\r\n                                        onChange={(e) => {\r\n                                            handleChangeIMG_Banner2(e);\r\n                                            setCountAnhDaUploadThanhCong_Banner2(0);\r\n                                            setFirstTime3(false);\r\n                                        }}>\r\n                                    </input>\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                    {\r\n                                        imageAsUrl_Banner2.length === 0 && (\r\n                                            <img alt='ảnh' src=\"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\" height='50' width='150' />\r\n                                        )\r\n                                    }\r\n\r\n                                    {\r\n                                        imageAsUrl_Banner2.length > 0 && (\r\n                                            imageAsUrl_Banner2.map((src, i) => {\r\n                                                return <img alt='ảnh' key={i} src={src} height='50' width='150' />\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <br></br>\r\n                            <br></br>\r\n                            <center><Button size='large' style={{ width: 300, height: 70, marginBottom: 20 }}\r\n                                onClick={() => {\r\n                                    CapNhatThietKeGianHang();\r\n                                    console.log(dataThayDoiThietKe);\r\n                                }}\r\n                                onMouseOver={() => {\r\n                                    setDataThayDoiThietKe({\r\n                                        carousel: imageAsUrl_Carousel,\r\n                                        banner1: imageAsUrl_Banner1[0],\r\n                                        banner2: imageAsUrl_Banner2[0]\r\n                                    })\r\n                                }}>Lưu</Button></center>\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n                <TabPane tab=\"Thông Tin Gian Hàng\" key=\"2\" >\r\n                    <div className='row'>\r\n                        <div className='col-sm-1'>\r\n\r\n                        </div>\r\n\r\n                        <div className='col-sm-6' style={{ paddingLeft: 200 }}>\r\n                            <h6>ID người dùng:&nbsp; {dataUser._id}</h6>\r\n                            <br></br>\r\n                            <h6>Mã gian hàng:&nbsp; {dataUser.thongTinShop.idShop}</h6>\r\n                            <br></br>\r\n                            <span><h6>Tên gian hàng: &nbsp;\r\n                                <input type='text' defaultValue={dataUser.thongTinShop.ten} style={{ width: 200 }} onChange={(e) => {\r\n                                    setDataThayDoiThongTin({\r\n                                        ...dataThayDoiThongTin,\r\n                                        ten: e.target.value\r\n                                    })\r\n                                }}></input></h6></span>\r\n                            <br></br>\r\n                            {/* <span><h6>Key Paypal:&nbsp;\r\n                                <input type='text' defaultValue={dataUser.thongTinShop.keyPaypal} style={{ width: 200 }} onChange={(e) => {\r\n                                    setDataThayDoiThongTin({\r\n                                        ...dataThayDoiThongTin,\r\n                                        keyPaypal: e.target.value\r\n                                    })\r\n                                }}></input></h6></span>\r\n                            <br></br> */}\r\n                            <span><h6>Địa chỉ:&nbsp; </h6><textarea rows=\"4\" cols=\"50\" defaultValue={dataUser.thongTinShop.diaChi} onChange={(e) => {\r\n                                setDataThayDoiThongTin({\r\n                                    ...dataThayDoiThongTin,\r\n                                    diaChi: e.target.value\r\n                                })\r\n                            }}></textarea></span>\r\n                            <br></br>\r\n                            <span><h6>Mô tả:&nbsp; </h6><textarea rows=\"4\" cols=\"50\" defaultValue={dataUser.thongTinShop.moTa} onChange={(e) => {\r\n                                setDataThayDoiThongTin({\r\n                                    ...dataThayDoiThongTin,\r\n                                    moTa: e.target.value\r\n                                })\r\n                            }}></textarea></span>\r\n                            <br></br>\r\n                            <br></br>\r\n                            <h6>URL:&nbsp;</h6>\r\n                            <p>client-warehouse.herokuapp.com</p>\r\n                            <br></br>\r\n                            {/* <h6>Vi One Up:&nbsp;  {format_curency((dataUser.thongTinShop.viShop).toString())}đ</h6>\r\n                            <br></br> */}\r\n                            <Button style={{ width: 150 }} onClick={() => {\r\n                                CapNhatThongTinGianHang();\r\n                            }}>Lưu</Button>\r\n                        </div>\r\n\r\n                        <div className='col-sm-4'>\r\n\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Pagination, Select, Input, message, Popconfirm, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { ModalChiTietProduct_ChuShop } from '../Modals/index';\r\nimport { useCookies } from 'react-cookie';\r\nimport { CheckOutlined, EditOutlined, DeleteOutlined, LockOutlined, UnlockOutlined } from '@ant-design/icons';\r\n\r\nexport default function BanHang_DanhSachSanPham() {\r\n    const [cookies, setCookie] = useCookies();\r\n    const [shopID, setShopID] = useState(cookies.shopID);\r\n    const { TabPane } = Tabs;\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [pageNow, setPageNow] = useState(1);\r\n    let history = useHistory();\r\n\r\n    async function LayDataProductTheoIDShop_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_ChuaDuyet_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-chuaduyet/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm chưa duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_DaDuyet_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-daduyet/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_DaKhoa_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-dakhoa/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm đã khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_ChuaKhoa_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-chuakhoa/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm chưa khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductSearch(dataSearch, page, shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-search/' + page + '?search=' + dataSearch + '&shopID=' + shopID);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function XoaProduct(productID) {\r\n        let resData = await axios.put('hethong/products-xoa', {\r\n            id: productID\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Xóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Xóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function KhoaProduct(productID) {\r\n        let resData = await axios.put('hethong/products-khoasanpham', {\r\n            id: productID\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Khóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    async function MoKhoaProduct(productID) {\r\n        let resData = await axios.put('hethong/products-mokhoasanpham', {\r\n            id: productID\r\n        });\r\n\r\n        if (resData.data.status === 'success') {\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n            message.success(\"Mở khóa thành công\");\r\n        } else {\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            message.error(\"Mở khóa thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductTheoIDShop_TheoTrang(pageNow - 1, shopID);\r\n    }, [shopID])\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataProductTheoIDShop_TheoTrang(pageNow - 1, shopID);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataProductTheoIDShop_TheoTrang(pageNow - 1, shopID);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataProductTheoIDShop_DaDuyet_TheoTrang(pageNow - 1, shopID);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataProductTheoIDShop_ChuaDuyet_TheoTrang(pageNow - 1, shopID);\r\n        }\r\n        if (trangThaiOption === 3) {\r\n            LayDataProductTheoIDShop_DaKhoa_TheoTrang(pageNow - 1, shopID);\r\n        }\r\n        if (trangThaiOption === 4) {\r\n            LayDataProductTheoIDShop_ChuaKhoa_TheoTrang(pageNow - 1, shopID);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalChiTietProduct_ChuShop></ModalChiTietProduct_ChuShop>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Danh sách sản phẩm\">\r\n                    <div className=\"col\" style={{ padding: 20 }}>\r\n                        <div className=\"col\" style={{ width: '100%' }}>\r\n                            <Form>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Input size='large' placeholder='ID,Tên sản phẩm' onChange={(e) => {\r\n                                            setDataSearch(e.target.value);\r\n                                        }}></Input>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                            LayDataProductSearch(dataSearch, 0, shopID);\r\n                                            setPageNow(1);\r\n                                        }}>\r\n                                            <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                            setTrangThaiOption(value);\r\n                                        }}>\r\n                                            <Option value={0}>Tất cả</Option>\r\n                                            <Option value={1}>Đã duyệt</Option>\r\n                                            <Option value={2}>Chưa duyệt</Option>\r\n                                            <Option value={3}>Đã khóa</Option>\r\n                                            <Option value={4}>Chưa khóa</Option>\r\n                                        </Select>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                            history.push('/banhang/san-pham/tao-moi-san-pham');\r\n                                        }}>\r\n                                            Tạo mới +\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </div>\r\n                        <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                            <Table bordered hover responsive>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Tên</th>\r\n                                        <th>Hình ảnh chính</th>\r\n                                        <th>Trạng thái khóa</th>\r\n                                        <th>Trạng thái duyệt</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        setSpinnerReducer === 0 && (\r\n                                            dataProduct.map((item, i) => {\r\n                                                return <tr key={item._id} onClick={(e) => {\r\n\r\n                                                    dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                                }}>\r\n                                                    <td>{item.idShow}</td>\r\n                                                    <td>{item.ten}</td>\r\n                                                    <td><Image src={item.img.chinh} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                    <td style={{ color: item.isLock === true ? 'blue' : 'red', fontWeight: 'bold' }}>{item.isLock === false ? \"Chưa khóa\" : \"Đã khóa\"}</td>\r\n                                                    <td style={{ color: item.isAccept === true ? 'blue' : 'red', fontWeight: 'bold' }}>{item.isAccept === false ? \"Chưa được Admin duyệt\" : \"Đã được Admin duyệt\"}</td>\r\n                                                    <td style={{ width: 300, paddingTop: 40 }}>\r\n                                                        <center>\r\n                                                            <Button type=\"default\" icon={<EditOutlined />} size='large' onClick={() => {\r\n                                                                dispatch({ type: 'SHOW_CHITIET_PRODUCT_CHUSHOP' });\r\n                                                            }} />\r\n                                                            <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={item.isLock ? <UnlockOutlined /> : <LockOutlined />} onClick={() => {\r\n                                                                if (item.isLock) {\r\n                                                                    MoKhoaProduct(item._id);\r\n                                                                } else {\r\n                                                                    KhoaProduct(item._id);\r\n                                                                }\r\n                                                            }} />\r\n                                                            <Popconfirm title=\"Bạn có chắc chắn muốn xóa\" okText=\"Có\" cancelText=\"Không\" onConfirm={() => {\r\n                                                                XoaProduct(item._id);\r\n                                                            }}>\r\n                                                                <Button style={{ marginLeft: 25 }} size='large' type=\"danger\" icon={<DeleteOutlined />} />\r\n                                                            </Popconfirm>\r\n\r\n                                                        </center>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                            {\r\n                                setSpinnerReducer === 1 && (\r\n                                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </Spinner>\r\n                                )\r\n                            }\r\n                            <Pagination defaultPageSize={1} current={pageNow} total={tongSoTrang} onChange={(page) => {\r\n                                dispatch({ type: 'SPINNER_DATABASE' });\r\n                                setPageNow(page)\r\n                                if (dataSearch === '') {\r\n                                    if (trangThaiOption === 0) {\r\n                                        LayDataProductTheoIDShop_TheoTrang(page - 1, shopID);\r\n                                    }\r\n                                    if (trangThaiOption === 1) {\r\n                                        LayDataProductTheoIDShop_DaDuyet_TheoTrang(page - 1, shopID);\r\n                                    }\r\n                                    if (trangThaiOption === 2) {\r\n                                        LayDataProductTheoIDShop_ChuaDuyet_TheoTrang(page - 1, shopID);\r\n                                    }\r\n                                    if (trangThaiOption === 3) {\r\n                                        LayDataProductTheoIDShop_DaKhoa_TheoTrang(page - 1, shopID);\r\n                                    }\r\n                                    if (trangThaiOption === 4) {\r\n                                        LayDataProductTheoIDShop_ChuaKhoa_TheoTrang(page - 1, shopID);\r\n                                    }\r\n                                } else {\r\n                                    LayDataProductSearch(dataSearch, page - 1, shopID);\r\n                                }\r\n\r\n                            }}>\r\n                            </Pagination>\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Form, Input, Tabs, Select, message } from 'antd';\r\nimport { axios } from '../../config/constant';\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal, Button, Spinner } from 'react-bootstrap';\r\nimport { storage } from \"../../firebase/firebase\";\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useCookies } from 'react-cookie';\r\nimport { QuillEditor } from '../allJS'\r\n\r\nexport default function BanHang_TaoMoiSanPham(props) {\r\n    const [cookies, setCookie] = useCookies();\r\n    const [shopID, setShopID] = useState(cookies.shopID);\r\n    const [files, setFiles] = useState([])\r\n    const { TabPane } = Tabs;\r\n    const { Option } = Select;\r\n    const [countAnhDaUploadThanhCong, setCountAnhDaUploadThanhCong] = useState(0);\r\n    const [countAnhDaUploadThanhCong_Chinh, setCountAnhDaUploadThanhCong_Chinh] = useState(0);\r\n    const [countAnhDaUploadThanhCong_Phu, setCountAnhDaUploadThanhCong_Phu] = useState(0);\r\n    const [firstTime, setFirstTime] = useState(true);\r\n    const [firstTime3, setFirstTime3] = useState(true);\r\n    const [firstTime4, setFirstTime4] = useState(true);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n    const [dataCountries, setDataCountries] = useState([]);\r\n    const [dataBrand, setDataBrand] = useState([]);\r\n    const [spinnerBrand, setSpinnerBrand] = useState(false);\r\n    const [disableFieldBaoHanh, setDisableFieldBaoHanh] = useState(false);\r\n    const [dataPhanLoai, setDataPhanLoai] = useState({\r\n        mauSac: {\r\n            mauSac1: '',\r\n            mauSac2: '',\r\n            mauSac3: '',\r\n            mauSac4: ''\r\n        },\r\n        size: {\r\n            size1: '',\r\n            size2: '',\r\n            size3: '',\r\n            size4: ''\r\n        }\r\n    })\r\n    const [dataTaoMoiSanPham, setDataTaoMoiSanPham] = useState({\r\n        ten: '',\r\n        img: {\r\n            chinh: '',\r\n            phu: []\r\n        },\r\n        gia: 0,\r\n        noiSanXuat: '',\r\n        moTa: '',\r\n        moTaNganGon: [],\r\n        soSao: 0,\r\n        giaTriGiamGia: 0,\r\n        soLuong: 0,\r\n        thongTinBaoHanh: {\r\n            baoHanh: true,\r\n            loaiBaoHanh: '',\r\n            thoiGianBaoHanh: '',\r\n            donViBaoHanh: ''\r\n        },\r\n        ngayTao: new Date(),\r\n        idBrand: '',\r\n        idCategory: '',\r\n        idShop: '',\r\n        idEvent: '',\r\n        isAccept: false,\r\n        isLock: false,\r\n        isDelete: false\r\n    });\r\n    const [imageAsFile, setImageAsFile] = useState([]);\r\n    const [imageAsFile_Chinh, setImageAsFile_Chinh] = useState([]);\r\n    const [imageAsFile_Phu, setImageAsFile_Phu] = useState([]);\r\n    const [imageAsUrl, setImageAsUrl] = useState([]);\r\n    const [imageAsUrl_Chinh, setImageAsUrl_Chinh] = useState([]);\r\n    const [imageAsUrl_Phu, setImageAsUrl_Phu] = useState([]);\r\n    const [dataThem, setDataThem] = useState({\r\n        ten: '',\r\n        xuatXu: '',\r\n        img: ''\r\n    });\r\n    const [showModalTaoMoiBrand, setShowModalTaoMoiBrand] = useState(false);\r\n    const [showModalTaoPhanLoai, setShowModalTaoPhanLoai] = useState(false);\r\n    const layout = {\r\n        labelCol: { span: 4 },\r\n        wrapperCol: { span: 16 },\r\n    };\r\n\r\n    const tailLayout = {\r\n        wrapperCol: { offset: 4, span: 16 },\r\n    };\r\n\r\n    const onFinish = values => {\r\n        console.log('Success:', values);\r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n\r\n                                setCountAnhDaUploadThanhCong(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl(listUrl);\r\n    }\r\n\r\n\r\n    const handleChangeIMG_Chinh = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Chinh(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setCountAnhDaUploadThanhCong_Chinh(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Chinh(listUrl);\r\n    }\r\n\r\n    const handleChangeIMG_Phu = (e) => {\r\n        var soLuongFile = e.target.files.length;\r\n        var listFile = [];\r\n        var listUrl = [];\r\n        for (let index = 0; index < soLuongFile; index++) {\r\n            listFile.push(e.target.files[index]);\r\n        }\r\n\r\n        setImageAsFile_Phu(listFile);\r\n\r\n        if (listFile.length === 0) {\r\n            console.log('Không có file nào được upload');\r\n        } else {\r\n            for (let index = 0; index < soLuongFile; index++) {\r\n                console.log('start of upload');\r\n                // async magic goes here...\r\n                if (listFile[index] === '') {\r\n                    console.error(`not an image, the image file is a ${typeof (listFile[index])}`);\r\n                }\r\n                const uploadTask = storage.ref(`/images/${listFile[index].name}`).put(listFile[index]);\r\n                uploadTask.on('state_changed',\r\n                    (snapShot) => {\r\n                        //takes a snap shot of the process as it is happening\r\n                        console.log(snapShot);\r\n                    }, (err) => {\r\n                        //catches the errors\r\n                        console.log(err)\r\n                    }, () => {\r\n                        // gets the functions from storage refences the image storage in firebase by the children\r\n                        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                        storage.ref('images').child(listFile[index].name).getDownloadURL()\r\n                            .then(fireBaseUrl => {\r\n                                // setImageAsUrl(prevObject => ({ ...prevObject, imageAsUrl: fireBaseUrl }))\r\n                                listUrl.push(fireBaseUrl);\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    img: fireBaseUrl\r\n                                });\r\n                                setCountAnhDaUploadThanhCong_Phu(countPrev => countPrev + 1);\r\n                            })\r\n                    })\r\n            }\r\n        }\r\n        setImageAsUrl_Phu(listUrl);\r\n    }\r\n\r\n    const onEditorChange = (value) => {\r\n        setDataTaoMoiSanPham({\r\n            ...dataTaoMoiSanPham,\r\n            moTa: value\r\n        })\r\n    }\r\n\r\n    const onFilesChange = (files) => {\r\n        setFiles(files)\r\n    }\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        const regSo = /^[0-9\\b]+$/;\r\n        if (dataTaoMoiSanPham.ten === '' || dataTaoMoiSanPham.idCategory === '' || dataTaoMoiSanPham.idBrand === '' || dataTaoMoiSanPham.noiSanXuat === ''\r\n            || dataTaoMoiSanPham.moTaNganGon.length === 0 || dataTaoMoiSanPham.img.chinh === '' || dataTaoMoiSanPham.gia === 0 || dataTaoMoiSanPham.soLuong === 0) {\r\n            message.error('Thông tin tạo mới sản phẩm không hợp lệ. Vui lòng kiểm tra lại');\r\n        } else {\r\n            if (!dataTaoMoiSanPham.gia.toString().match(regSo)) {\r\n                message.error('Giá gốc không hợp lệ')\r\n            } else {\r\n                if (!dataTaoMoiSanPham.giaTriGiamGia.toString().match(regSo)) {\r\n                    message.error('Giá trị giảm giá không hợp lệ')\r\n                } else {\r\n                    if (!dataTaoMoiSanPham.soLuong.toString().match(regSo)) {\r\n                        message.error('Giá trị số lượng sản phẩm không hợp lệ')\r\n                    } else {\r\n                        // message.success('ok')\r\n                        ThemSanPham();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function KiemTraDuLieuNhapThemMoiThuongHieu() {\r\n        if (dataThem.ten === '' || dataThem.xuatXu === '') {\r\n            message.error('Dữ liệu thêm mới thương hiệu không hợp lệ. Vui lòng kiểm tra lại');\r\n        } else {\r\n            ThemBrand();\r\n        }\r\n    }\r\n\r\n    async function LayDataCategoryAll() {\r\n        let resData = await axios.get('hethong/categorys');\r\n        if (resData.data.status === 'success') {\r\n            setDataCategory(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data danh mục thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataBrandAll() {\r\n        let resData = await axios.get('hethong/brands');\r\n        if (resData.data.status === 'success') {\r\n            setDataBrand(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data thương hiệu thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataCountriesAll() {\r\n        let resData = await axios.get('hethong/countries');\r\n        if (resData.data.status === 'success') {\r\n            setDataCountries(resData.data.data);\r\n        } else {\r\n            message.error(\"Lấy data Countries thất bại\");\r\n        }\r\n    }\r\n\r\n    async function ThemBrand() {\r\n        let res = await axios.post('hethong/brands-them', {\r\n            ten: dataThem.ten,\r\n            xuatXu: dataThem.xuatXu,\r\n            img: dataThem.img,\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(\"Thêm thành công danh mục mới\");\r\n            setSpinnerBrand(true);\r\n            setShowModalTaoMoiBrand(false);\r\n        } else {\r\n            message.error(res.data.message);\r\n            setShowModalTaoMoiBrand(false);\r\n        }\r\n    }\r\n\r\n    async function ThemSanPham() {\r\n        let res = await axios.post('hethong/products-them-chushop', {\r\n            phanLoai: {\r\n                mauSac: {\r\n                    mauSac1: dataPhanLoai.mauSac.mauSac1,\r\n                    mauSac2: dataPhanLoai.mauSac.mauSac2,\r\n                    mauSac3: dataPhanLoai.mauSac.mauSac3,\r\n                    mauSac4: dataPhanLoai.mauSac.mauSac4\r\n                },\r\n                size: {\r\n                    size1: dataPhanLoai.size.size1,\r\n                    size2: dataPhanLoai.size.size2,\r\n                    size3: dataPhanLoai.size.size3,\r\n                    size4: dataPhanLoai.size.size4,\r\n                }\r\n            },\r\n            ten: dataTaoMoiSanPham.ten.trim(),\r\n            img: {\r\n                chinh: dataTaoMoiSanPham.img.chinh,\r\n                phu: dataTaoMoiSanPham.img.phu,\r\n                moTaChiTiet: dataTaoMoiSanPham.img.moTaChiTiet\r\n            },\r\n            gia: dataTaoMoiSanPham.gia,\r\n            noiSanXuat: dataTaoMoiSanPham.noiSanXuat,\r\n            moTa: dataTaoMoiSanPham.moTa,\r\n            moTaNganGon: dataTaoMoiSanPham.moTaNganGon,\r\n            soSao: dataTaoMoiSanPham.soSao,\r\n            giaTriGiamGia: dataTaoMoiSanPham.giaTriGiamGia,\r\n            soLuong: dataTaoMoiSanPham.soLuong,\r\n            thongTinBaoHanh: {\r\n                baoHanh: dataTaoMoiSanPham.thongTinBaoHanh.baoHanh,\r\n                loaiBaoHanh: dataTaoMoiSanPham.thongTinBaoHanh.loaiBaoHanh,\r\n                thoiGianBaoHanh: dataTaoMoiSanPham.thongTinBaoHanh.thoiGianBaoHanh,\r\n                donViBaoHanh: dataTaoMoiSanPham.thongTinBaoHanh.donViBaoHanh\r\n            },\r\n            ngayTao: dataTaoMoiSanPham.ngayTao,\r\n            idBrand: dataTaoMoiSanPham.idBrand,\r\n            idCategory: dataTaoMoiSanPham.idCategory,\r\n            idShop: dataTaoMoiSanPham.idShop,\r\n            idEvent: dataTaoMoiSanPham.idEvent,\r\n            isAccept: dataTaoMoiSanPham.isAccept,\r\n            isLock: dataTaoMoiSanPham.isLock,\r\n            isDelete: dataTaoMoiSanPham.isDelete\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(\"Thêm thành công\");\r\n            window.location.reload();\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCategoryAll();\r\n        LayDataBrandAll();\r\n        LayDataCountriesAll();\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setDataTaoMoiSanPham({\r\n            ...dataTaoMoiSanPham,\r\n            idShop: shopID\r\n        })\r\n    }, [shopID]);\r\n\r\n    useEffect(() => {\r\n        if (spinnerBrand === true) {\r\n            LayDataBrandAll();\r\n            setSpinnerBrand(false);\r\n        }\r\n    }, [spinnerBrand]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (firstTime === false) {\r\n            if (imageAsFile.length === 0) {\r\n                message.error('Vui lòng chọn ảnh cho Thương hiệu')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong === imageAsFile.length) {\r\n                    message.success('Upload ảnh thương hiệu thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong])\r\n\r\n    useEffect(() => {\r\n        if (firstTime3 === false) {\r\n            if (imageAsFile_Chinh.length === 0) {\r\n                message.error('Vui lòng chọn ảnh chính cho sản phẩm')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Chinh === imageAsFile_Chinh.length) {\r\n                    message.success('Upload ảnh chính cho sản phẩm thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Chinh])\r\n\r\n    useEffect(() => {\r\n        if (firstTime4 === false) {\r\n            if (imageAsFile_Phu.length === 0) {\r\n                message.error('Vui lòng chọn ảnh phụ cho sản phẩm')\r\n            } else {\r\n                if (countAnhDaUploadThanhCong_Phu === imageAsFile_Phu.length) {\r\n                    message.success('Upload các ảnh phụ cho sản phẩm thành công');\r\n                }\r\n            }\r\n        }\r\n    }, [countAnhDaUploadThanhCong_Phu])\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            {/* MODAL THÊM THƯƠNG HIỆU MỚI */}\r\n            <Modal show={showModalTaoMoiBrand} size=\"lg\" animation={false} onHide={() => {\r\n                setShowModalTaoMoiBrand(false);\r\n            }}>\r\n                <Form\r\n                    name=\"basic\"\r\n                    layout='vertical'\r\n                    initialValues={{ remember: true }}\r\n                    style={{ padding: 40 }}>\r\n                    <Form.Item\r\n                        label=\"Tên\"\r\n                        name=\"ten\"\r\n                        rules={[{ required: true, message: 'Vui lòng nhập tên thương hiệu ' }]}>\r\n                        <Input onChange={(e) => {\r\n                            setDataThem({\r\n                                ...dataThem,\r\n                                ten: e.target.value\r\n                            })\r\n                        }} />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Xuất xứ\"\r\n                        name=\"xuatxu\"\r\n                        rules={[{ required: true, message: 'Vui lòng chọn xuất xứ' }]}\r\n                    >\r\n                        <Select\r\n                            showSearch\r\n                            style={{ width: '100%' }}\r\n                            placeholder=\"Chọn xuất xứ\"\r\n                            optionFilterProp=\"children\"\r\n                            filterOption={(input, option) =>\r\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                            }\r\n                            onChange={(value) => {\r\n                                setDataThem({\r\n                                    ...dataThem,\r\n                                    xuatXu: value\r\n                                })\r\n                            }}\r\n                        >\r\n                            {\r\n                                dataCountries.map((item, i) => {\r\n                                    return <Option key={item._id} value={item.name}>\r\n                                        {item.name}\r\n                                    </Option>\r\n                                })\r\n                            }\r\n                        </Select>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Ảnh đại diện\"\r\n                        name=\"username\">\r\n                        <div className='row' style={{ marginLeft: 2 }}>\r\n                            <input type='file' accept=\"image/*\"\r\n                                onChange={(e) => {\r\n                                    handleChange(e);\r\n                                    setCountAnhDaUploadThanhCong(0);\r\n                                    setFirstTime(false);\r\n                                }}>\r\n                            </input>\r\n                        </div>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        name='showanhdaidien'\r\n                        label=\"Show ảnh đại diện\">\r\n                        {\r\n                            imageAsUrl.map((src, i) => {\r\n                                return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                            })\r\n                        }\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        name='buttontaomoibrand'>\r\n                        <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                            KiemTraDuLieuNhapThemMoiThuongHieu();\r\n                        }}>Tạo Mới</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n\r\n\r\n            {/* MODAL THÊM PHÂN LOẠI */}\r\n            <Modal show={showModalTaoPhanLoai} size=\"lg\" animation={false} onHide={() => {\r\n                setShowModalTaoPhanLoai(false);\r\n            }}>\r\n                <Form\r\n                    name=\"basic\"\r\n                    layout='vertical'\r\n                    initialValues={{ remember: true }}\r\n                    style={{ padding: 40 }}>\r\n\r\n                    <Form.Item\r\n                        label=\"Màu sắc\"\r\n                        name=\"mausac\">\r\n                        <div className='row'>\r\n                            <Input placeholder='VD: Xanh' defaultValue={dataPhanLoai.mauSac.mauSac1} style={{ width: 150 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    mauSac: {\r\n                                        ...dataPhanLoai.mauSac,\r\n                                        mauSac1: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='Đỏ' defaultValue={dataPhanLoai.mauSac.mauSac2} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    mauSac: {\r\n                                        ...dataPhanLoai.mauSac,\r\n                                        mauSac2: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='Tím' defaultValue={dataPhanLoai.mauSac.mauSac3} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    mauSac: {\r\n                                        ...dataPhanLoai.mauSac,\r\n                                        mauSac3: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='Vàng' defaultValue={dataPhanLoai.mauSac.mauSac4} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    mauSac: {\r\n                                        ...dataPhanLoai.mauSac,\r\n                                        mauSac4: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                        </div>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Kích thước\"\r\n                        name=\"kichthuoc\">\r\n                        <div className='row'>\r\n                            <Input placeholder='VD: L' defaultValue={dataPhanLoai.size.size1} style={{ width: 150 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    size: {\r\n                                        ...dataPhanLoai.size,\r\n                                        size1: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='XL' defaultValue={dataPhanLoai.size.size2} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    size: {\r\n                                        ...dataPhanLoai.size,\r\n                                        size2: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='35' defaultValue={dataPhanLoai.size.size3} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    size: {\r\n                                        ...dataPhanLoai.size,\r\n                                        size3: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                            <Input placeholder='36' defaultValue={dataPhanLoai.size.size4} style={{ width: 150, marginLeft: 20 }} onChange={(e) => {\r\n                                setDataPhanLoai({\r\n                                    ...dataPhanLoai,\r\n                                    size: {\r\n                                        ...dataPhanLoai.size,\r\n                                        size4: e.target.value\r\n                                    }\r\n                                })\r\n                            }}></Input>\r\n                        </div>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        name='luuphanloai'>\r\n                        <Button type=\"primary\" style={{ marginLeft: '30%', width: 300, height: 50 }} onClick={() => {\r\n                            setShowModalTaoPhanLoai(false);\r\n                        }}>Lưu</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Tạo mới sản phẩm\">\r\n                    <div className='col'>\r\n                        <h3>Phần thông tin sản phẩm</h3>\r\n                        <Form\r\n                            {...layout}\r\n                            name=\"basic\"\r\n                            initialValues={{ remember: true }}\r\n                            onFinish={onFinish}\r\n                            onFinishFailed={onFinishFailed}\r\n                        >\r\n                            <Form.Item\r\n                                label=\"Tên sản phẩm\"\r\n                                name=\"ten\"\r\n                                rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm' }]}\r\n                            >\r\n                                <Input onChange={(e) => {\r\n                                    setDataTaoMoiSanPham({\r\n                                        ...dataTaoMoiSanPham,\r\n                                        ten: e.target.value\r\n                                    })\r\n                                }} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Danh mục\"\r\n                                name=\"danhmuc\"\r\n                                rules={[{ required: true, message: 'Vui lòng chọn danh mục' }]}\r\n                            >\r\n                                <Select\r\n                                    mode=\"multiple\"\r\n                                    style={{ width: '100%' }}\r\n                                    placeholder=\"Chọn danh mục\"\r\n                                    onChange={(value) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            idCategory: value\r\n                                        })\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        dataCategory.map((item, i) => {\r\n                                            var result = item.idParen === '' ? (\r\n                                                <Option key={item._id} value={item._id}>\r\n                                                    {item.ten}\r\n                                                </Option>\r\n                                            ) : ''\r\n                                            return result;\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                label=\"Loại sản phẩm\"\r\n                                name=\"loaisanpham\"\r\n                                rules={[{ required: false, message: 'Vui lòng chọn danh mục' }]}\r\n                            >\r\n                                <Select\r\n                                    mode=\"multiple\"\r\n                                    style={{ width: '100%' }}\r\n                                    placeholder=\"Chọn loại sản phẩm\"\r\n                                    onChange={(value) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            idCategory: value\r\n                                        })\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        dataCategory.map((item, i) => {\r\n                                            var result = item.idParen !== '' ? (\r\n                                                <Option key={item._id} value={item._id}>\r\n                                                    {item.ten}\r\n                                                </Option>\r\n                                            ) : ''\r\n                                            return result;\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Thương hiệu\"\r\n                                name=\"thuonghieu\"\r\n                                rules={[{ required: true, message: 'Vui lòng chọn thương hiệu' }]}\r\n                            >\r\n                                {\r\n                                    spinnerBrand === true && (\r\n                                        <Spinner animation=\"border\" role=\"status\">\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n\r\n                                {\r\n                                    spinnerBrand === false && (\r\n                                        <Fragment>\r\n                                            <Select\r\n                                                showSearch\r\n                                                optionFilterProp=\"children\"\r\n                                                filterOption={(input, option) =>\r\n                                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                                }\r\n                                                style={{ width: '100%' }}\r\n                                                placeholder=\"Chọn thương hiệu\"\r\n                                                onChange={(value) => {\r\n                                                    setDataTaoMoiSanPham({\r\n                                                        ...dataTaoMoiSanPham,\r\n                                                        idBrand: value\r\n                                                    })\r\n                                                }}\r\n                                            >\r\n                                                {\r\n                                                    dataBrand.map((item, i) => {\r\n                                                        return <Option key={item._id} value={item._id}>\r\n                                                            {item.ten}\r\n                                                        </Option>\r\n                                                    })\r\n                                                }\r\n                                            </Select>\r\n                                            <span>(Không tìm thấy thương hiệu phù hợp ? <Link to='' onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                setShowModalTaoMoiBrand(true);\r\n                                            }}>Tạo mới</Link>)</span>\r\n                                        </Fragment>\r\n                                    )\r\n                                }\r\n\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Nơi sản xuất\"\r\n                                name=\"noisanxuat\"\r\n                                rules={[{ required: true, message: 'Vui lòng chọn nơi sản xuất' }]}\r\n                            >\r\n                                <Select\r\n                                    optionFilterProp=\"children\"\r\n                                    filterOption={(input, option) =>\r\n                                        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                    }\r\n                                    style={{ width: '100%' }}\r\n                                    placeholder=\"Chọn nơi sản xuất\"\r\n                                    onChange={(value) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            noiSanXuat: value\r\n                                        })\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        dataCountries.map((item, i) => {\r\n                                            return <Option key={item._id} value={item.name}>\r\n                                                {item.name}\r\n                                            </Option>\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Đặc điểm nổi bật\"\r\n                                name=\"dacdiemnoibat\"\r\n                                rules={[{ required: true }]}\r\n                            >\r\n                                <Form.List name=\"dacdiemnoibat\">\r\n                                    {(fields, { add, remove }) => {\r\n                                        return (\r\n                                            <div>\r\n                                                {fields.map((field, index) => (\r\n                                                    <Form.Item\r\n                                                        name={'phandacdiemnoibat' + field.name}\r\n                                                        required={false}\r\n                                                        key={field.key}\r\n                                                    >\r\n                                                        <Form.Item\r\n                                                            name={'dacdiemnoibat' + field.name}\r\n                                                            {...field}\r\n                                                            validateTrigger={['onChange', 'onBlur']}\r\n                                                            rules={[\r\n                                                                {\r\n                                                                    required: true,\r\n                                                                    whitespace: true,\r\n                                                                    message: \"Vui lòng nhập đặc điểm nổi bật hoặc xóa nó\",\r\n                                                                },\r\n                                                            ]}\r\n                                                            noStyle\r\n                                                        >\r\n                                                            <Input placeholder={'Đặc điểm ' + (index + 1)} style={{ width: '95%' }}\r\n                                                                onBlur={(e) => {\r\n                                                                    if (e.target.value !== dataTaoMoiSanPham.moTaNganGon[index]) {\r\n                                                                        var newArray = dataTaoMoiSanPham.moTaNganGon;\r\n                                                                        newArray[index] = e.target.value\r\n                                                                        setDataTaoMoiSanPham({\r\n                                                                            ...dataTaoMoiSanPham,\r\n                                                                            moTaNganGon: newArray\r\n                                                                        })\r\n                                                                    }\r\n                                                                }} />\r\n                                                        </Form.Item>\r\n                                                        {fields.length > 1 ? (\r\n                                                            <MinusCircleOutlined\r\n                                                                className=\"dynamic-delete-button\"\r\n                                                                style={{ margin: '0 8px' }}\r\n                                                                onClick={() => {\r\n                                                                    remove(field.name);\r\n                                                                    dataTaoMoiSanPham.moTaNganGon.splice(parseInt(field.name), 1);\r\n                                                                }}\r\n                                                            />\r\n                                                        ) : null}\r\n                                                    </Form.Item>\r\n                                                ))}\r\n                                                <Form.Item\r\n                                                    name='buttonthemdacdiemnoibat'>\r\n                                                    <Button\r\n                                                        type=\"dashed\"\r\n                                                        onClick={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            add();\r\n                                                        }}\r\n                                                        style={{ width: '95%' }}\r\n                                                    >\r\n                                                        <PlusOutlined /> Thêm đặc điểm nổi bật\r\n                                                    </Button>\r\n                                                </Form.Item>\r\n                                            </div>\r\n                                        );\r\n                                    }}\r\n                                </Form.List>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Mô tả chi tiết\"\r\n                                name=\"motachitiet\">\r\n                                <QuillEditor\r\n                                    placeholder={\"Nhập nội dung\"}\r\n                                    onEditorChange={onEditorChange}\r\n                                    onFilesChange={onFilesChange}\r\n                                />\r\n                            </Form.Item>\r\n\r\n\r\n\r\n\r\n                            <Form.Item\r\n                                label=\"Ảnh chính \"\r\n                                name=\"anhchinh\"\r\n                                rules={[{ required: true, message: 'Vui lòng chọn ảnh' }]}>\r\n                                <input type='file' accept=\"image/*\"\r\n                                    onChange={(e) => {\r\n                                        handleChangeIMG_Chinh(e);\r\n                                        setCountAnhDaUploadThanhCong_Chinh(0);\r\n                                        setFirstTime3(false);\r\n                                    }}>\r\n                                </input>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                name='showanhchinh'\r\n                                label=\"Show ảnh chính\">\r\n                                {\r\n                                    imageAsUrl_Chinh.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                }\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Ảnh phụ\"\r\n                                name=\"anhphu\">\r\n                                <input type='file' accept=\"image/*\"\r\n                                    multiple\r\n                                    onChange={(e) => {\r\n                                        handleChangeIMG_Phu(e);\r\n                                        setCountAnhDaUploadThanhCong_Phu(0);\r\n                                        setFirstTime4(false);\r\n                                    }}>\r\n                                </input>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                name='showanhphu'\r\n                                label=\"Show các ảnh phụ\">\r\n                                {\r\n                                    imageAsUrl_Phu.map((src, i) => {\r\n                                        return <img key={i} style={{ marginLeft: 20 }} src={src} alt={'ảnh ' + i} width='200' height='150'></img>\r\n                                    })\r\n                                }\r\n                            </Form.Item>\r\n                        </Form>\r\n                        <br></br>\r\n                        <h3>Phần thông tin bán hàng</h3>\r\n                        <Form {...layout}>\r\n                            <Form.Item\r\n                                label=\"Giá gốc\"\r\n                                name=\"giagoc\"\r\n                                rules={[{ required: true, message: 'Vui lòng nhập giá gốc sản phẩm' }]}>\r\n                                <Input\r\n                                    onChange={(e) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            gia: parseInt(e.target.value)\r\n                                        })\r\n                                    }}></Input>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Giá trị giảm\"\r\n                                name=\"giatrigiam\">\r\n                                <Input defaultValue={0}\r\n                                    onChange={(e) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            giaTriGiamGia: parseInt(e.target.value)\r\n                                        })\r\n                                    }}></Input>(Nếu giá trị nhập nhỏ hơn 100 thì hệ thống sẽ tự động giảm theo %)\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Số lượng sản phẩm\"\r\n                                name=\"soluong\"\r\n                                rules={[{ required: true, message: 'Vui lòng nhập số lượng sản phẩm' }]}>\r\n                                <Input\r\n                                    onChange={(e) => {\r\n                                        setDataTaoMoiSanPham({\r\n                                            ...dataTaoMoiSanPham,\r\n                                            soLuong: parseInt(e.target.value)\r\n                                        })\r\n                                    }}></Input>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Màu sắc, kích thước\"\r\n                                name=\"mausackichthuoc\">\r\n                                <Button onClick={() => {\r\n                                    setShowModalTaoPhanLoai(true);\r\n                                }}>Thêm phân loại</Button>\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Bảo hành\"\r\n                                name=\"baohanh\">\r\n                                <Select style={{ width: '100%' }}\r\n                                    defaultValue={0}\r\n                                    onChange={(value) => {\r\n                                        if (value === 1) {\r\n                                            setDisableFieldBaoHanh(true);\r\n                                            setDataTaoMoiSanPham({\r\n                                                ...dataTaoMoiSanPham,\r\n                                                thongTinBaoHanh: {\r\n                                                    baoHanh: false,\r\n                                                    donViBaoHanh: '',\r\n                                                    loaiBaoHanh: '',\r\n                                                    thoiGianBaoHanh: ''\r\n                                                }\r\n                                            })\r\n                                        }\r\n\r\n                                        if (value === 0) {\r\n                                            setDisableFieldBaoHanh(false);\r\n                                            setDataTaoMoiSanPham({\r\n                                                ...dataTaoMoiSanPham,\r\n                                                thongTinBaoHanh: {\r\n                                                    baoHanh: true,\r\n                                                    donViBaoHanh: '',\r\n                                                    loaiBaoHanh: '',\r\n                                                    thoiGianBaoHanh: ''\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    }}>\r\n                                    <Option value={0}>Có</Option>\r\n                                    <Option value={1}>Không</Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n\r\n                            {\r\n                                dataTaoMoiSanPham.thongTinBaoHanh.baoHanh === true && (\r\n                                    <Fragment>\r\n                                        <Form.Item\r\n                                            label=\"Thời gian bảo hành\"\r\n                                            name=\"thoigianbaohanh\"\r\n                                            rules={[{ required: true, message: 'Vui lòng nhập thời gian bảo hành' }]}>\r\n                                            <Input disabled={disableFieldBaoHanh}\r\n                                                onChange={(e) => {\r\n                                                    setDataTaoMoiSanPham({\r\n                                                        ...dataTaoMoiSanPham,\r\n                                                        thongTinBaoHanh: {\r\n                                                            ...dataTaoMoiSanPham.thongTinBaoHanh,\r\n                                                            thoiGianBaoHanh: parseInt(e.target.value)\r\n                                                        }\r\n                                                    })\r\n                                                }}></Input>\r\n                                        </Form.Item>\r\n\r\n                                        <Form.Item\r\n                                            label=\"Đơn vị thời gian bảo hành\"\r\n                                            name=\"donvibaohanh\"\r\n                                            rules={[{ required: true, message: 'Vui lòng nhập đơn vị thời gian bảo hành' }]}>\r\n                                            <Select style={{ width: '100%' }}\r\n                                                defaultValue={0}\r\n                                                disabled={disableFieldBaoHanh}\r\n                                                onChange={(value) => {\r\n                                                    setDataTaoMoiSanPham({\r\n                                                        ...dataTaoMoiSanPham,\r\n                                                        thongTinBaoHanh: {\r\n                                                            ...dataTaoMoiSanPham.thongTinBaoHanh,\r\n                                                            donViBaoHanh: value - 1\r\n                                                        }\r\n                                                    })\r\n                                                }}>\r\n                                                <Option disabled={true} value={0}>Chọn đơn vị thời gian</Option>\r\n                                                <Option value={1}>Tháng</Option>\r\n                                                <Option value={2}>Năm</Option>\r\n                                            </Select>\r\n                                        </Form.Item>\r\n\r\n                                        <Form.Item\r\n                                            label=\"Loại bảo hành\"\r\n                                            name=\"loaibaohanh\"\r\n                                            rules={[{ required: true, message: 'Vui lòng chọn loại bảo hành' }]}>\r\n                                            <Select style={{ width: '100%' }}\r\n                                                defaultValue={0}\r\n                                                disabled={disableFieldBaoHanh}\r\n                                                onChange={(value) => {\r\n                                                    setDataTaoMoiSanPham({\r\n                                                        ...dataTaoMoiSanPham,\r\n                                                        thongTinBaoHanh: {\r\n                                                            ...dataTaoMoiSanPham.thongTinBaoHanh,\r\n                                                            loaiBaoHanh: value - 1\r\n                                                        }\r\n                                                    })\r\n                                                }}>\r\n                                                <Option disabled={true} value={0}>Chọn loại bảo hành</Option>\r\n                                                <Option value={1}>Bảo hành chính hãng</Option>\r\n                                                <Option value={2}>Bảo hành bởi shop thông qua WareHouse</Option>\r\n                                            </Select>\r\n                                        </Form.Item>\r\n                                    </Fragment>\r\n                                )\r\n                            }\r\n                        </Form>\r\n                    </div>\r\n\r\n                    <Form {...layout}>\r\n                        <Form.Item {...tailLayout}\r\n                            name='buttontaomoisanpham'>\r\n                            <Button\r\n                                style={{ width: 200 }}\r\n                                onClick={() => {\r\n                                    KiemTraDuLieuNhap();\r\n                                }}\r\n                                onMouseOver={() => {\r\n                                    setDataTaoMoiSanPham({\r\n                                        ...dataTaoMoiSanPham,\r\n                                        img: {\r\n                                            chinh: imageAsUrl_Chinh[0],\r\n                                            phu: imageAsUrl_Phu\r\n                                        }\r\n                                    })\r\n                                }}>Tạo mới</Button>\r\n                        </Form.Item>\r\n\r\n                        {/* <Form.Item {...tailLayout}\r\n                            name='buttontest'>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    console.log(dataTaoMoiSanPham)\r\n                                    console.log(dataPhanLoai);\r\n                                }}\r\n                                onMouseOver={() => {\r\n                                    setDataTaoMoiSanPham({\r\n                                        ...dataTaoMoiSanPham,\r\n                                        img: {\r\n                                            chinh: imageAsUrl_Chinh[0],\r\n                                            phu: imageAsUrl_Phu\r\n                                        }\r\n                                    })\r\n                                }}>Test</Button>\r\n                        </Form.Item> */}\r\n                    </Form>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment >\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Pagination, Select, Input, message, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Row, Col, Table, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { ModalChiTietDonHang_ChuShop } from '../Modals/index';\r\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons';\r\n\r\n\r\nexport default function BanHang_DonHang() {\r\n    const [cookies, setCookie] = useCookies();\r\n    const [shopID, setShopID] = useState(cookies.shopID);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const dispatch = useDispatch();\r\n    const { TabPane } = Tabs;\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [dataChiTietDonHang, setDataChiTietDonHang] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n    const [dataShowChiTietDonHang, setDataShowChiTietDonHang] = useState({\r\n        idShow: '',\r\n        ten: '',\r\n        thanhTien: '',\r\n        soLuong: '',\r\n        mauSac: '',\r\n        size: '',\r\n        ghiChu: '',\r\n        trangThai: ''\r\n    })\r\n    const [dataNguoiMua, setDataNguoiMua] = useState({\r\n        ten: '',\r\n        sdt: '',\r\n        diaChi: ''\r\n    })\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataDonHang(idOrder, idOrderDetail) {\r\n        var ketqua = false;\r\n        let resData = await axios.get('hethong/orders-item?idOrder=' + idOrder);\r\n        if (resData.data.status === 'success') {\r\n            ketqua = true;\r\n            setDataNguoiMua({\r\n                ten: resData.data.data.thongTinNguoiMua.ten,\r\n                sdt: resData.data.data.thongTinNguoiMua.sdt,\r\n                diaChi: resData.data.data.thongTinNguoiMua.diaChi\r\n            })\r\n        } else {\r\n            message.error(\"Lấy data đơn hàng thất bại\");\r\n        }\r\n\r\n        if (ketqua === true) {\r\n            LayDataChiTietDonHangTheoIdChiTietDonHang(idOrderDetail);\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHangTheoIdChiTietDonHang(idOrderDetail) {\r\n        var ketqua = false;\r\n        let resData = await axios.get('hethong/order-details-item?idOrderDetail=' + idOrderDetail);\r\n        if (resData.data.status === 'success') {\r\n            ketqua = true;\r\n            setDataShowChiTietDonHang({\r\n                idShow: resData.data.data.idShow,\r\n                ten: resData.data.data.ten,\r\n                thanhTien: resData.data.data.thanhTien,\r\n                soLuong: resData.data.data.soLuong,\r\n                mauSac: resData.data.data.mauSac,\r\n                size: resData.data.data.size,\r\n                ghiChu: resData.data.data.ghiChu,\r\n                trangThai: resData.data.data.trangThai\r\n            });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng thất bại\");\r\n        }\r\n\r\n        if (ketqua === true) {\r\n            dispatch({ type: 'SHOW_CHITIET_DONHANG_CHUSHOP' });\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_ChoDuyet_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-choduyet/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng chờ duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_DaDuyet_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-daduyet/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng đã duyệt thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_DangVanChuyen_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-dangvanchuyen/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng đang vận chuyển thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_KhachNhanHang_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-khachnhanhang/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng khách đã nhận hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function SuaTrangThaiThanh_DaDuyet(id) {\r\n        let result = await axios.put('hethong/order-details-sua-daduyet', {\r\n            id: id\r\n        });\r\n\r\n        if (result.data.status === 'success') {\r\n            CapNhatLichSu(id, 1);\r\n        } else {\r\n            message.error('Sửa trạng thái thất bại');\r\n        }\r\n    }\r\n\r\n    async function CapNhatLichSu(idOrderDetail, trangThai) {\r\n        let result = await axios.put('hethong/lichsu-capnhat', {\r\n            idOrderDetail: idOrderDetail,\r\n            trangThai: trangThai\r\n        });\r\n\r\n        if (result.data.status === 'success') {\r\n            message.success('Đã cập nhật trạng thái thành công');\r\n            dispatch({ type: 'RELOAD_DATABASE' });\r\n        } else {\r\n            message.error('Cập nhật trạng thái thất bại')\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_HoanThanh_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-hoanthanh/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng đã hoàn thành thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataChiTietDonHang_TheoIDShop_Huy_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/order-details-shop-huy/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataChiTietDonHang(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data chi tiết đơn hàng đã hủy thất bại\");\r\n        }\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataChiTietDonHang_TheoIDShop_TheoTrang(0, shopID);\r\n    }, [shopID]);\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            if (trangThaiOption === 0) {\r\n                LayDataChiTietDonHang_TheoIDShop_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 1) {\r\n                LayDataChiTietDonHang_TheoIDShop_ChoDuyet_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 2) {\r\n                LayDataChiTietDonHang_TheoIDShop_DaDuyet_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 3) {\r\n                LayDataChiTietDonHang_TheoIDShop_DangVanChuyen_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 4) {\r\n                LayDataChiTietDonHang_TheoIDShop_KhachNhanHang_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 5) {\r\n                LayDataChiTietDonHang_TheoIDShop_HoanThanh_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            if (trangThaiOption === 6) {\r\n                LayDataChiTietDonHang_TheoIDShop_Huy_TheoTrang(currentPage - 1, shopID);\r\n            }\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            setTrangThaiOption(0);\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataChiTietDonHang_TheoIDShop_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataChiTietDonHang_TheoIDShop_ChoDuyet_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataChiTietDonHang_TheoIDShop_DaDuyet_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 3) {\r\n            LayDataChiTietDonHang_TheoIDShop_DangVanChuyen_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 4) {\r\n            LayDataChiTietDonHang_TheoIDShop_KhachNhanHang_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 5) {\r\n            LayDataChiTietDonHang_TheoIDShop_HoanThanh_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 6) {\r\n            LayDataChiTietDonHang_TheoIDShop_Huy_TheoTrang(0, shopID);\r\n        }\r\n    }, [trangThaiOption]);\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalChiTietDonHang_ChuShop dataNguoiMua={dataNguoiMua} dataShowChiTietDonHang={dataShowChiTietDonHang}></ModalChiTietDonHang_ChuShop>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Đơn hàng\">\r\n                    <div className=\"col\" style={{ padding: 20 }}>\r\n                        <div className=\"col\" style={{ width: '100%' }}>\r\n                            <Form>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Input size='large' placeholder='Tìm theo mã đơn hàng hoặc tên người mua' onChange={(e) => {\r\n\r\n                                        }}></Input>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Button type=\"primary\" style={{ width: 200, height: 40 }} onClick={() => {\r\n                                            console.log(dataChiTietDonHang)\r\n                                        }}>\r\n                                            <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                            setTrangThaiOption(value);\r\n                                        }}>\r\n                                            <Option value={0}>Tất cả</Option>\r\n                                            <Option value={1}>Chờ duyệt</Option>\r\n                                            <Option value={2}>Đã duyệt</Option>\r\n                                            <Option value={3}>Đang vận chuyển</Option>\r\n                                            <Option value={4}>Khách đã nhận hàng</Option>\r\n                                            <Option value={5}>Hoàn thành</Option>\r\n                                            <Option value={6}>Hủy</Option>\r\n                                        </Select>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </div>\r\n                        <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                            <Table bordered hover responsive>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID Đơn hàng</th>\r\n                                        <th>ID Chi tiết</th>\r\n                                        <th>Tên sản phẩm</th>\r\n                                        <th>Tổng tiền</th>\r\n                                        <th>Ngày đặt</th>\r\n                                        <th>Trạng thái</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        setSpinnerReducer === 0 && (\r\n                                            dataChiTietDonHang.map((item, i) => {\r\n                                                return <tr key={i}>\r\n                                                    <td>{item.idOrder}</td>\r\n                                                    <td>{item.idShow}</td>\r\n                                                    <td style={{ width: 400 }}>{item.ten}</td>\r\n                                                    <td>{format_curency(item.thanhTien.toString())}</td>\r\n                                                    <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                                    <td>\r\n                                                        {\r\n                                                            item.trangThai === 0 && (\r\n                                                                <span style={{ color: 'red' }}><strong>Chưa duyệt</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                        {\r\n                                                            item.trangThai === 1 && (\r\n                                                                <span style={{ color: 'blue' }}><strong>Đã duyệt</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                        {\r\n                                                            item.trangThai === 2 && (\r\n                                                                <span style={{ color: '#CC00FF' }}><strong>Đang vận chuyển</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                        {\r\n                                                            item.trangThai === 3 && (\r\n                                                                <span style={{ color: '#006600' }}><strong>Khách đã nhận hàng</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                        {\r\n                                                            item.trangThai === 4 && (\r\n                                                                <span style={{ color: 'green' }}><strong>Hoàn thành</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                        {\r\n                                                            item.trangThai === 5 && (\r\n                                                                <span style={{ color: 'black' }}><strong>Hủy</strong></span>\r\n                                                            )\r\n                                                        }\r\n                                                    </td>\r\n                                                    <td style={{ width: 200, paddingTop: 10 }}>\r\n                                                        <center>\r\n                                                            <Button type=\"default\" icon={<EditOutlined />} size='large' onClick={() => {\r\n                                                                LayDataDonHang(item.idOrder, item.idShow);\r\n                                                            }} />\r\n                                                            {\r\n                                                                item.trangThai === 0 && (\r\n                                                                    <Button style={{ marginLeft: 25 }} size='large' type=\"primary\" icon={<CheckOutlined />}\r\n                                                                        onClick={() => {\r\n                                                                            SuaTrangThaiThanh_DaDuyet(item.idShow);\r\n                                                                        }} />\r\n                                                                )\r\n                                                            }\r\n                                                        </center>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                            {\r\n                                setSpinnerReducer === 1 && (\r\n                                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </Spinner>\r\n                                )\r\n                            }\r\n                            <Pagination defaultPageSize={1} current={currentPage} total={tongSoTrang} onChange={(page) => {\r\n                                setCurrentPage(page);\r\n                                dispatch({ type: 'SPINNER_DATABASE' });\r\n                                if (trangThaiOption === 0) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 1) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_ChoDuyet_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 2) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_DaDuyet_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 3) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_DangVanChuyen_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 4) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_KhachNhanHang_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 5) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_HoanThanh_TheoTrang(page - 1, shopID);\r\n                                }\r\n                                if (trangThaiOption === 6) {\r\n                                    LayDataChiTietDonHang_TheoIDShop_Huy_TheoTrang(page - 1, shopID);\r\n                                }\r\n                            }}>\r\n                            </Pagination>\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Pagination, Select, Input, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { ModalCapNhatGiaTriGiamGia } from '../Modals/index';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function BanHang_DanhSachGiamGia() {\r\n    const [cookies, setCookie] = useCookies();\r\n    const [shopID, setShopID] = useState(cookies.shopID);\r\n    const { TabPane } = Tabs;\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function LayDataProductSearch(dataSearch, page, shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-search/' + page + '?search=' + dataSearch + '&shopID=' + shopID);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm theo search thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductGiamGiaTheoIdShop(page, shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-sale/' + page + '?shopID=' + shopID);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm giảm giá thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductKhongGiamGiaTheoIdShop(page, shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-nosale/' + page + '?shopID=' + shopID);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm không giảm giá thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductGiamGiaTheoIdShop(0, shopID);\r\n    }, [shopID])\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            if (trangThaiOption === 0) {\r\n                LayDataProductGiamGiaTheoIdShop(currentPage - 1, shopID);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                setTrangThaiOption(0);\r\n            } else {\r\n                LayDataProductKhongGiamGiaTheoIdShop(currentPage - 1, shopID);\r\n                dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n                setTrangThaiOption(1);\r\n            }\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataProductGiamGiaTheoIdShop(0, shopID);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataProductKhongGiamGiaTheoIdShop(0, shopID);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalCapNhatGiaTriGiamGia></ModalCapNhatGiaTriGiamGia>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Danh sách giảm giá\">\r\n                    <div className=\"col\" style={{ padding: 20 }}>\r\n                        <div className=\"col\" style={{ width: '100%' }}>\r\n                            <Form>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Input size='large' placeholder='ID,Tên sản phẩm' onChange={(e) => {\r\n                                            setDataSearch(e.target.value);\r\n                                        }}></Input>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Button variant=\"primary\" style={{ width: 200 }} onClick={() => {\r\n                                            LayDataProductSearch(dataSearch, 0, shopID);\r\n                                        }}>\r\n                                            <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                            setTrangThaiOption(value);\r\n                                        }}>\r\n                                            <Option value={0}>Các sản phẩm giảm giá</Option>\r\n                                            <Option value={1}>Các sản phẩm không giảm giá</Option>\r\n\r\n                                        </Select>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </div>\r\n                        <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                            <Table bordered hover responsive>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Tên</th>\r\n                                        <th>Hình ảnh</th>\r\n                                        <th>Giá trị giảm</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        setSpinnerReducer === 0 && (\r\n                                            dataProduct.map((item, i) => {\r\n                                                return <tr key={item._id}>\r\n                                                    <td>{item.idShow}</td>\r\n                                                    <td style={{ width: 500 }}>{item.ten}</td>\r\n                                                    <td><Image src={item.img.chinh} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                    <td>{item.giaTriGiamGia < 100 ? item.giaTriGiamGia.toString() + '%' : format_curency(item.giaTriGiamGia.toString()) + ' đ'}</td>\r\n                                                    <td>\r\n                                                        <Button type=\"primary\" style={{ marginLeft: '10%', height: 50, marginTop: 25 }} onClick={() => {\r\n                                                            dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                                            dispatch({ type: 'SHOW_CAPNHATGIATRIGIAM' });\r\n                                                        }}>Cập nhật giá trị giảm giá</Button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                            {\r\n                                setSpinnerReducer === 1 && (\r\n                                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </Spinner>\r\n                                )\r\n                            }\r\n\r\n                            <Pagination defaultPageSize={1} current={currentPage} total={tongSoTrang} onChange={(page) => {\r\n                                setCurrentPage(page);\r\n                                dispatch({ type: 'SPINNER_DATABASE' });\r\n                                if (trangThaiOption === 0) {\r\n                                    LayDataProductGiamGiaTheoIdShop(page - 1, shopID);\r\n                                } else {\r\n                                    LayDataProductKhongGiamGiaTheoIdShop(page - 1, shopID);\r\n                                }\r\n                            }}>\r\n                            </Pagination>\r\n\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Pagination, Select, Input, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { ModalCapNhatKho } from '../Modals/index';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function BanHang_QuanLyTonKho() {\r\n    const [cookies, setCookie] = useCookies();\r\n    const [shopID, setShopID] = useState(cookies.shopID);\r\n    const { TabPane } = Tabs;\r\n    const { Option } = Select;\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const reloadDatabaseReducer = useSelector(state => state.reloadDatabase);\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataSearch, setDataSearch] = useState('');\r\n    const [trangThaiOption, setTrangThaiOption] = useState(0);\r\n\r\n\r\n\r\n    async function LayDataProductTheoIDShop_TheoTrang(page, idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop/' + page + '?idShop=' + idShop);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_ConTrongKho(idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-kho?idShop=' + idShop + '&option=' + 1);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm còn trong kho thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductTheoIDShop_DaHetHang(idShop) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-shop-kho?idShop=' + idShop + '&option=' + 2);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm đã hết hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    async function LayDataProductSearch(dataSearch, page, shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let resData = await axios.get('hethong/products-search/' + page + '?search=' + dataSearch + '&shopID=' + shopID);\r\n        if (resData.data.status === 'success') {\r\n            setDataProduct(resData.data.data);\r\n            setTongSoTrang(resData.data.soTrang);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error(\"Lấy data sản phẩm theo serach thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductTheoIDShop_TheoTrang(0, shopID);\r\n    }, [shopID])\r\n\r\n    useEffect(() => {\r\n        if (reloadDatabaseReducer) {\r\n            LayDataProductTheoIDShop_TheoTrang(currentPage - 1, shopID);\r\n            dispatch({ type: 'NO_RELOAD_DATABASE' });\r\n            setTrangThaiOption(0);\r\n        }\r\n    }, [reloadDatabaseReducer]);\r\n\r\n    useEffect(() => {\r\n        if (trangThaiOption === 0) {\r\n            LayDataProductTheoIDShop_TheoTrang(0, shopID);\r\n        }\r\n        if (trangThaiOption === 1) {\r\n            LayDataProductTheoIDShop_ConTrongKho(shopID);\r\n        }\r\n        if (trangThaiOption === 2) {\r\n            LayDataProductTheoIDShop_DaHetHang(shopID);\r\n        }\r\n    }, [trangThaiOption])\r\n\r\n    return (\r\n        <Fragment>\r\n            <ModalCapNhatKho></ModalCapNhatKho>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Quản lý kho\">\r\n                    <div className=\"col\" style={{ padding: 20 }}>\r\n                        <div className=\"col\" style={{ width: '100%' }}>\r\n                            <Form>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Input size='large' placeholder='ID,Tên sản phẩm' onChange={(e) => {\r\n                                            setDataSearch(e.target.value);\r\n                                        }}></Input>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Button variant=\"primary\" style={{ width: 200 }} onClick={() => {\r\n                                            LayDataProductSearch(dataSearch, 0, shopID);\r\n                                        }}>\r\n                                            <i className=\"fa fa-search\"></i> &nbsp; Tìm kiếm\r\n                                        </Button>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Select style={{ width: 300 }} size='large' defaultValue={0} onChange={(value) => {\r\n                                            setTrangThaiOption(value);\r\n                                        }}>\r\n                                            <Option value={0}>Tất cả</Option>\r\n                                            <Option value={1}>Còn trong kho</Option>\r\n                                            <Option value={2}>Đã bán hết</Option>\r\n\r\n                                        </Select>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </div>\r\n                        <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                            <Table bordered hover responsive>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Tên</th>\r\n                                        <th>Hình ảnh</th>\r\n                                        <th>Số lượng</th>\r\n                                        <th>Số lượng đã bán</th>\r\n                                        <th>Trạng thái</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        setSpinnerReducer === 0 && (\r\n                                            dataProduct.map((item, i) => {\r\n                                                return <tr key={item._id} onClick={(e) => {\r\n                                                    dispatch({ type: 'OBJECT_ID_NOW', id: item._id });\r\n                                                }}>\r\n                                                    <td>{item.idShow}</td>\r\n                                                    <td style={{ width: 300 }}>{item.ten}</td>\r\n                                                    <td><Image src={item.img.chinh} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                    <td style={{ width: 200 }}>{item.soLuong}</td>\r\n                                                    <td>{item.soLuongDaBan}</td>\r\n                                                    <td style={{ fontWeight: 'bold' }}>\r\n                                                        {item.soLuongDaBan < item.soLuong ? (<span style={{ color: 'blue', fontWeight: 'bold' }}>Còn trong kho</span>) : (<span style={{ color: 'red', fontWeight: 'bold' }}>Đã bán hết</span>)}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <Button onClick={() => {\r\n                                                            dispatch({ type: 'SHOW_CAPNHATKHO' })\r\n                                                        }}>Cập nhật kho</Button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                            {\r\n                                setSpinnerReducer === 1 && (\r\n                                    <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                        <span className=\"sr-only\">Loading...</span>\r\n                                    </Spinner>\r\n                                )\r\n                            }\r\n                            {\r\n                                trangThaiOption === 0 && (\r\n                                    <Pagination defaultPageSize={1} current={currentPage} total={tongSoTrang} onChange={(page) => {\r\n                                        setCurrentPage(page);\r\n                                        dispatch({ type: 'SPINNER_DATABASE' });\r\n                                        LayDataProductTheoIDShop_TheoTrang(page - 1, shopID);\r\n                                    }}>\r\n                                    </Pagination>\r\n                                )\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Pagination, Select, Input, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { ModalCapNhatKho } from '../Modals/index';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function BanHang_TongHopDonHang() {\r\n    const { TabPane } = Tabs;\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [loiNhuanHomNay, setLoiNhuanHomNay] = useState(0);\r\n    const [donHangChoXacNhan, setDonHangChoXacNhan] = useState(0);\r\n    const [donHangDangVanChuyen, setDonHangDangVanChuyen] = useState(0);\r\n    const [donHangDatNgayHomQua, setDonHangDatNgayHomQua] = useState(0);\r\n    const [donHangDat7NgayGanNhat, setDonHangDat7NgayGanNhat] = useState(0);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function TinhLoiNhuanHomNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhloinhuanhomnay?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setLoiNhuanHomNay(res.data.data);\r\n        } else {\r\n            message.error('Tính lợi nhuận hôm nay thất bại')\r\n        }\r\n    }\r\n\r\n    async function TinhDonHangChoXacNhan(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdonhang-choxacnhan?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDonHangChoXacNhan(res.data.data);\r\n        } else {\r\n            message.error('Tính đơn hàng chờ xác nhận thất bại hôm nay thất bại')\r\n        }\r\n    }\r\n\r\n    async function TinhDonHangDangVanChuyen(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdonhang-dangvanchuyen?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDonHangDangVanChuyen(res.data.data);\r\n        } else {\r\n            message.error('Tính đơn hàng đang vận chuyển thất bại')\r\n        }\r\n    }\r\n\r\n    async function TinhDonHangDatNgayHomQua(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdonhang-datngayhomqua?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDonHangDatNgayHomQua(res.data.data);\r\n        } else {\r\n            message.error('Tính đơn hàng đặt ngày hôm qua thất bại')\r\n        }\r\n    }\r\n\r\n    async function TinhDonHangDat7NgayGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdonhang-datbayngaygannhat?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDonHangDat7NgayGanNhat(res.data.data);\r\n        } else {\r\n            message.error('Tính đơn hàng đặt 7 ngày gần nhất thất bại')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        TinhLoiNhuanHomNay(cookies.shopID);\r\n        TinhDonHangDangVanChuyen(cookies.shopID);\r\n        TinhDonHangChoXacNhan(cookies.shopID);\r\n        TinhDonHangDatNgayHomQua(cookies.shopID);\r\n        TinhDonHangDat7NgayGanNhat(cookies.shopID);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab='Tổng hợp đơn hàng'>\r\n                    <div className='container'>\r\n                        <div className='col'>\r\n                            <div className='row' style={{ justifyContent: 'center', alignItems: 'center' }}>\r\n                                <span style={{ fontSize: 20 }}><strong>LỢI NHUẬN HÔM NAY</strong></span>\r\n                            </div>\r\n                            <div className='row' style={{ justifyContent: 'center', alignItems: 'center' }}>\r\n                                <span style={{ fontSize: 20, color: 'orange' }}><strong>{format_curency(loiNhuanHomNay.toString())} đ</strong></span>\r\n                            </div>\r\n                            <div className='row' style={{ height: 'auto', padding: 5, backgroundColor: 'orange', color: 'white', borderRadius: 5 }}>\r\n                                <div className='col-sm-10'>\r\n                                    Đơn hàng chờ xác nhận\r\n                                </div>\r\n                                <div className='col-sm-2'>\r\n                                    {donHangChoXacNhan.toString()}\r\n                                </div>\r\n                            </div>\r\n                            <br></br>\r\n                            <div className='row' style={{ height: 'auto', padding: 5, backgroundColor: 'orange', color: 'white', borderRadius: 5 }}>\r\n                                <div className='col-sm-10'>\r\n                                    Đơn hàng đang vận chuyển\r\n                                </div>\r\n                                <div className='col-sm-2'>\r\n                                    {donHangDangVanChuyen.toString()}\r\n                                </div>\r\n                            </div>\r\n                            <br></br>\r\n                            <div className='row' style={{ height: 'auto', padding: 5 }}>\r\n                                <div className='col-sm-10'>\r\n                                    Tổng số đơn hàng đặt ngày hôm qua\r\n                                </div>\r\n                                <div className='col-sm-2'>\r\n                                    {donHangDatNgayHomQua.toString()}\r\n                                </div>\r\n                            </div>\r\n                            <br></br>\r\n\r\n                            <div className='row' style={{ height: 'auto', padding: 5 }}>\r\n                                <div className='col-sm-10'>\r\n                                    Tổng số đơn hàng đặt 7 ngày gần nhất\r\n                                </div>\r\n                                <div className='col-sm-2'>\r\n                                    {donHangDat7NgayGanNhat.toString()}\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Radio, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function BanHang_Top10SanPhamBanChay() {\r\n    const { TabPane } = Tabs;\r\n    const [optionValueType, setOptionValueType] = useState(0);\r\n    const [cookies, setCookie] = useCookies();\r\n    const setSpinnerReducer = useSelector(state => state.setSpinner);\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function Top10SanPhamBanChayNhatTheoDoanhThu(shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let res = await axios.get('hethong/products-topmuoisanphambanchaynhat-theodoanhthu?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error('Lấy data 10 sản phẩm bán chạy nhất theo doanh thu thất bại')\r\n        }\r\n    }\r\n\r\n    async function Top10SanPhamBanChayNhatTheoSanLuong(shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let res = await axios.get('hethong/products-topmuoisanphambanchaynhat-theosanluong?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error('Lấy data 10 sản phẩm bán chạy nhất theo sản lượng thất bại')\r\n        }\r\n    }\r\n\r\n    async function Top10SanPhamBanChayNhatTheoSoLuongDonHang(shopID) {\r\n        dispatch({ type: 'SPINNER_DATABASE' });\r\n        let res = await axios.get('hethong/products-topmuoisanphambanchaynhat-theosoluongdonhang?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            dispatch({ type: 'NO_SPINNER_DATABASE' });\r\n        } else {\r\n            message.error('Lấy data 10 sản phẩm bán chạy nhất theo số lượng đơn hàng thất bại')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        Top10SanPhamBanChayNhatTheoDoanhThu(cookies.shopID);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (optionValueType === 0) {\r\n            Top10SanPhamBanChayNhatTheoDoanhThu(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueType === 1) {\r\n            Top10SanPhamBanChayNhatTheoSanLuong(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueType === 2) {\r\n            Top10SanPhamBanChayNhatTheoSoLuongDonHang(cookies.shopID);\r\n        }\r\n\r\n    }, [optionValueType]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Top 10 sản phẩm bán chạy\">\r\n                    <div className='col'>\r\n                        <Radio.Group value={optionValueType} onChange={(e) => {\r\n                            setOptionValueType(e.target.value);\r\n                        }}>\r\n                            <Radio.Button value={0}>Theo Lợi nhuận</Radio.Button>\r\n                            <Radio.Button value={1}>Theo Sản lượng</Radio.Button>\r\n                            <Radio.Button value={2}>Theo Số đơn hàng</Radio.Button>\r\n                        </Radio.Group>\r\n\r\n                        <div className=\"col\" style={{ padding: 20 }}>\r\n                            <div className=\"col\" style={{ width: '100%', marginTop: 20 }}>\r\n                                <Table bordered responsive>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>STT</th>\r\n                                            <th>Tên</th>\r\n                                            <th>Hình ảnh</th>\r\n                                            <th>Số đơn hàng</th>\r\n                                            <th>Sản lượng</th>\r\n                                            <th>Lợi nhuận</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {\r\n                                            setSpinnerReducer === 0 && optionValueType === 0 && (\r\n                                                dataProduct.map((item, i) => {\r\n                                                    return <tr key={i}>\r\n                                                        <td>{i + 1}</td>\r\n                                                        <td style={{ width: 400 }}>{item.tenSanPham}</td>\r\n                                                        <td><Image src={item.img} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                        <td style={{ width: 150 }}>{item.soDonHang}</td>\r\n                                                        <td>{item.soLuongDaBan}</td>\r\n                                                        <td style={{ fontWeight: 'bold' }}>{format_curency(item.tongTienBanDuoc.toString())} đ</td>\r\n                                                    </tr>\r\n                                                })\r\n                                            )\r\n                                        }\r\n\r\n                                        {\r\n                                            setSpinnerReducer === 0 && optionValueType === 1 && (\r\n                                                dataProduct.map((item, i) => {\r\n                                                    return <tr key={item._id}>\r\n                                                        <td>{i + 1}</td>\r\n                                                        <td style={{ width: 400 }}>{item.tenSanPham}</td>\r\n                                                        <td><Image src={item.img} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                        <td style={{ width: 150 }}>{item.soDonHang}</td>\r\n                                                        <td style={{ fontWeight: 'bold' }}>{item.soLuongDaBan}</td>\r\n                                                        <td>{format_curency(item.tongTienBanDuoc.toString())} đ</td>\r\n                                                    </tr>\r\n                                                })\r\n                                            )\r\n                                        }\r\n\r\n                                        {\r\n                                            setSpinnerReducer === 0 && optionValueType === 2 && (\r\n                                                dataProduct.map((item, i) => {\r\n                                                    return <tr key={item._id}>\r\n                                                        <td>{i + 1}</td>\r\n                                                        <td style={{ width: 400 }}>{item.tenSanPham}</td>\r\n                                                        <td><Image src={item.img} style={{ width: 200, height: 100, marginLeft: 30 }}></Image></td>\r\n                                                        <td style={{ width: 150, fontWeight: 'bold' }}>{item.soDonHang}</td>\r\n                                                        <td>{item.soLuongDaBan}</td>\r\n                                                        <td>{format_curency(item.tongTienBanDuoc.toString())} đ</td>\r\n                                                    </tr>\r\n                                                })\r\n                                            )\r\n                                        }\r\n                                    </tbody>\r\n                                </Table>\r\n                                {\r\n                                    setSpinnerReducer === 1 && (\r\n                                        <Spinner animation=\"border\" role=\"status\" style={{ marginLeft: 700 }}>\r\n                                            <span className=\"sr-only\">Loading...</span>\r\n                                        </Spinner>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Tabs, Radio, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Table, Image, Spinner } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Line, Bar, Pie } from 'react-chartjs-2';\r\n\r\nexport default function BanHang_BaoCaoBanHangTongHop() {\r\n    const { TabPane } = Tabs;\r\n    const [optionValueType, setOptionValueType] = useState(0);\r\n    const [optionValueTime, setOptionValueTime] = useState(0);\r\n    const [chartData, setChartData] = useState({\r\n        labels: [],\r\n        datasets: [\r\n            {\r\n                label: 'Doanh thu',\r\n                data: [],\r\n                backgroundColor: 'rgba(75,192,192,0.6)',\r\n                borderWidth: 4\r\n            }\r\n        ]\r\n    });\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    async function LayDataDoanhThuTuanNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdataloinhuantuannay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Doanh Thu Thuần',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Chiết Khấu',\r\n                        data: res.data.dataChietKhau,\r\n                        backgroundColor: 'rgba(255,99,132,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Doanh Thu Sau Chiết Khấu',\r\n                        data: res.data.dataDoanhThuSauChietKhau,\r\n                        backgroundColor: 'rgba(153,102,255,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data doanh thu tuần này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThuThangNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdataloinhuanthangnay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Doanh Thu Thuần',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Chiết Khấu',\r\n                        data: res.data.dataChietKhau,\r\n                        backgroundColor: 'rgba(255,99,132,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Doanh Thu Sau Chiết Khấu',\r\n                        data: res.data.dataDoanhThuSauChietKhau,\r\n                        backgroundColor: 'rgba(153,102,255,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data doanh thu tháng này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThu3ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdataloinhuan3thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Doanh Thu Thuần',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Chiết Khấu',\r\n                        data: res.data.dataChietKhau,\r\n                        backgroundColor: 'rgba(255,99,132,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Doanh Thu Sau Chiết Khấu',\r\n                        data: res.data.dataDoanhThuSauChietKhau,\r\n                        backgroundColor: 'rgba(153,102,255,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data doanh thu 3 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataDoanhThu6ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdataloinhuan6thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Doanh Thu Thuần',\r\n                        data: res.data.dataDoanhThu,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Chiết Khấu',\r\n                        data: res.data.dataChietKhau,\r\n                        backgroundColor: 'rgba(255,99,132,0.6)',\r\n                        borderWidth: 4\r\n                    },\r\n                    {\r\n                        label: 'Doanh Thu Sau Chiết Khấu',\r\n                        data: res.data.dataDoanhThuSauChietKhau,\r\n                        backgroundColor: 'rgba(153,102,255,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data doanh thu 6 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSanLuongTuanNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasanluongtuannay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Sản phẩm',\r\n                        data: res.data.dataSanLuong,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data sản lượng tuần này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSanLuongThangNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasanluongthangnay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Sản phẩm',\r\n                        data: res.data.dataSanLuong,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data sản lượng tháng này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSanLuong3ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasanluong3thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Sản phẩm',\r\n                        data: res.data.dataSanLuong,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data sản lượng 3 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSanLuong6ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasanluong6thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Sản phẩm',\r\n                        data: res.data.dataSanLuong,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data sản lượng 6 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSoDonHangTuanNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasodonhangtuannay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Đơn hàng',\r\n                        data: res.data.dataSoDonHang,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data số đơn hàng tuần này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSoDonHangThangNay(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasodonhangthangnay?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Đơn hàng',\r\n                        data: res.data.dataSoDonHang,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data số đơn hàng tháng này thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSoDonHang3ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasodonhang3thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Đơn hàng',\r\n                        data: res.data.dataSoDonHang,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data số đơn hàng 3 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataSoDonHang6ThangGanNhat(shopID) {\r\n        let res = await axios.get('hethong/order-details-shop-tinhdatasodonhang6thanggannhat?idShop=' + shopID);\r\n\r\n        if (res.data.status === 'success') {\r\n            var chartDataa = {\r\n                labels: res.data.dataDate,\r\n                datasets: [\r\n                    {\r\n                        label: 'Đơn hàng',\r\n                        data: res.data.dataSoDonHang,\r\n                        backgroundColor: 'rgba(75,192,192,0.6)',\r\n                        borderWidth: 4\r\n                    }\r\n                ]\r\n            }\r\n            setChartData(chartDataa);\r\n        } else {\r\n            message.error('Lấy data số đơn hàng 6 tháng gần nhất thất bại');\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        LayDataDoanhThuTuanNay(cookies.shopID);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (optionValueTime === 0 && optionValueType === 0) {\r\n            LayDataDoanhThuTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 0 && optionValueType === 1) {\r\n            LayDataSanLuongTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 0 && optionValueType === 2) {\r\n            LayDataSoDonHangTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 0) {\r\n            LayDataDoanhThuThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 1) {\r\n            LayDataSanLuongThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 2) {\r\n            LayDataSoDonHangThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 0) {\r\n            LayDataDoanhThu3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 1) {\r\n            LayDataSanLuong3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 2) {\r\n            LayDataSoDonHang3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 0) {\r\n            LayDataDoanhThu6ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 1) {\r\n            LayDataSanLuong6ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 2) {\r\n            LayDataSoDonHang6ThangGanNhat(cookies.shopID);\r\n        }\r\n    }, [optionValueType])\r\n\r\n    useEffect(() => {\r\n        if (optionValueTime === 0 && optionValueType === 0) {\r\n            LayDataDoanhThuTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 0 && optionValueType === 1) {\r\n            LayDataSanLuongTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 0 && optionValueType === 2) {\r\n            LayDataSoDonHangTuanNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 0) {\r\n            LayDataDoanhThuThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 1) {\r\n            LayDataSanLuongThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 1 && optionValueType === 2) {\r\n            LayDataSoDonHangThangNay(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 0) {\r\n            LayDataDoanhThu3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 1) {\r\n            LayDataSanLuong3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 2 && optionValueType === 2) {\r\n            LayDataSoDonHang3ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 0) {\r\n            LayDataDoanhThu6ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 1) {\r\n            LayDataSanLuong6ThangGanNhat(cookies.shopID);\r\n        }\r\n\r\n        if (optionValueTime === 3 && optionValueType === 2) {\r\n            LayDataSoDonHang6ThangGanNhat(cookies.shopID);\r\n        }\r\n    }, [optionValueTime])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Tabs size='large' style={{ width: '100%' }}>\r\n                <TabPane key={1} tab=\"Báo cáo bán hàng tổng hợp\">\r\n                    <div className='col'>\r\n                        <span>(*Kết quả báo cáo đều được dựa vào các đơn hàng đã hoàn thành)</span>\r\n                        <br></br>\r\n                        <Radio.Group value={optionValueTime} onChange={(e) => {\r\n                            setOptionValueTime(e.target.value);\r\n                        }}>\r\n                            <Radio.Button value={0}>Tuần này</Radio.Button>\r\n                            <Radio.Button value={1}>Tháng này</Radio.Button>\r\n                            <Radio.Button value={2}>3 tháng gần nhất</Radio.Button>\r\n                            <Radio.Button value={3}>6 tháng gần nhất</Radio.Button>\r\n                        </Radio.Group>\r\n                        <br></br>\r\n                        <br></br>\r\n                        <Radio.Group value={optionValueType} onChange={(e) => {\r\n                            setOptionValueType(e.target.value);\r\n                        }}>\r\n                            <Radio.Button value={0}>Theo Lợi nhuận</Radio.Button>\r\n                            <Radio.Button value={1}>Theo Sản lượng</Radio.Button>\r\n                            <Radio.Button value={2}>Theo Số đơn hàng</Radio.Button>\r\n                        </Radio.Group>\r\n\r\n                        <br></br><br></br>\r\n                        <br></br><br></br>\r\n                        <div style={{ height: 600, width: 1200, marginLeft: 100 }}>\r\n                            <Line data={chartData} options={{\r\n                                responsive: true,\r\n                                title: {\r\n                                    text: 'BIỂU ĐỒ MIỀN', display: true\r\n                                },\r\n                                scales: {\r\n                                    yAxes: [\r\n                                        {\r\n                                            ticks: {\r\n                                                autoSkip: true,\r\n                                                maxTicksLimit: 10,\r\n                                                beginAtZero: true\r\n                                            },\r\n                                            gridLines: {\r\n                                                display: false,\r\n\r\n                                            }\r\n                                        }\r\n                                    ],\r\n                                    xAxes: [\r\n                                        {\r\n                                            gridLines: {\r\n                                                display: false\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }}></Line>\r\n                        </div>\r\n                        <br></br><br></br>\r\n                        <br></br><br></br>\r\n                        <div style={{ height: 600, width: 1200, marginLeft: 100 }}>\r\n                            <Bar data={chartData} options={{\r\n                                responsive: true,\r\n                                title: {\r\n                                    text: 'BIỂU ĐỒ CỘT', display: true\r\n                                },\r\n                                scales: {\r\n                                    yAxes: [\r\n                                        {\r\n                                            ticks: {\r\n                                                autoSkip: true,\r\n                                                maxTicksLimit: 10,\r\n                                                beginAtZero: true\r\n                                            },\r\n                                            gridLines: {\r\n                                                display: false,\r\n\r\n                                            }\r\n                                        }\r\n                                    ],\r\n                                    xAxes: [\r\n                                        {\r\n                                            gridLines: {\r\n                                                display: false\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }}></Bar>\r\n                        </div>\r\n                        <br></br><br></br>\r\n                        <br></br><br></br>\r\n                        <div style={{ height: 600, width: 1200, marginLeft: 100 }}>\r\n                            <Pie data={chartData} options={{\r\n                                responsive: true,\r\n                                title: {\r\n                                    text: 'BIỂU ĐỒ TRÒN', display: true\r\n                                }\r\n                            }}></Pie>\r\n                        </div>\r\n\r\n                    </div>\r\n                </TabPane>\r\n            </Tabs>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { Result } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nexport default function ResultSuccessPage(props) {\r\n    const donhangID = props.match.params.id;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Result\r\n                status=\"success\"\r\n                title=\"Đã đặt hàng thành công\"\r\n                subTitle={\"Mã đơn hàng: \" + donhangID + \". Từ bây giờ bạn có thể theo dõi đơn hàng của mình.\"}\r\n                extra={[\r\n                    <Link to='/'>\r\n                        <Button>Trở về Trang Chủ</Button>\r\n                    </Link>\r\n                ]}>\r\n\r\n            </Result>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, Fragment, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { Link } from 'react-router-dom';\r\nimport { Image } from 'react-bootstrap';\r\nimport { Pagination, message, Tooltip } from 'antd';\r\n\r\nexport default function Deal() {\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 54) {\r\n            stringNew = str.substring(0, 54) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n\r\n    async function LayTatCaSanPhamDangGiamGia(page) {\r\n        let res = await axios.get('hethong/products-sale-show/' + page);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            setTongSoTrang(res.data.soTrang);\r\n        } else {\r\n            message.error('Lấy data sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayTatCaSanPhamDangGiamGia(0);\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <img alt='banner' style={{ marginTop: '50px' }} src='https://previews.123rf.com/images/houbacze/houbacze1803/houbacze180300322/98083578-hot-deal-banner-template.jpg' height='300' width='100%'></img>\r\n            <div className=\"container\" style={{ marginTop: '50px' }}>\r\n                <div className=\"row maincontent\">\r\n                    <div className=\"row showitems-maincontent\">\r\n                        {\r\n                            dataProduct.map((item, i) => {\r\n                                return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                    <div key={item._id} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, margin: 20, width: '95%' }}>\r\n                                        <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                            <div className=\"row\">\r\n                                                <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                            </div>\r\n                                            <div className=\"row item-ten\">\r\n                                                <span>{setLongString(item.ten)}</span>\r\n                                            </div>\r\n                                            <div className=\"row item-gia\">\r\n                                                <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                    item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                }</span>\r\n                                            </div>\r\n                                            <div className=\"row item-giagoc\">\r\n                                                <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </Tooltip>\r\n\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className=\"pagination-maincontent\">\r\n                        {\r\n                            dataProduct.length !== 0 && (\r\n                                <Pagination defaultPageSize={1} defaultCurrent={1} total={tongSoTrang} onChange={(page) => {\r\n                                    LayTatCaSanPhamDangGiamGia(page - 1);\r\n                                }}>\r\n                                </Pagination>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { axios } from '../../config/constant';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\nimport { Pagination, message } from 'antd';\r\n\r\nexport default function ShopPage(props) {\r\n    const shopID = props.match.params.id;\r\n    const dispatch = useDispatch();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataShop, setDataShop] = useState({\r\n        idShop: '',\r\n        tenShop: '',\r\n        logoShop: '',\r\n        ngayTao: new Date(),\r\n        img: {\r\n            carousel: [],\r\n            banner1: '',\r\n            banner2: ''\r\n        }\r\n    });\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 54) {\r\n            stringNew = str.substring(0, 54) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    async function LayShopTheoID(shopID) {\r\n        let res = await axios.get('hethong/users/shop-item?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataShop({\r\n                idShop: res.data.data.thongTinShop.idShop,\r\n                tenShop: res.data.data.thongTinShop.ten,\r\n                logoShop: res.data.data.thongTinShop.logoShop,\r\n                ngayTao: res.data.data.thongTinShop.ngayTao,\r\n                img: {\r\n                    carousel: res.data.data.thongTinShop.img.carousel,\r\n                    banner1: res.data.data.thongTinShop.img.banner1,\r\n                    banner2: res.data.data.thongTinShop.img.banner2\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    async function LayTatCaSanPhamTheoIDShop(shopID, page) {\r\n        let res = await axios.get('hethong/products-shop-show/' + page + '?idShop=' + shopID);\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            setTongSoTrang(res.data.soTrang);\r\n        } else {\r\n            message.error('Lấy data sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        LayShopTheoID(shopID);\r\n        LayTatCaSanPhamTheoIDShop(shopID,0);\r\n        dispatch({type:'SHOW_HEADER'});\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop: '50px' }}>\r\n            <div className='row'>\r\n                <div className='col-sm-3' style={{ padding: 10, margin: 0 }}>\r\n                    <img alt='logo shop' src={dataShop.logoShop} width='200' height='200'></img><br></br><br></br>\r\n                    <span>Cửa hàng: <Link to={'/shop/' + dataShop.idShop + '/' + to_slug(dataShop.tenShop)}><strong>{dataShop.tenShop}</strong></Link></span><br></br>\r\n                </div>\r\n                <div className='col-sm-9'>\r\n                    <div className='col'>\r\n                        {\r\n                            dataShop.img.carousel.length > 0 && (\r\n                                <Carousel style={{ height: 250, width: '100%' }}>\r\n                                    {\r\n                                        dataShop.img.carousel.map((src, i) => {\r\n                                            return <Carousel.Item key={i}>\r\n                                                <img alt='ảnh carousel' className=\"d-block w-100\" src={src} height='250' />\r\n                                            </Carousel.Item>\r\n                                        })\r\n                                    }\r\n                                </Carousel>\r\n                            )\r\n                        }\r\n                        {\r\n                            dataShop.img.banner1 !== '' && dataShop.img.banner2 !== '' && (\r\n                                <div className='row'>\r\n                                    <div className='col-sm-6'>\r\n                                        <img alt='ảnh banner1' className=\"d-block w-100\" src={dataShop.img.banner1} height='180' />\r\n                                    </div>\r\n                                    <div className='col-sm-6'>\r\n                                        <img alt='ảnh banner2' className=\"d-block w-100\" src={dataShop.img.banner2} height='180' />\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <br></br>\r\n                        <br></br>  \r\n                        <div className=\"row maincontent\">\r\n                            <br></br>\r\n                            <h3>DANH SÁCH SẢN PHẨM</h3>\r\n                            <div className=\"row showitems-maincontent\">\r\n                                {\r\n                                    dataProduct.map((item, i) => {\r\n                                        if (item.giaTriGiamGia === 0) {\r\n                                            return <div key={item._id} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span>{setLongString(item.ten)}</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        } else {\r\n                                            return <div key={item._id} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                    <div className=\"row\">\r\n                                                        <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                    </div>\r\n                                                    <div className=\"row item-ten\">\r\n                                                        <span>{setLongString(item.ten)}</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-gia\">\r\n                                                        <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                            item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                        }</span>\r\n                                                    </div>\r\n                                                    <div className=\"row item-giagoc\">\r\n                                                        <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div className=\"pagination-maincontent\">\r\n                                {\r\n                                    dataProduct.length !== 0 && (\r\n                                        <Pagination defaultPageSize={1} defaultCurrent={1} total={tongSoTrang} onChange={(page) => {\r\n                                            LayTatCaSanPhamTheoIDShop(shopID, page - 1);\r\n                                        }}>\r\n                                        </Pagination>\r\n                                    )\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function ErrorPhanQuyen() {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        dispatch({type:'CLOSE_HEADER'});\r\n    },[])\r\n    \r\n    return (\r\n        <Result\r\n            status=\"403\"\r\n            title=\"403\"\r\n            subTitle=\"Tài khoản của bạn đã bị khóa chức năng gian hàng. Vui lòng liên hệ với Admin để được kích hoạt tài khoản gian hàng\"\r\n            extra={<Button type=\"primary\" onClick={()=>{\r\n                history.push('/');\r\n            }}>Trở về Trang chủ</Button>}\r\n        />\r\n    )\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Form, Input, Checkbox, Radio, Select, message } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport default function Account() {\r\n    const dispatch = useDispatch();\r\n    const { Option } = Select;\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [valueCheckbox, setValueCheckbox] = useState(false);\r\n    const dataNgay = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];\r\n    const dataThang = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\r\n    const dataNam = [];\r\n    // const [dataUser, setDataUser] = useState({\r\n    //     _id:'',\r\n    //     ten:'',\r\n    //     lowerTen:'',\r\n    //     email:'',\r\n    //     sdt:'',\r\n    //     cmnd:'',\r\n    //     ngaySinh:'',\r\n    //     gioTinh:'',\r\n    //     taiKhoan:{\r\n    //         tenTaiKhoan:'',\r\n    //         matKhau:''\r\n    //     }\r\n    // });\r\n\r\n    const [dataUser, setDataUser] = useState({});\r\n    let maxOffset = 120;\r\n    let thisYear = (new Date()).getFullYear();\r\n    for (let x = 0; x <= maxOffset; x++) {\r\n        dataNam.push(thisYear - x)\r\n    }\r\n\r\n    const [thongTinSua, setThongTinSua] = useState({\r\n        hoTen: '',\r\n        gioiTinh: '',\r\n        ngaySinh: {\r\n            ngay: 0,\r\n            thang: -1,\r\n            nam: 0\r\n        },\r\n        matKhauCu: '',\r\n        matKhauMoi: '',\r\n        nhapLai: ''\r\n    })\r\n\r\n    const layout = {\r\n        labelCol: {\r\n            span: 3,\r\n        },\r\n        wrapperCol: {\r\n            span: 12,\r\n        },\r\n    };\r\n\r\n    const tailLayout = {\r\n        wrapperCol: {\r\n            offset: 3,\r\n            span: 12,\r\n        },\r\n    };\r\n\r\n    function KiemTraDuLieuHopLe() {\r\n        if (thongTinSua.hoTen === '') {\r\n            message.error('Vui lòng nhập tên', 3);\r\n        } else {\r\n            if (valueCheckbox === true) {\r\n                if (thongTinSua.matKhauMoi !== thongTinSua.nhapLai) {\r\n                    message.error('Mật khẩu mới không trùng khớp khi nhập lại', 3);\r\n                } else {\r\n                    KiemTraMatKhau(cookies.userID);\r\n                }\r\n            } else {\r\n                CapNhatTaiKhoan(cookies.userID);\r\n            }\r\n        }\r\n    }\r\n\r\n    async function KiemTraMatKhau(userID) {\r\n        let res = await axios.get('hethong/users-kiemtra-doimatkhau?idUser=' + userID + '&matKhauCu=' + thongTinSua.matKhauCu + '&matKhauMoi=' + thongTinSua.matKhauMoi);\r\n        if (res.data.status === 'success') {\r\n            CapNhatTaiKhoan(cookies.userID);\r\n        } else {\r\n            message.error(res.data.message, 3);\r\n        }\r\n    }\r\n\r\n    async function LayDataUserTheoID(userID) {\r\n        let res = await axios.get('hethong/users-item?idUser=' + userID);\r\n        if (res.data.status === 'success') {\r\n            setDataUser(res.data.data);\r\n        } else {\r\n            message.error('Lấy data user thất bại');\r\n        }\r\n    }\r\n\r\n    async function CapNhatTaiKhoan(userID) {\r\n        let res = await axios.put('hethong/users-capnhat-taikhoan', {\r\n            _id: userID,\r\n            hoTen: thongTinSua.hoTen,\r\n            gioiTinh: thongTinSua.gioiTinh,\r\n            ngaySinh: new Date(thongTinSua.ngaySinh.nam, thongTinSua.ngaySinh.thang, thongTinSua.ngaySinh.ngay),\r\n            matKhauMoi: thongTinSua.matKhauMoi,\r\n            trangThaiCapNhatMatKhau: valueCheckbox\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Cập nhật thông tin tài khoản thành công', 3);\r\n            window.location.reload();\r\n        } else {\r\n            message.error('Cập nhật thông tin tài khoản thất bại', 3);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayDataUserTheoID(cookies.userID)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setThongTinSua({\r\n            ...thongTinSua,\r\n            hoTen: dataUser.ten,\r\n            gioiTinh: dataUser.gioiTinh,\r\n            ngaySinh: {\r\n                ngay: new Date(dataUser.ngaySinh).getDate(),\r\n                thang: new Date(dataUser.ngaySinh).getMonth(),\r\n                nam: new Date(dataUser.ngaySinh).getFullYear()\r\n            }\r\n        })\r\n    }, [dataUser])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='col'>\r\n                <span style={{ fontSize: 20 }}>Thông tin tài khoản</span>\r\n                <br></br>\r\n                <div style={{ backgroundColor: 'white', width: '100%', padding: 10, paddingTop: 20 }}>\r\n                    <Form {...layout}\r\n                        name=\"basic\"\r\n                        initialValues={{\r\n                            remember: true,\r\n                        }}>\r\n                        <Form.Item\r\n                            label=\"Họ tên\"\r\n                            rules={[{ required: true, message: 'Vui lòng nhập tên' }]}>\r\n                            <Input value={thongTinSua.hoTen} onChange={(e) => {\r\n                                setThongTinSua({\r\n                                    ...thongTinSua,\r\n                                    hoTen: e.target.value\r\n                                })\r\n                            }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Số điện thoại\">\r\n                            <Input disabled value={dataUser.sdt} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Email\">\r\n                            <Input disabled value={dataUser.email} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Giới tính\">\r\n                            <Radio.Group value={thongTinSua.gioiTinh} onChange={(e) => {\r\n                                setThongTinSua({\r\n                                    ...thongTinSua,\r\n                                    gioiTinh: e.target.value\r\n                                })\r\n                            }}>\r\n                                <Radio value={0}>Nữ</Radio>\r\n                                <Radio value={1}>Nam</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Ngày sinh\">\r\n                            <span>\r\n                                <Select style={{ width: '30%' }} value={thongTinSua.ngaySinh.ngay.toString()} onChange={(value) => {\r\n                                    setThongTinSua({\r\n                                        ...thongTinSua,\r\n                                        ngaySinh: {\r\n                                            ...thongTinSua.ngaySinh,\r\n                                            ngay: value\r\n                                        }\r\n                                    })\r\n                                }}>\r\n                                    <Option value={0}>Ngày</Option>\r\n                                    {\r\n                                        dataNgay.map((ngay, i) => {\r\n                                            return <Option key={i + 1} value={ngay}>{ngay.toString()}</Option>\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n\r\n                                <Select style={{ width: '30%', marginLeft: 10 }} value={thongTinSua.ngaySinh.thang.toString()} onChange={(value) => {\r\n                                    setThongTinSua({\r\n                                        ...thongTinSua,\r\n                                        ngaySinh: {\r\n                                            ...thongTinSua.ngaySinh,\r\n                                            thang: value\r\n                                        }\r\n                                    })\r\n                                }}>\r\n                                    <Option value={-1}>Tháng</Option>\r\n                                    {\r\n                                        dataThang.map((thang, i) => {\r\n                                            return <Option key={i + 1} value={thang}>{(thang + 1).toString()}</Option>\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n\r\n                                <Select style={{ width: '30%', marginLeft: 10 }} value={thongTinSua.ngaySinh.nam.toString()} onChange={(value) => {\r\n                                    setThongTinSua({\r\n                                        ...thongTinSua,\r\n                                        ngaySinh: {\r\n                                            ...thongTinSua.ngaySinh,\r\n                                            nam: value\r\n                                        }\r\n                                    })\r\n                                }}>\r\n                                    <Option value={0}>Năm</Option>\r\n                                    {\r\n                                        dataNam.map((nam, i) => {\r\n                                            return <Option key={i + 1} value={nam}>{nam.toString()}</Option>\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n                            </span>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item {...tailLayout}>\r\n                            <Checkbox onChange={(e) => {\r\n                                setThongTinSua({\r\n                                    ...thongTinSua,\r\n                                    matKhauCu: '',\r\n                                    matKhauMoi: '',\r\n                                    nhapLai: ''\r\n                                })\r\n                                if (e.target.checked === true) {\r\n                                    setValueCheckbox(true);\r\n                                } else {\r\n                                    setValueCheckbox(false);\r\n                                }\r\n                            }}></Checkbox> Đổi mật khẩu\r\n                        </Form.Item>\r\n\r\n                        {\r\n                            valueCheckbox && (\r\n                                <Fragment>\r\n                                    <Form.Item\r\n                                        label=\"Mật khẩu cũ\">\r\n                                        <Input.Password onChange={(e) => {\r\n                                            setThongTinSua({\r\n                                                ...thongTinSua,\r\n                                                matKhauCu: e.target.value\r\n                                            })\r\n                                        }} />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Mật khẩu mới\">\r\n                                        <Input.Password onChange={(e) => {\r\n                                            setThongTinSua({\r\n                                                ...thongTinSua,\r\n                                                matKhauMoi: e.target.value\r\n                                            })\r\n                                        }} />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Nhập lại\">\r\n                                        <Input.Password onChange={(e) => {\r\n                                            setThongTinSua({\r\n                                                ...thongTinSua,\r\n                                                nhapLai: e.target.value\r\n                                            })\r\n                                        }} />\r\n                                    </Form.Item>\r\n                                </Fragment>\r\n                            )\r\n                        }\r\n\r\n                        <Form.Item {...tailLayout}>\r\n                            <Button variant='warning' style={{ width: 200 }} onClick={() => {\r\n                                KiemTraDuLieuHopLe();\r\n                            }}>Cập nhật</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { message } from 'antd';\r\n\r\nexport default function DonHang() {\r\n    const dispatch = useDispatch();\r\n    const [dataDonHang, setDataDonHang] = useState([]);\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var now = new Date();\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayDataDonHangTheoIDUser(idUser) {\r\n        let result = await axios.get('hethong/orders-user?id=' + idUser);\r\n        if (result.data.status === 'success') {\r\n            setDataDonHang(result.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data đơn hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayDataDonHangTheoIDUser(cookies.userID);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <span style={{ fontSize: 20 }}>Danh sách đơn hàng ({dataDonHang.length} đơn hàng)</span>\r\n                    <br></br>\r\n                </div>\r\n\r\n                <div style={{ backgroundColor: 'white', width: '100%' }}>\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Ngày tạo</th>\r\n                                <th>Số lượng sản phẩm</th>\r\n                                <th>Tổng tiền</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                dataDonHang.map((item, i) => {\r\n                                    return <tr key={i}>\r\n                                        <td><Link to={'order/details/' + item.idShow}>{item.idShow}</Link></td>\r\n                                        <td>{hamChuyenDoiNgay(new Date(item.ngayTao))}</td>\r\n                                        <td>{item.soLuongSanPham}</td>\r\n                                        <td>{format_curency(item.tongTien.toString())} <u>đ</u></td>\r\n                                    </tr>\r\n                                })\r\n                            }\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { message } from 'antd';\r\n\r\nexport default function Customer_ThongTinThanhToan() {\r\n    const dispatch = useDispatch();\r\n    const [dataDonHang, setDataDonHang] = useState([]);\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function LayDataDonHangTheoIDUser(idUser) {\r\n        let result = await axios.get('hethong/orders-user?id=' + idUser);\r\n        if (result.data.status === 'success') {\r\n            setDataDonHang(result.data.data);\r\n        } else {\r\n            message.error(\"Lấy dữ liệu data đơn hàng thất bại\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayDataDonHangTheoIDUser(cookies.userID);\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <span style={{ fontSize: 20 }}>Thông tin thanh toán ({dataDonHang.length} kết quả)</span>\r\n                    <br></br>\r\n                </div>\r\n\r\n                <div style={{ backgroundColor: 'white', width: '100%' }}>\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>STT</th>\r\n                                <th>Nội dung thanh toán</th>\r\n                                <th>Hình thức thanh toán</th>\r\n                                <th>Tổng tiền</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                dataDonHang.map((item, i) => {\r\n                                    return <tr key={i}>\r\n                                        <td>{i + 1}</td>\r\n                                        <td>Thanh toán cho đơn hàng <Link to={'/customer/order/details/' + item.idShow}>{item.idShow}</Link></td>\r\n                                        <td style={{ width: 250 }}>\r\n                                            {\r\n                                                item.hinhThucThanhToan === 0 && ('Thanh toán khi nhận hàng')\r\n                                            }\r\n                                            {\r\n                                                item.hinhThucThanhToan === 1 && ('Thanh toán bằng Paypal')\r\n                                            }\r\n                                            {\r\n                                                item.hinhThucThanhToan === 2 && ('Thanh toán bằng thẻ ATM nội địa / Internet Banking')\r\n                                            }\r\n                                        </td>\r\n                                        <td style={{ width: 150 }}>{format_curency(item.tongTien.toString())} <u>đ</u></td>\r\n                                    </tr>\r\n                                })\r\n                            }\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { useEffect, useState, Fragment } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { axios } from '../../config/constant';\r\nimport { Steps, List, message } from 'antd';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nexport default function DonHangDetail(props) {\r\n    const dispatch = useDispatch();\r\n    const idDonHang = props.match.params.id;\r\n    const [dataChiTietDonHang, setDataChiTietDonHang] = useState([]);\r\n    const [showChiTiet, setShowChiTiet] = useState([]);\r\n    const { Step } = Steps;\r\n    const [dataLichSu, setDataLichSu] = useState([]);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var now = new Date();\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    async function LayChiTietDonHangTheoIDDonHang(idDonHang) {\r\n        let res = await axios('hethong/order-details?idOrder=' + idDonHang);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataChiTietDonHang(res.data.data);\r\n        } else {\r\n            message.error('Lấy data chi tiết đơn hàng thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayLichSuChiTietDonHang() {\r\n        let res = await axios.get('hethong/lichsu-ctdonhang');\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataLichSu(res.data.data);\r\n        } else {\r\n            message.error('Lấy data lịch sử thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayChiTietDonHangTheoIDDonHang(idDonHang);\r\n        LayLichSuChiTietDonHang();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        for (let index = 0; index < dataChiTietDonHang.length; index++) {\r\n            showChiTiet.push(false);\r\n        }\r\n    }, [dataChiTietDonHang])\r\n\r\n    console.log(showChiTiet);\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div className='row'>\r\n                <span style={{ fontSize: 20 }}>Chi tiết đơn hàng {idDonHang}</span>\r\n                <br></br>\r\n            </div>\r\n\r\n            <div style={{ backgroundColor: 'white', width: '100%' }}>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Tên sản phẩm</th>\r\n                            <th>Thành tiền</th>\r\n                            <th>Trạng thái</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            dataChiTietDonHang.map((item, i) => {\r\n                                return <Fragment key={i}>\r\n                                    <tr>\r\n                                        <td style={{ width: 140 }}>{item.idShow}</td>\r\n                                        <td style={{ width: 380 }}>{item.ten}</td>\r\n                                        <td style={{ width: 140 }}>{format_curency(item.thanhTien.toString())} <u>đ</u></td>\r\n                                        <td style={{ width: 100 }}>\r\n                                            {\r\n                                                item.trangThai === 0 && (\r\n                                                    <span style={{ color: 'blue' }}><strong>Chờ tiếp nhận từ shop</strong></span>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.trangThai === 1 && (\r\n                                                    <span style={{ color: 'red' }}><strong>Shop đã tiếp nhận</strong></span>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.trangThai === 2 && (\r\n                                                    <span style={{ color: '#CC00FF' }}><strong>Đang vận chuyển</strong></span>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.trangThai === 3 && (\r\n                                                    <span style={{ color: '#006600' }}><strong>Đã nhận hàng</strong></span>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.trangThai === 4 && (\r\n                                                    <span style={{ color: 'green' }}><strong>Hoàn thành</strong></span>\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                item.trangThai === 5 && (\r\n                                                    <Fragment>\r\n                                                        <span style={{ color: 'black' }}><strong>Hủy</strong></span><br></br>\r\n                                                        <span style={{ color: 'red' }}>({item.ghiChu})</span>\r\n                                                    </Fragment>\r\n                                                )\r\n                                            }\r\n                                        </td>\r\n                                        <td>\r\n                                            <a href='/' onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                if (showChiTiet[i] === true) {\r\n                                                    showChiTiet[i] = false;\r\n                                                    setShowChiTiet([\r\n                                                        ...showChiTiet,\r\n                                                    ])\r\n                                                } else {\r\n                                                    showChiTiet[i] = true;\r\n                                                    setShowChiTiet([\r\n                                                        ...showChiTiet,\r\n                                                    ])\r\n                                                }\r\n                                            }}>\r\n                                                {\r\n                                                    showChiTiet[i] === true ? (\r\n                                                        <strong>\r\n                                                            Đóng <i class=\"fa fa-angle-up\"></i>\r\n                                                        </strong>\r\n                                                    ) : (<strong>\r\n                                                        Xem chi tiết <i class=\"fa fa-angle-down\"></i>\r\n                                                    </strong>)\r\n                                                }\r\n                                            </a>\r\n                                        </td>\r\n                                    </tr>\r\n                                    {\r\n                                        showChiTiet[i] === true && dataChiTietDonHang.length > 0 && (\r\n                                            <tr>\r\n                                                <td colSpan={8} style={{ height: 'auto', backgroundColor: '#DDDDDD' }}>\r\n                                                    <div className='col'>\r\n                                                        <div className='row'>\r\n                                                            <div className='col-sm-5'>\r\n                                                                <div className='row' style={{ height: 160, paddingTop: 10 }}>\r\n                                                                    <Image src={item.img} style={{ width: 80, height: 80, marginLeft: 20 }}></Image>\r\n                                                                    <div className='col-sm-6' style={{ marginLeft: 20 }}>\r\n                                                                        <strong>\r\n                                                                            {\r\n                                                                                item.mauSac !== '' && item.size !== '' && (\r\n                                                                                    item.ten + ' - ' + item.mauSac + ' - ' + item.size\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item.mauSac === '' && item.size !== '' && (\r\n                                                                                    item.ten + ' - ' + item.size\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item.mauSac !== '' && item.size === '' && (\r\n                                                                                    item.ten + ' - ' + item.mauSac\r\n                                                                                )\r\n                                                                            }\r\n                                                                            {\r\n                                                                                item.size === '' && item.mauSac === '' && (\r\n                                                                                    item.ten\r\n                                                                                )\r\n                                                                            }\r\n                                                                        </strong>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className='col-sm-2'>\r\n                                                                <strong>Giá</strong><br></br>\r\n                                                                {format_curency(item.giaCuoiCung.toString())} <u>đ</u>\r\n                                                            </div>\r\n                                                            <div className='col-sm-1'>\r\n                                                                <strong>Số lượng</strong><br></br>\r\n                                                                {item.soLuong}\r\n                                                            </div>\r\n                                                            <div className='col-sm-2'>\r\n                                                                <strong>Giảm giá</strong><br></br>\r\n                                                                {format_curency(item.giamGia.toString())} <u>đ</u>\r\n                                                            </div>\r\n                                                            <div className='col-sm-2'>\r\n                                                                <strong>Tạm tính</strong><br></br>\r\n                                                                {format_curency(item.thanhTien.toString())} <u>đ</u>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className='col'>\r\n                                                            <span>TRẠNG THÁI ĐƠN HÀNG</span>\r\n                                                            <div style={{ width: '100%', height: 90, backgroundColor: 'white', borderRadius: 5, padding: 10 }}>\r\n                                                                <br></br>\r\n                                                                <Steps size=\"small\" current={item.trangThai}>\r\n                                                                    <Step title=\"Đặt hàng thành công\" />\r\n                                                                    <Step title=\"Shop đã tiếp nhận\" />\r\n                                                                    <Step title=\"Đang vận chuyển\" />\r\n                                                                    <Step title=\"Đã nhận hàng\" />\r\n                                                                    <Step title=\"Hoàn thành\" />\r\n                                                                </Steps>\r\n                                                            </div>\r\n                                                            <br></br>\r\n                                                            <br></br>\r\n                                                            <span>CHI TIẾT TRẠNG THÁI ĐƠN HÀNG</span>\r\n                                                            <div style={{ width: '100%', height: 'auto', backgroundColor: 'white', borderRadius: 5, padding: 10 }}>\r\n                                                                <List bordered>\r\n                                                                    {\r\n                                                                        dataLichSu.map((item2, i2) => {\r\n                                                                            if (item2.idOrderDetail === item.idShow) {\r\n                                                                                return <List.Item key={i2}>\r\n                                                                                    <div className='row' style={{ width: '100%' }}>\r\n                                                                                        <div className='col-sm-6'>\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 0 && (<strong>Đặt hàng thành công</strong>)\r\n                                                                                            }\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 1 && (<strong>Shop đã tiếp nhận</strong>)\r\n                                                                                            }\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 2 && (<strong>Đang vận chuyển</strong>)\r\n                                                                                            }\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 3 && (<strong>Đã nhận hàng</strong>)\r\n                                                                                            }\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 4 && (<strong>Hoàn thành</strong>)\r\n                                                                                            }\r\n                                                                                            {\r\n                                                                                                item2.trangThai === 5 && (<strong>Hủy</strong>)\r\n                                                                                            }\r\n                                                                                        </div>\r\n                                                                                        <div className='col-sm-6'>\r\n                                                                                            {\r\n                                                                                                item2.ngayThucHien !== '' ? hamChuyenDoiNgay(new Date(item2.ngayThucHien)) : '...'\r\n                                                                                            }\r\n                                                                                        </div>\r\n                                                                                    </div>\r\n                                                                                </List.Item>\r\n                                                                            }\r\n\r\n                                                                        })\r\n                                                                    }\r\n\r\n                                                                </List>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }\r\n                                </Fragment>\r\n                            })\r\n                        }\r\n\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Link, useHistory, Redirect } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies } from 'react-cookie';\r\nimport { message, Rate } from 'antd';\r\n\r\nexport default function Customer_Comment() {\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [dataComment, setDataComment] = useState([]);\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const history = useHistory();\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n\r\n    async function LayDataCommentTheoIDUser() {\r\n        let res = await axios.get('hethong/comments-user?id=' + cookies.userID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataComment(res.data.data);\r\n            setDataProduct(res.data.dataProduct);\r\n        } else {\r\n            message.error('Lấy data nhận xét thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataCommentTheoIDUser();\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='container'>\r\n                <span style={{ fontSize: 20 }}>Nhận xét của tôi ({dataComment.length} kết quả)</span>\r\n                <br></br>\r\n                <div className='col' style={{ backgroundColor: 'white', width: '100%' }}>\r\n                    {\r\n                        dataComment.length > 0 && dataProduct.length > 0 && (\r\n                            dataComment.map((item, i) => {\r\n                                return <div className='row' key={i} style={{ paddingBottom: 40 }}>\r\n                                    <div className='col-sm-2'>\r\n                                        <img alt='ảnh' src={dataProduct[i].img} width={120} height={100}></img>\r\n                                    </div>\r\n\r\n                                    <div className='col-sm-10' style={{ padding: 10 }}>\r\n                                        <p style={{ fontSize: 16 }}><Link to='/' onClick={(e) => {\r\n                                            e.preventDefault();\r\n                                            window.location.pathname = 'detail/' + dataProduct[i]._id + '/' + to_slug(dataProduct[i].ten);\r\n                                        }}>{dataProduct[i].ten}</Link></p>\r\n                                        <p style={{ color: 'silver' }}>{hamChuyenDoiNgay(new Date(item.ngayTao))}</p>\r\n                                        <span style={{ fontSize: 16 }}><Rate disabled value={item.soSao}></Rate>&nbsp;&nbsp; <b>{item.tieuDe}</b></span><br></br>\r\n                                        {item.noiDung}\r\n                                    </div>\r\n                                </div>\r\n                            })\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Link, useHistory, Redirect } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { axios } from '../../config/constant';\r\nimport { useCookies, Cookies } from 'react-cookie';\r\nimport { message, Rate, Tooltip } from 'antd';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nexport default function Customer_SanPhamDaXem() {\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n\r\n\r\n    function hamChuyenDoiNgay(date) {\r\n        var strDate = '';\r\n        var ngay = date.getDate().toString();\r\n        var thang = (date.getMonth() + 1).toString();\r\n        var nam = date.getFullYear().toString();\r\n\r\n        strDate = ngay + '/' + thang + '/' + nam;\r\n        return strDate;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 70) {\r\n            stringNew = str.substring(0, 70) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    async function LayDataSanPhamDaXemTheoIDUser() {\r\n        let res = await axios.get('hethong/products-daxem?id=' + cookies.userID);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n        } else {\r\n            message.error('Lấy data sản phẩm thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataSanPhamDaXemTheoIDUser();\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='container'>\r\n                <span style={{ fontSize: 20 }}>Các sản phẩm đã xem</span>\r\n                <br></br>\r\n                <div className='col' style={{ backgroundColor: 'white', width: '100%' }}>\r\n                    <div className=\"row\">\r\n                        {\r\n\r\n                            dataProduct.map((item, i) => {\r\n                                if (item.giaTriGiamGia === 0) {\r\n                                    return <Tooltip title={item.ten} placement={'right'} color={'orange'} key={i}>\r\n                                        <div className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                            <Link to={'detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\" onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                window.location.pathname = 'detail/' + item._id + '/' + to_slug(item.ten);\r\n                                            }}>\r\n                                                <div className=\"row\">\r\n                                                    <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                </div>\r\n                                                <div className=\"row item-ten\">\r\n                                                    <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                </div>\r\n                                                <div className=\"row item-gia\">\r\n                                                    <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </Tooltip>\r\n\r\n                                } else {\r\n                                    return <Tooltip title={item.ten} placement={'right'} color={'orange'} key={i}>\r\n                                        <div className=\"col-sm-3 item\" key={i} style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                            <Link to={'detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\" onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                window.location.pathname = 'detail/' + item._id + '/' + to_slug(item.ten);\r\n                                            }}>\r\n                                                <div className=\"row\">\r\n                                                    <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                </div>\r\n                                                <div className=\"row item-ten\">\r\n                                                    <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                </div>\r\n                                                <div className=\"row item-gia\">\r\n                                                    <h5><strong>{format_curency(item.giaCuoiCung.toString())} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                        item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                    }</span>\r\n                                                </div>\r\n                                                <div className=\"row item-giagoc\">\r\n                                                    <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </Tooltip>\r\n                                }\r\n                            })\r\n\r\n                        }\r\n\r\n                        {/* {\r\n                            dataProduct.length === 0 && (\r\n                                <Fragment></Fragment>\r\n                            )\r\n                        } */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { Menu } from 'antd';\r\nimport { UserOutlined, OrderedListOutlined, CreditCardOutlined, CommentOutlined, HistoryOutlined } from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, Switch, Route, useRouteMatch, Redirect } from 'react-router-dom';\r\nimport { Customer_Account, Customer_DonHang, Customer_DonHang_Detail, Customer_ThongTinThanhToan, Customer_Comment, Customer_SanPhamDaXem } from '../allJS'\r\n\r\nexport default function Customer() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const match = useRouteMatch();\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div style={{ marginLeft: 325, width: 1100, marginTop: 50, backgroundColor: '#F8F9FA', padding: 10 }}>\r\n                <div className='row'>\r\n                    <div className='col-sm-3'>\r\n                        <Menu\r\n                            style={{ width: 256 }}\r\n                            defaultSelectedKeys={['1']}\r\n                            defaultOpenKeys={['sub1']}\r\n                            mode=\"inline\"\r\n                        >\r\n                            <Menu.Item onClick={() => {\r\n                                history.push('/customer/account');\r\n                            }}>\r\n                                <span>\r\n                                    <UserOutlined />\r\n                                    <span>Tài khoản của tôi</span>\r\n                                </span>\r\n                            </Menu.Item>\r\n\r\n                            <Menu.Item onClick={() => {\r\n                                history.push('/customer/order');\r\n                            }}>\r\n                                <span>\r\n                                    <OrderedListOutlined />\r\n                                    <span>Đơn hàng của tôi</span>\r\n                                </span>\r\n                            </Menu.Item>\r\n\r\n                            <Menu.Item onClick={() => {\r\n                                history.push('/customer/payment');\r\n                            }}>\r\n                                <span>\r\n                                    <CreditCardOutlined />\r\n                                    <span>Thông tin thanh toán</span>\r\n                                </span>\r\n                            </Menu.Item>\r\n\r\n                            <Menu.Item onClick={() => {\r\n                                history.push('/customer/comment');\r\n                            }}>\r\n                                <span>\r\n                                    <CommentOutlined />\r\n                                    <span>Nhận xét của tôi</span>\r\n                                </span>\r\n                            </Menu.Item>\r\n\r\n                            <Menu.Item onClick={() => {\r\n                                history.push('/customer/san-pham-da-xem');\r\n                            }}>\r\n                                <span>\r\n                                    <HistoryOutlined />\r\n                                    <span>Sản phẩm đã xem</span>\r\n                                </span>\r\n                            </Menu.Item>\r\n\r\n                        </Menu>\r\n                    </div>\r\n                    <div className='col-sm-9'>\r\n                        <Switch>\r\n                            <Redirect exact from={match.url} to={`${match.url}/account`} />\r\n                            <Route exact path={`${match.url}/account`} component={Customer_Account}></Route>\r\n                            <Route exact path={`${match.url}/order`} component={Customer_DonHang}></Route>\r\n                            <Route exact path={`${match.url}/payment`} component={Customer_ThongTinThanhToan}></Route>\r\n                            <Route exact path={`${match.url}/order/details/:id`} component={Customer_DonHang_Detail}></Route>\r\n                            <Route exact path={`${match.url}/comment`} component={Customer_Comment}></Route>\r\n                            <Route exact path={`${match.url}/san-pham-da-xem`} component={Customer_SanPhamDaXem}></Route>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaStar } from 'react-icons/fa';\r\nimport { Image, Button } from 'react-bootstrap';\r\nimport { axios } from '../../config/constant';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SmileOutlined } from '@ant-design/icons';\r\nimport { Result, message, Input, Pagination, Tooltip } from 'antd';\r\nimport { StringParam, useQueryParams, NumberParam } from 'use-query-params';\r\n\r\nexport default function TimKiem() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n    const [curentPage, setCurentPage] = useState(1);\r\n    const [dataCountCategory, setDataCountCategory] = useState([]);\r\n    const [countAllProduct, setCountAllProduct] = useState(0);\r\n    const [dataGiaOption, setDataGiaOption] = useState({\r\n        giaDau: '',\r\n        giaCuoi: ''\r\n    })\r\n    const [tongSoTrang, setTongSoTrang] = useState(0);\r\n    const [dataCategory, setDataCategory] = useState([]);\r\n\r\n    const [query, setQuery] = useQueryParams({\r\n        data: StringParam,\r\n        order: StringParam,\r\n        rating: NumberParam,\r\n        price: StringParam\r\n    });\r\n\r\n    const { data: dataSearch, order: optionOrder, rating: soSao, price: giaTim } = query;\r\n\r\n\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 54) {\r\n            stringNew = str.substring(0, 54) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    async function LayDataProductTheoSearch(page) {\r\n        let res = await axios.get('hethong/products-search-nguoidung/' + page + '?search=' + dataSearch + '&order=' + optionOrder + '&rating=' + soSao + '&price=' + giaTim);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n            setCountAllProduct(res.data.dataAll.length);\r\n            setTongSoTrang(res.data.soTrang);\r\n        } else {\r\n            message.error('Lấy data sản phẩm theo tìm kiếm thất bại');\r\n        }\r\n    }\r\n\r\n    async function LayDataCategoryTheoSearch() {\r\n        let res = await axios.get('hethong/categorys-search-nguoidung/?search=' + dataSearch);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataCategory(res.data.data);\r\n            setDataCountCategory(res.data.dataCount);\r\n        } else {\r\n            message.error('Lấy data category theo tìm kiếm thất bại');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        LayDataProductTheoSearch(0);\r\n        LayDataCategoryTheoSearch();\r\n    }, [dataSearch, optionOrder, soSao, giaTim])\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginTop: '50px' }}>\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-3 sidebar\">\r\n                    <div className=\"danhmuc-sidebar\">\r\n                        <h5>DANH MỤC SẢN PHẨM</h5>\r\n                        <div className=\"danhmucchinh-sidebar\">\r\n                            {\r\n                                dataCategory.map((item, i) => {\r\n                                    var result = item.icon === '' ?\r\n                                        (\r\n                                            <p key={i}><strong><Link onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                history.push(`/category/${item._id}/${to_slug(item.ten)}`)\r\n                                            }}>{item.ten} ({dataCountCategory[i]})</Link></strong></p>\r\n                                        ) : ''\r\n                                    return result;\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n                    <div className=\"danhgia-sidebar\">\r\n                        <h5>ĐÁNH GIÁ</h5>\r\n                        <div className=\"danhgia-5sao-sidebar\">\r\n                            <Link to='/' onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 5\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(5)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 5 sao)</span>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"danhgia-4sao-sidebar\">\r\n                            <Link style={{ color: 'black' }} onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 4\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(4)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 4 sao)</span>\r\n                            </Link>\r\n\r\n                        </div>\r\n                        <div className=\"danhgia-3sao-sidebar\">\r\n                            <Link style={{ color: 'black' }} onClick={(e) => {\r\n                                e.preventDefault();\r\n                                setQuery({\r\n                                    ...query,\r\n                                    rating: 3\r\n                                }, 'push');\r\n                            }}>\r\n                                {[...Array(3)].map((item, i) => {\r\n                                    return <FaStar key={i} color={\"#ffc107\"} style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                })}\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <FaStar style={{ marginLeft: 2 }} size={15}></FaStar>\r\n                                <span style={{ color: \"gray\", fontSize: 14, marginLeft: 5 }}>(từ 3 sao)</span>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n                    <div className=\"thuonghieu-sidebar\">\r\n                        <h5>GIÁ</h5>\r\n                        <div className='col'>\r\n                            <span>Chọn khoảng giá</span><br></br>\r\n                            <div className='row'>\r\n                                <Input value={dataGiaOption.giaDau} style={{ width: 100, marginLeft: 15 }} onChange={(e) => {\r\n                                    // setDataGiaOption({\r\n                                    //     ...dataGiaOption,\r\n                                    //     giaDau: format_curency(e.target.value)\r\n                                    // })\r\n\r\n                                    setDataGiaOption({\r\n                                        ...dataGiaOption,\r\n                                        giaDau: e.target.value\r\n                                    })\r\n                                }}></Input>\r\n                                &nbsp;_&nbsp;\r\n                                <Input value={dataGiaOption.giaCuoi} style={{ width: 100 }} onChange={(e) => {\r\n                                    // setDataGiaOption({\r\n                                    //     ...dataGiaOption,\r\n                                    //     giaCuoi: format_curency(e.target.value)\r\n                                    // })\r\n\r\n                                    setDataGiaOption({\r\n                                        ...dataGiaOption,\r\n                                        giaCuoi: e.target.value\r\n                                    })\r\n                                }}></Input>\r\n                            </div>\r\n                            <Button style={{ marginTop: 10, width: 100 }} onClick={() => {\r\n                                if (dataGiaOption.giaDau === '' && dataGiaOption.giaCuoi !== '' && parseInt(dataGiaOption.giaCuoi) > 0) {\r\n                                    setQuery({\r\n                                        ...query,\r\n                                        price: '0%2C' + dataGiaOption.giaCuoi\r\n                                    }, 'push');\r\n                                }\r\n\r\n                                if (dataGiaOption.giaCuoi === '' && dataGiaOption.giaDau !== '' && parseInt(dataGiaOption.giaDau) > 0) {\r\n                                    setQuery({\r\n                                        ...query,\r\n                                        price: '0%2C' + dataGiaOption.giaDau\r\n                                    }, 'push');\r\n                                }\r\n\r\n                                if (parseInt(dataGiaOption.giaDau) > 0 && parseInt(dataGiaOption.giaCuoi) > 0) {\r\n                                    setQuery({\r\n                                        ...query,\r\n                                        price: dataGiaOption.giaDau + '%2C' + dataGiaOption.giaCuoi\r\n                                    }, 'push');\r\n                                }\r\n                            }}>OK</Button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <hr style={{ width: 240 }}></hr>\r\n                    <div className=\"thuonghieu-sidebar\">\r\n                        <h5>THƯƠNG HIỆU</h5>\r\n                        <div className=\"thuonghieu-items-sidebar\">\r\n                            <p>Nike</p>\r\n                            <p>Adidas</p>\r\n                            <p>Reebok</p>\r\n                            <p>Gucci</p>\r\n                        </div>\r\n                    </div>\r\n                    <hr style={{ width: 240 }}></hr>\r\n                    <div className=\"nhacungcap-sidebar\">\r\n                        <h5>NHÀ CUNG CẤP</h5>\r\n                        <div className=\"nhacungcap-items-sidebar\">\r\n                            <p>G-LAB</p>\r\n                            <p>GRIMM DC</p>\r\n                            <p>CEASAR</p>\r\n                            <p>DEGREY</p>\r\n                            <p>HIGHCLUB</p>\r\n                        </div>\r\n                    </div> */}\r\n                </div>\r\n                <div className=\"col-sm-9\">\r\n                    <div className=\"row maincontent\">\r\n                        <div className=\"row showitems-maincontent\">\r\n                            <div className='col' style={{ padding: 30 }}>\r\n                                <p style={{ fontSize: 24, lineHeight: 1 }}>Kết quả tìm kiếm cho '{dataSearch}': <span style={{ color: 'silver' }}>{countAllProduct} kết quả</span></p>\r\n                                <div className='row' style={{ marginLeft: 5 }}>\r\n                                    <Button variant={optionOrder === 'newest' ? 'warning' : 'primary'} onClick={() => {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            order: 'newest'\r\n                                        }, 'push');\r\n                                    }}>\r\n                                        Hàng mới\r\n                                    </Button>\r\n\r\n                                    <Button style={{ marginLeft: 20 }} variant={optionOrder === 'top_seller' ? 'warning' : 'primary'} onClick={() => {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            order: 'top_seller'\r\n                                        }, 'push');\r\n                                    }}>\r\n                                        Bán chạy\r\n                                     </Button>\r\n\r\n                                    <Button style={{ marginLeft: 20 }} variant={optionOrder === 'discount' ? 'warning' : 'primary'} onClick={() => {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            order: 'discount'\r\n                                        }, 'push');\r\n                                    }}>\r\n                                        Giảm giá\r\n                                    </Button>\r\n\r\n                                    <Button style={{ marginLeft: 20 }} variant={optionOrder === 'price_asc' ? 'warning' : 'primary'} onClick={() => {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            order: 'price_asc'\r\n                                        }, 'push');\r\n                                    }}>\r\n                                        Giá thấp\r\n                                    </Button>\r\n\r\n                                    <Button style={{ marginLeft: 20 }} variant={optionOrder === 'price_desc' ? 'warning' : 'primary'} onClick={() => {\r\n                                        setQuery({\r\n                                            ...query,\r\n                                            order: 'price_desc'\r\n                                        }, 'push');\r\n                                    }}>\r\n                                        Giá cao\r\n                                    </Button>\r\n                                </div>\r\n                                <hr></hr>\r\n                                <div className='row' style={{ padding: 10 }}>\r\n                                    {\r\n                                        dataProduct.length === 0 && (\r\n                                            <Result\r\n                                                style={{ alignItems: 'center', justifyContent: 'center', display: 'block' }}\r\n                                                icon={<SmileOutlined />}\r\n                                                title=\"Không có kết quả theo tìm kiếm này\"\r\n                                            />\r\n                                        )\r\n                                    }\r\n\r\n                                    {\r\n                                        dataProduct.length > 0 && (\r\n                                            dataProduct.map((item, i) => {\r\n                                                if (item.giaTriGiamGia === 0) {\r\n                                                    return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                                        <div key={item._id} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                            <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                                <div className=\"row\">\r\n                                                                    <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                                </div>\r\n                                                                <div className=\"row item-ten\">\r\n                                                                    <span>{setLongString(item.ten)}</span>\r\n                                                                </div>\r\n                                                                <div className=\"row item-gia\">\r\n                                                                    <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                                </div>\r\n                                                            </Link>\r\n                                                        </div>\r\n                                                    </Tooltip>\r\n\r\n                                                } else {\r\n                                                    return <Tooltip title={item.ten} placement={'right'} key={i}>\r\n                                                        <div key={item._id} className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                            <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                                <div className=\"row\">\r\n                                                                    <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                                </div>\r\n                                                                <div className=\"row item-ten\">\r\n                                                                    <span>{setLongString(item.ten)}</span>\r\n                                                                </div>\r\n                                                                <div className=\"row item-gia\">\r\n                                                                    <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                                        item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                                    }</span>\r\n                                                                </div>\r\n                                                                <div className=\"row item-giagoc\">\r\n                                                                    <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                                </div>\r\n                                                            </Link>\r\n                                                        </div>\r\n                                                    </Tooltip>\r\n                                                }\r\n                                            })\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"pagination-maincontent\">\r\n\r\n                            <Pagination defaultPageSize={1} current={curentPage} total={tongSoTrang} onChange={(page) => {\r\n                                LayDataProductTheoSearch(page - 1);\r\n                                setCurentPage(page);\r\n                            }}>\r\n                            </Pagination>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ReactQuill, { Quill } from 'react-quill';\r\nimport { axios } from '../../config/constant';\r\nimport { storage } from '../../firebase/firebase';\r\nimport { message } from 'antd';\r\nconst QuillClipboard = Quill.import('modules/clipboard');\r\nconst Parchment = Quill.import('parchment');\r\n\r\nclass Clipboard extends QuillClipboard {\r\n\r\n    getMetaTagElements = (stringContent) => {\r\n        const el = document.createElement('div');\r\n        el.innerHTML = stringContent;\r\n        return el.getElementsByTagName('meta');\r\n    };\r\n\r\n    async onPaste(e) {\r\n        let clipboardData = e.clipboardData || window.clipboardData;\r\n        let pastedData = await clipboardData.getData('Text');\r\n\r\n        const urlMatches = pastedData.match(/\\b(http|https)?:\\/\\/\\S+/gi) || [];\r\n        if (urlMatches.length > 0) {\r\n            e.preventDefault();\r\n            urlMatches.forEach(link => {\r\n                axios.get(link)\r\n                    .then(payload => {\r\n                        // let title, image, url, description;\r\n                        let title, image, url;\r\n                        for (let node of this.getMetaTagElements(payload)) {\r\n                            if (node.getAttribute(\"property\") === \"og:title\") {\r\n                                title = node.getAttribute(\"content\");\r\n                            }\r\n                            if (node.getAttribute(\"property\") === \"og:image\") {\r\n                                image = node.getAttribute(\"content\");\r\n                            }\r\n                            if (node.getAttribute(\"property\") === \"og:url\") {\r\n                                url = node.getAttribute(\"content\");\r\n                            }\r\n                            // if (node.getAttribute(\"property\") === \"og:description\") {\r\n                            //     description = node.getAttribute(\"content\");\r\n                            // }\r\n                        }\r\n\r\n                        const rendered = `<a href=${url} target=\"_blank\"><div><img src=${image} alt=${title} width=\"20%\"/><span>${title}</span></div></a>`;\r\n\r\n                        let range = this.quill.getSelection();\r\n                        let position = range ? range.index : 0;\r\n                        this.quill.pasteHTML(position, rendered, 'silent');\r\n                        this.quill.setSelection(position + rendered.length);\r\n                    })\r\n                    .catch(error => console.error(error));\r\n            });\r\n\r\n        } else {\r\n            //console.log('when to use this') 보통 다른 곳에서  paste 한다음에  copy하면 이쪽 걸로 한다. \r\n            super.onPaste(e);\r\n        }\r\n    }\r\n\r\n}\r\nQuill.register('modules/clipboard', Clipboard, true);\r\n\r\nconst BlockEmbed = Quill.import('blots/block/embed');\r\n\r\nclass ImageBlot extends BlockEmbed {\r\n\r\n    static create(value) {\r\n        const imgTag = super.create();\r\n        imgTag.setAttribute('src', value.src);\r\n        imgTag.setAttribute('alt', value.alt);\r\n        imgTag.setAttribute('width', '100%');\r\n        return imgTag;\r\n    }\r\n\r\n    static value(node) {\r\n        return { src: node.getAttribute('src'), alt: node.getAttribute('alt') };\r\n    }\r\n\r\n}\r\n\r\nImageBlot.blotName = 'image';\r\nImageBlot.tagName = 'img';\r\nQuill.register(ImageBlot);\r\n\r\nclass VideoBlot extends BlockEmbed {\r\n\r\n    static create(value) {\r\n        if (value && value.src) {\r\n            const videoTag = super.create();\r\n            videoTag.setAttribute('src', value.src);\r\n            videoTag.setAttribute('title', value.title);\r\n            videoTag.setAttribute('width', '100%');\r\n            videoTag.setAttribute('controls', '');\r\n\r\n            return videoTag;\r\n        } else {\r\n            const iframeTag = document.createElement('iframe');\r\n            iframeTag.setAttribute('src', value);\r\n            iframeTag.setAttribute('frameborder', '0');\r\n            iframeTag.setAttribute('allowfullscreen', true);\r\n            iframeTag.setAttribute('width', '100%');\r\n            return iframeTag;\r\n        }\r\n    }\r\n\r\n    static value(node) {\r\n        if (node.getAttribute('title')) {\r\n            return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\r\n        } else {\r\n            return node.getAttribute('src');\r\n        }\r\n        // return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\r\n    }\r\n\r\n}\r\n\r\nVideoBlot.blotName = 'video';\r\nVideoBlot.tagName = 'video';\r\nQuill.register(VideoBlot);\r\n\r\nclass QuillEditor extends React.Component {\r\n\r\n    bandId;\r\n    placeholder;\r\n    onEditorChange;\r\n    onFilesChange;\r\n    onPollsChange;\r\n    _isMounted;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editorHtml: \"\",\r\n            files: [],\r\n        };\r\n\r\n        this.reactQuillRef = null;\r\n\r\n        this.inputOpenImageRef = React.createRef();\r\n        this.inputOpenVideoRef = React.createRef();\r\n        this.inputOpenFileRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    handleChange = (html) => {\r\n        console.log('html', html)\r\n        // https://youtu.be/BbR-QCoKngE\r\n        // https://www.youtube.com/embed/ZwKhufmMxko\r\n        // https://tv.naver.com/v/9176888\r\n        // renderToStaticMarkup(ReactHtmlParser(html, options));\r\n\r\n        this.setState({\r\n            editorHtml: html\r\n        }, () => {\r\n            this.props.onEditorChange(this.state.editorHtml);\r\n        });\r\n    };\r\n\r\n    // I V F P들을  눌렀을떄 insertImage: this.imageHandler로 가서  거기서 inputOpenImageRef를 클릭 시킨다. \r\n    imageHandler = () => {\r\n        this.inputOpenImageRef.current.click();\r\n    };\r\n\r\n    videoHandler = () => {\r\n        this.inputOpenVideoRef.current.click();\r\n    };\r\n\r\n    fileHandler = () => {\r\n        this.inputOpenFileRef.current.click();\r\n    };\r\n\r\n\r\n    insertImage = (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\r\n            const file = e.currentTarget.files[0];\r\n\r\n            console.log(file.name);\r\n            const uploadTask = storage.ref(`/images/${file.name}`).put(file);\r\n            uploadTask.on('state_changed',\r\n                (snapShot) => {\r\n                    //takes a snap shot of the process as it is happening\r\n                    console.log(snapShot);\r\n                }, (err) => {\r\n                    //catches the errors\r\n                    console.log(err)\r\n                }, () => {\r\n                    // gets the functions from storage refences the image storage in firebase by the children\r\n                    // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                    storage.ref('images').child(file.name).getDownloadURL()\r\n                        .then(fireBaseUrl => {\r\n                            const quill = this.reactQuillRef.getEditor();\r\n                            quill.focus();\r\n\r\n                            let range = quill.getSelection();\r\n                            let position = range ? range.index : 0;\r\n                            quill.insertEmbed(position, \"image\", { src: fireBaseUrl });\r\n                            quill.setSelection(position + 1);\r\n\r\n                            if (this._isMounted) {\r\n                                this.setState({\r\n                                    files: [...this.state.files, file]\r\n                                }, () => { this.props.onFilesChange(this.state.files) });\r\n                            }\r\n                            else {\r\n                                return message.err('Upload file thất bại');\r\n                            }\r\n                        })\r\n                })\r\n        }\r\n    };\r\n\r\n    insertVideo = (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\r\n            const file = e.currentTarget.files[0];\r\n\r\n            console.log(file.name);\r\n            const uploadTask = storage.ref(`/videos/${file.name}`).put(file);\r\n            uploadTask.on('state_changed',\r\n                (snapShot) => {\r\n                    //takes a snap shot of the process as it is happening\r\n                    console.log(snapShot);\r\n                }, (err) => {\r\n                    //catches the errors\r\n                    console.log(err)\r\n                }, () => {\r\n                    // gets the functions from storage refences the image storage in firebase by the children\r\n                    // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n                    storage.ref('videos').child(file.name).getDownloadURL()\r\n                        .then(fireBaseUrl => {\r\n                            const quill = this.reactQuillRef.getEditor();\r\n                            quill.focus();\r\n\r\n                            let range = quill.getSelection();\r\n                            let position = range ? range.index : 0;\r\n                            quill.insertEmbed(position, \"video\", { src: fireBaseUrl });\r\n                            quill.setSelection(position + 1);\r\n\r\n                            if (this._isMounted) {\r\n                                this.setState({\r\n                                    files: [...this.state.files, file]\r\n                                }, () => { this.props.onFilesChange(this.state.files) });\r\n                            }\r\n                            else {\r\n                                return message.error('Up load file thất bại')\r\n                            }\r\n                        })\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ height: 450 }}>\r\n                <div id=\"toolbar\">\r\n                    <select className=\"ql-header\" defaultValue={\"\"} onChange={e => e.persist()}>\r\n                        <option value=\"1\" />\r\n                        <option value=\"2\" />\r\n                        <option value=\"\" />\r\n                    </select>\r\n                    <button className=\"ql-bold\" />\r\n                    <button className=\"ql-italic\" />\r\n                    <button className=\"ql-underline\" />\r\n                    <button className=\"ql-strike\" />\r\n                    <button className=\"ql-insertImage\">\r\n                        <i className=\"far fa-file-image\"></i>\r\n                    </button>\r\n                    <button className=\"ql-insertVideo\">\r\n                        <i className=\"fas fa-file-video\"></i>\r\n                    </button>\r\n                    <button className=\"ql-link\" />\r\n                    <button className=\"ql-code-block\" />\r\n                    <button className=\"ql-video\" />\r\n                    <button className=\"ql-blockquote\" />\r\n                    <button className=\"ql-clean\" />\r\n\r\n\r\n\r\n                </div>\r\n                <ReactQuill\r\n                    style={{ height: 400 }}\r\n                    ref={(el) => { this.reactQuillRef = el }}\r\n                    theme={'snow'}\r\n                    onChange={this.handleChange}\r\n                    modules={this.modules}\r\n                    formats={this.formats}\r\n                    value={this.state.editorHtml}\r\n                    placeholder={this.props.placeholder}\r\n                />\r\n                <input type=\"file\" accept=\"image/*\" ref={this.inputOpenImageRef} style={{ display: \"none\" }} onChange={this.insertImage} />\r\n                <input type=\"file\" accept=\"video/*\" ref={this.inputOpenVideoRef} style={{ display: \"none\" }} onChange={this.insertVideo} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    modules = {\r\n        // syntax: true,\r\n        toolbar: {\r\n            container: \"#toolbar\",\r\n            //id =\"toorbar\"는  그 위에 B I U S I V F P 이거 있는 곳이다. \r\n            handlers: {\r\n                insertImage: this.imageHandler,\r\n                insertVideo: this.videoHandler\r\n            }\r\n        },\r\n\r\n    };\r\n\r\n    formats = [\r\n        'header',\r\n        'bold', 'italic', 'underline', 'strike',\r\n        'image', 'video', 'link', \"code-block\", \"video-link\", \"blockquote\", \"clean\"\r\n    ];\r\n}\r\n\r\nexport default QuillEditor;","import React, { useEffect, useState, Fragment } from 'react'\r\nimport { axios } from '../../config/constant';\r\nimport { message } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Image, Button } from 'react-bootstrap';\r\n\r\nexport default function BaiViet(props) {\r\n    const id = props.match.params.id;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [soProductShow, setSoProductShow] = useState(4);\r\n    const [productShowEnd, setProductShowEnd] = useState(false);\r\n    const [dataBaiViet, setDataBaiViet] = useState({\r\n        tieuDe: '',\r\n        img: '',\r\n        ngayTao: new Date(),\r\n        loaiBaiViet: '',\r\n        idProducts: '',\r\n        content: '',\r\n        luotXem: '',\r\n        isLock: false,\r\n        isDelete: false\r\n    });\r\n    const [dataProduct, setDataProduct] = useState([]);\r\n\r\n    function format_curency(a) {\r\n        a = a.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\r\n        return a;\r\n    }\r\n\r\n    function to_slug(str) {\r\n        // Chuyển hết sang chữ thường\r\n        str = str.toLowerCase();\r\n\r\n        // xóa dấu\r\n        str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\r\n        str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\r\n        str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\r\n        str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\r\n        str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\r\n        str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\r\n        str = str.replace(/(đ)/g, 'd');\r\n\r\n        // Xóa ký tự đặc biệt\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n\r\n        // Xóa khoảng trắng thay bằng ký tự -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n\r\n        // xóa phần dự - ở đầu\r\n        str = str.replace(/^-+/g, '');\r\n\r\n        // xóa phần dư - ở cuối\r\n        str = str.replace(/-+$/g, '');\r\n\r\n        // return\r\n        return str;\r\n    }\r\n\r\n    function tinh_tien(giaGoc, giaTriGiamGia) {\r\n        var tien = 0;\r\n        if (giaTriGiamGia > 100) {\r\n            tien = giaGoc - giaTriGiamGia;\r\n        } else {\r\n            tien = giaGoc - (giaGoc * giaTriGiamGia / 100);\r\n        }\r\n\r\n        return tien.toString();\r\n    }\r\n\r\n    function setLongString(str) {\r\n        var stringNew = str;\r\n        if (str.length > 70) {\r\n            stringNew = str.substring(0, 70) + '...'\r\n        }\r\n        return stringNew;\r\n    }\r\n\r\n    async function LayDataBaiVietTheoID() {\r\n        let res = await axios.get('hethong/baiviet-item?id=' + id);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataBaiViet({\r\n                tieuDe: res.data.data.tieuDe,\r\n                img: res.data.data.img,\r\n                loaiBaiViet: res.data.data.loaiBaiViet,\r\n                ngayTao: res.data.data.ngayTao,\r\n                content: res.data.data.content,\r\n                luotXem: 0,\r\n                isLock: false,\r\n                isDelete: false\r\n            });\r\n        } else {\r\n            message.error('Lấy data bài viết thất bại !');\r\n        }\r\n\r\n    }\r\n\r\n    async function LayDataProductTheoIDBaiViet() {\r\n        let res = await axios.get('hethong/products-baiviet?id=' + id);\r\n\r\n        if (res.data.status === 'success') {\r\n            setDataProduct(res.data.data);\r\n        } else {\r\n            message.error('Lấy data sản phẩm liên quan thất bại !');\r\n        }\r\n    }\r\n\r\n    async function CapNhatLuotXemBaiViet() {\r\n        let res = await axios.put('hethong/baiviet-capnhatluotxem', {\r\n            id: id\r\n        });\r\n\r\n        if (res.data.status === 'fail') {\r\n            message.error('Cập nhật lượt xem thất bại !');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n        LayDataBaiVietTheoID();\r\n        LayDataProductTheoIDBaiViet();\r\n        CapNhatLuotXemBaiViet();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (soProductShow >= dataProduct.length && dataProduct.length !== 0) {\r\n            setProductShowEnd(true);\r\n        }\r\n    }, [soProductShow])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='container baiviet'>\r\n                <div dangerouslySetInnerHTML={{ __html: dataBaiViet.content }}>\r\n                </div>\r\n                {\r\n                    dataBaiViet.loaiBaiViet === 0 && (\r\n                        <div className=\"row\" style={{ height: 'auto', backgroundColor: '#F8F9FA', marginTop: 40, borderRadius: 10, color: 'black', fontWeight: 'lighter', padding: 10 }}>\r\n                            <div className=\"col\">\r\n                                <h5 style={{ color: 'orange' }}><strong>Các sản phẩm liên quan</strong></h5>\r\n                                <hr></hr>\r\n                                <Link></Link>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        dataProduct.map((item, i) => {\r\n                                            if (i < soProductShow) {\r\n                                                if (item.giaTriGiamGia === 0) {\r\n                                                    return <div className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n                                                        <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n\r\n                                                            <div className=\"row\">\r\n                                                                <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                            </div>\r\n\r\n                                                            <div className=\"row item-ten\">\r\n                                                                <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                            </div>\r\n                                                            <div className=\"row item-gia\">\r\n                                                                <h5><strong>{format_curency(item.gia.toString())} VNĐ</strong></h5>\r\n                                                            </div>\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                } else {\r\n                                                    return <div className=\"col-sm-3 item\" style={{ backgroundColor: \"white\", height: 350, marginTop: 20, width: '95%' }}>\r\n\r\n                                                        <Link to={'/detail/' + item._id + '/' + to_slug(item.ten)} className=\"a_item\">\r\n                                                            <div className=\"row\">\r\n                                                                <Image style={{ width: '100%', height: 180 }} src={item.img.chinh} />\r\n                                                            </div>\r\n                                                            <div className=\"row item-ten\">\r\n                                                                <span><strong>{setLongString(item.ten)}</strong></span>\r\n                                                            </div>\r\n                                                            <div className=\"row item-gia\">\r\n                                                                <h5><strong>{format_curency(tinh_tien(item.gia, item.giaTriGiamGia))} VNĐ</strong></h5>&nbsp;<span className=\"percent\">{\r\n                                                                    item.giaTriGiamGia > 100 ? '-' + format_curency(item.giaTriGiamGia.toString()) + 'VNĐ' : '-' + item.giaTriGiamGia + '%'\r\n                                                                }</span>\r\n                                                            </div>\r\n                                                            <div className=\"row item-giagoc\">\r\n                                                                <strike><span className=\"original\">{format_curency(item.gia.toString())} VNĐ</span></strike>\r\n                                                            </div>\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                }\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                                {\r\n                                    productShowEnd === false && (\r\n                                        <div className=\"row\" style={{ marginTop: 20, alignItems: 'center', justifyContent: 'center' }}>\r\n                                            <Button variant=\"outline-primary\" onClick={() => {\r\n                                                setSoProductShow(prev => prev + 4);\r\n                                                console.log(id);\r\n                                            }}>Xem Thêm</Button>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                <div>\r\n\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react';\r\nimport { Navbar, Button, Nav } from 'react-bootstrap';\r\nimport jwt from 'jsonwebtoken';\r\nimport { axios } from '../../config/constant';\r\nimport { message } from 'antd';\r\n\r\n\r\nexport default function ActivationAccount(props) {\r\n    const token = props.match.params.token;\r\n    const [userThem, setUserThem] = useState('');\r\n\r\n    async function TaoTaiKhoan() {\r\n        let res = await axios.post('hethong/auth/create-account', {\r\n            token: token\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success('Tạo tài khoản thành công');\r\n            setTimeout(() => {\r\n                window.location.pathname = '/';\r\n            }, 2000);\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setUserThem(jwt.decode(token));\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src='/logo.png'\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        style={{ marginRight: 5 }}\r\n                        className=\"d-inline-block\"\r\n                    />\r\n                    <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"/\">Trang Chủ</Nav.Link>\r\n                    </Nav>\r\n\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n            <div className=\"container\" style={{ marginTop: 100, height: 'auto', padding: 20 }}>\r\n                <div className='col'>\r\n                    <center>\r\n                        <h5><b>Welcome {userThem.ten}</b></h5>\r\n                        <Button onClick={() => {\r\n                            TaoTaiKhoan();\r\n                        }}>Nhấn để kích hoạt tài khoản</Button>\r\n                    </center>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react';\r\nimport { Navbar, Button, Row, Col, Nav, Form } from 'react-bootstrap';\r\nimport jwt from 'jsonwebtoken';\r\nimport { axios } from '../../config/constant';\r\nimport { message } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nexport default function ForgetPassword() {\r\n    const dispatch = useDispatch();\r\n    const [email, setEmail] = useState('');\r\n\r\n    async function GuiMailDoiMatKhau() {\r\n        console.log(email + ' + client');\r\n        let res = await axios.post('hethong/auth/forget-password', {\r\n            email: email\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(res.data.message);\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n    }, []);\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src='/logo.png'\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        style={{ marginRight: 5 }}\r\n                        className=\"d-inline-block\"\r\n                    />\r\n                    <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"/\">Trang Chủ</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n            <div className=\"container\" style={{ marginTop: 100, height: 'auto', padding: 20 }}>\r\n                <div className='col'>\r\n                    <center>\r\n                        <Form style={{ fontSize: 14, padding: 0, margin: 0 }}>\r\n\r\n                            <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                                <Col >\r\n                                    <Form.Control type=\"text\" placeholder=\"Nhập địa chỉ email để đổi lại mật khẩu\" onChange={(e) => {\r\n                                        setEmail(e.target.value);\r\n                                    }} />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <Form.Group as={Row}>\r\n                                <Col >\r\n                                    <Button variant=\"primary\" style={{ width: '50%' }} onClick={(e) => {\r\n                                        GuiMailDoiMatKhau();\r\n                                    }}>\r\n                                        Xác nhận\r\n                                    </Button>\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Form>\r\n                    </center>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react';\r\nimport { Navbar, Button, Row, Col, Nav, Form } from 'react-bootstrap';\r\nimport jwt from 'jsonwebtoken';\r\nimport { axios } from '../../config/constant';\r\nimport { message } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nexport default function ResetPassword(props) {\r\n    const token = props.match.params.token;\r\n    const dispatch = useDispatch();\r\n    const [password, setPassword] = useState({\r\n        newPassword1: '',\r\n        newPassword2: ''\r\n    });\r\n    const [error, setError] = useState(0);\r\n\r\n    function KiemTraDuLieuNhap() {\r\n        if (password.newPassword1 !== password.newPassword2) {\r\n            setError(1);\r\n        } else {\r\n            DoiMatKhauMoi();\r\n            setError(0);\r\n        }\r\n    }\r\n\r\n    async function DoiMatKhauMoi() {\r\n        let res = await axios.put('hethong/auth/reset-password', {\r\n            token: token,\r\n            password: password.newPassword1\r\n        });\r\n\r\n        if (res.data.status === 'success') {\r\n            message.success(res.data.message);\r\n            setTimeout(() => {\r\n                window.location.pathname = '/';\r\n            }, 2000);\r\n        } else {\r\n            message.error(res.data.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'CLOSE_HEADER' });\r\n    }, []);\r\n\r\n    return (\r\n        <Fragment>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src='/logo.png'\r\n                        width=\"40\"\r\n                        height=\"40\"\r\n                        style={{ marginRight: 5 }}\r\n                        className=\"d-inline-block\"\r\n                    />\r\n                    <span style={{ fontWeight: 'bold', color: 'orange' }}>WareHouse</span>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"/\">Trang Chủ</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n            <div className=\"container\" style={{ marginTop: 100, height: 'auto', padding: 20 }}>\r\n                <div className='col'>\r\n                    <center>\r\n                        <Form style={{ fontSize: 14, padding: 0, margin: 0 }}>\r\n\r\n                            <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                                <Col >\r\n                                    <Form.Control type=\"password\" placeholder=\"Nhập mật khẩu mới\" onChange={(e) => {\r\n                                        setPassword({\r\n                                            ...password,\r\n                                            newPassword1: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                                <Col >\r\n                                    <Form.Control type=\"password\" placeholder=\"Xác nhận lại mật khẩu\" onChange={(e) => {\r\n                                        setPassword({\r\n                                            ...password,\r\n                                            newPassword2: e.target.value\r\n                                        })\r\n                                    }} />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            {\r\n                                error === 1 && (\r\n                                    <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                                        <p style={{ color: 'red', lineHeight: 1.5 }}>Mật khẩu không trùng khớp. Vui lòng kiểm tra lại</p>\r\n                                    </Form.Group>\r\n                                )\r\n                            }\r\n                            <Form.Group as={Row}>\r\n                                <Col >\r\n                                    <Button variant=\"primary\" style={{ width: '50%' }} onClick={(e) => {\r\n                                        KiemTraDuLieuNhap();\r\n                                    }}>\r\n                                        Xác nhận\r\n                                    </Button>\r\n                                </Col>\r\n                            </Form.Group>\r\n                        </Form>\r\n                    </center>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { ListGroup, Button, Form, Row, Col, Table, Image, Spinner } from 'react-bootstrap';\r\nimport { Link, Switch, Route, useRouteMatch } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\nimport { axios } from '../../config/constant';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { QLBaiVietComponent, QLGianHangComponent, QLNhanXetComponent, QLMaGiamGiaComponent, QLNguoiDungComponent, QLDoanhThuComponent, QLCauHoiComponent, QLCategoryComponent, QLBrandComponent, QLProductComponent, QLDonHangComponent } from '../allJS';\r\nimport { Dropdown, Menu, message } from 'antd';\r\n\r\n\r\nexport default function MainAdmin() {\r\n    const [cookies, setCookies, removeCookies] = useCookies();\r\n    const isAdminReducer = useSelector(state => state.isAdmin);\r\n    const match = useRouteMatch();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    async function KiemTraTokenAdmin() {\r\n        await axios.get('hethong/auth/token-admin', { headers: { 'token': cookies.token } }).then(function (res) {\r\n            if (res.data.status === \"fail\") {\r\n                dispatch({ type: 'NO_ADMIN' });\r\n            } else {\r\n                dispatch({ type: 'ADMIN' });\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        KiemTraTokenAdmin();\r\n        dispatch({ type: 'SHOW_HEADER' });\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"container-fluid\" style={{ marginTop: '50px' }}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-2\" style={{ height: 800, backgroundColor: '#3399FF', borderRadius: 20 }}>\r\n                        <div style={{ padding: 20, color: 'white' }}>\r\n                            <h4><center>Chức năng Admin</center></h4>\r\n                        </div>\r\n                        <div>\r\n                            <ListGroup>\r\n                                <Link to={`${match.url}/qlbaiviet`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Bài viết\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n\r\n                                <Link to={`${match.url}/qlcategory`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Loại sản phẩm\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qlbrand`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Thương hiệu\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n\r\n                                <Link to={`${match.url}/qlproduct`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Sản phẩm\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qldonhang`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Đơn hàng\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qlgianhang`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Gian hàng\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n                                <Link to={`${match.url}/qlnguoidung`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Người dùng\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qlvoucher`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Mã giảm giá\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qlcauhoi`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Câu hỏi khách hàng\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qlnhanxet`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Bình luận khách hàng\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n\r\n                                <Link to={`${match.url}/qldoanhthu`} style={{ textDecoration: 'none' }} onClick={(e) => {\r\n                                    if (cookies.userID === undefined) {\r\n                                        e.preventDefault();\r\n                                        message.error(\"Vui lòng đăng nhập để sử dụng chức năng\");\r\n                                    } else {\r\n                                        if (isAdminReducer === false) {\r\n                                            e.preventDefault();\r\n                                            message.error(\"Vui lòng đăng nhập tài khoản Admin để sử dụng chức năng này\")\r\n                                        }\r\n\r\n                                    }\r\n                                }}>\r\n                                    <ListGroup.Item style={{ marginTop: 10 }}>\r\n                                        Quản lý Doanh thu\r\n                                    </ListGroup.Item>\r\n                                </Link>\r\n                            </ListGroup>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        isAdminReducer === true && (\r\n                            <Switch>\r\n                                <Route exact path={`${match.url}/qlcategory`} component={QLCategoryComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlbrand`} component={QLBrandComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlproduct`} component={QLProductComponent}></Route>\r\n                                <Route exact path={`${match.url}/qldonhang`} component={QLDonHangComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlgianhang`} component={QLGianHangComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlnguoidung`} component={QLNguoiDungComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlbaiviet`} component={QLBaiVietComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlcauhoi`} component={QLCauHoiComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlnhanxet`} component={QLNhanXetComponent}></Route>\r\n                                <Route exact path={`${match.url}/qldoanhthu`} component={QLDoanhThuComponent}></Route>\r\n                                <Route exact path={`${match.url}/qlvoucher`} component={QLMaGiamGiaComponent}></Route>\r\n                            </Switch>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </Fragment >\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport './App.css';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { Header, Footer, DealPage, TrangChu, ActivationAccount, ResetPassword, ForgetPassword, TimKiem, Customer, BanHang_DangKy, ErrorPhanQuyen, ShopPage, CategorySanPham, SanPhamDetail, BaiViet, CheckoutCart, CheckoutShipping, CheckoutPayment, BanHang, ResultSuccessPage } from '../allJS';\r\nimport MainAdmin from '../Admin/MainAdmin';\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction App() {\r\n  const showHeader = useSelector(state => state.showHeader);\r\n  return (\r\n    <Fragment>\r\n      {\r\n        showHeader === true && (\r\n          <Header></Header>\r\n        )\r\n      }\r\n      <Switch>\r\n        <Route exact path=\"/\" component={TrangChu}></Route>\r\n        <Route path=\"/banhang\" component={BanHang}></Route>\r\n        <Route path=\"/customer\" component={Customer}></Route>\r\n        <Route path=\"/error/403\" component={ErrorPhanQuyen}></Route>\r\n        <Route path=\"/dang-ky-gian-hang\" component={BanHang_DangKy}></Route>\r\n        <Route path=\"/shop/:id/:slug\" component={ShopPage}></Route>\r\n        <Route path=\"/deal\" component={DealPage}></Route>\r\n        <Route path=\"/checkout/payment/success/:id\" component={ResultSuccessPage}></Route>\r\n        <Route path=\"/category/:id/:slug\" component={CategorySanPham}></Route>\r\n        <Route path=\"/admin\" component={MainAdmin}></Route>\r\n        <Route path=\"/detail/:id/:slug\" component={SanPhamDetail}></Route>\r\n        <Route path=\"/baiviet/:id/:slug\" component={BaiViet}></Route>\r\n        <Route path=\"/checkout/cart\" component={CheckoutCart}></Route>\r\n        <Route path=\"/checkout/shipping\" component={CheckoutShipping}></Route>\r\n        <Route path=\"/checkout/payment\" component={CheckoutPayment}></Route>\r\n        <Route path=\"/timkiem\" component={TimKiem}></Route>\r\n        <Route path=\"/users/activate/:token\" component={ActivationAccount}></Route>\r\n        <Route path=\"/users/password/forget\" component={ForgetPassword}></Route>\r\n        <Route path=\"/users/password/reset/:token\" component={ResetPassword}></Route>\r\n        <Route component={TrangChu}></Route>\r\n      </Switch>\r\n      <Footer></Footer>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initState = {\r\n    showItemComponent: false\r\n}\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'DANG_NHAP_THANH_CONG':\r\n            return ({\r\n                showItemComponent: true\r\n            });\r\n        case 'DANG_NHAP_THAT_BAI':\r\n            return ({\r\n                showItemComponent: false\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = {\r\n    showAdminMain: false\r\n}\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_MAIN_ADMIN':\r\n            return ({\r\n                showAdminMain: true\r\n            });\r\n        case 'SHOW_MAIN_NORMAL_VA_CHUSHOP':\r\n            return ({\r\n                showAdminMain: false\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'RELOAD_DATABASE':\r\n            return true;\r\n        case 'NO_RELOAD_DATABASE':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = -1;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SPINNER_DATABASE':\r\n            return 1;\r\n        case 'NO_SPINNER_DATABASE':\r\n            return 0;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'ADMIN':\r\n            return true;\r\n        case 'NO_ADMIN':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = null;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'OBJECT_ID_NOW':\r\n            return action.id\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_THEM_CATEGORY':\r\n            return true;\r\n        case 'CLOSE_THEM_CATEGORY':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_CATEGORY':\r\n            return true;\r\n        case 'CLOSE_CHITIET_CATEGORY':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = -1;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SPINNER_CHITIETCATEGORY':\r\n            return 1;\r\n        case 'NO_SPINNER_CHITIETCATEGORY':\r\n            return 0;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_THEM_BRAND':\r\n            return true;\r\n        case 'CLOSE_THEM_BRAND':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_BRAND':\r\n            return true;\r\n        case 'CLOSE_CHITIET_BRAND':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = -1;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SPINNER_CHITIETBRAND':\r\n            return 1;\r\n        case 'NO_SPINNER_CHITIETBRAND':\r\n            return 0;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_PRODUCT_ADMIN':\r\n            return true;\r\n        case 'CLOSE_CHITIET_PRODUCT_ADMIN':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = -1\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'TONGSO_SANPHAM':\r\n            return action.tongSoSanPham\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'THAY_DOI_GIO_HANG':\r\n            return true;\r\n        case 'KHONG_THAY_DOI_GIO_HANG':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_MODAL_DANGNHAP_DANGKY':\r\n            return true;\r\n        case 'CLOSE_MODAL_DANGNHAP_DANGKY':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_HEADER':\r\n            return true;\r\n        case 'CLOSE_HEADER':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = {\r\n    hoTen: '',\r\n    sdt: '',\r\n    diaChi: '',\r\n    phuong: '',\r\n    quan: '',\r\n    thanhPho: ''\r\n}\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'THONGTIN_DATHANG':\r\n            return ({\r\n                hoTen: action.thongTin.hoTen,\r\n                sdt: action.thongTin.sdt,\r\n                diaChi: action.thongTin.diaChi,\r\n                phuong: action.thongTin.phuong,\r\n                quan: action.thongTin.quan,\r\n                thanhPho: action.thongTin.thanhPho\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = {\r\n    idShow:'',\r\n    loaiGiamGia:'',\r\n    giaTriGiam:''\r\n}\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'THONGTIN_VOUCHER':\r\n            return ({\r\n                idShow:action.thongTinVoucher.idShow,\r\n                loaiGiamGia:action.thongTinVoucher.loaiGiamGia,\r\n                giaTriGiam:action.thongTinVoucher.giaTriGiam\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","var initState = 0;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'MENU_TRANGCHU':\r\n            return 0;\r\n        case 'MENU_DONHANG':\r\n            return 1;\r\n        case 'MENU_DANHSACHSANPHAM':\r\n            return 2;\r\n        case 'MENU_TAOMOISANPHAM':\r\n            return 3;\r\n        case 'MENU_BAOCAOTONKHO':\r\n            return 4;\r\n        case 'MENU_DANHSACHGIAMGIA':\r\n            return 5;\r\n        case 'MENU_DANHSACHCOUPON':\r\n            return 6;\r\n        case 'MENU_CHUONGTRINHKHUYENMAI':\r\n            return 7;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'RELOAD_IMG':\r\n            return true;\r\n        case 'NO_RELOAD_IMG':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_PRODUCT_CHUSHOP':\r\n            return true;\r\n        case 'CLOSE_CHITIET_PRODUCT_CHUSHOP':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'DANG_XUAT':\r\n            return true;\r\n        case 'KHONG_DANG_XUAT':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_DONHANG_CHUSHOP':\r\n            return true;\r\n        case 'CLOSE_CHITIET_DONHANG_CHUSHOP':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_NGUOIDUNG':\r\n            return true;\r\n        case 'CLOSE_CHITIET_NGUOIDUNG':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CAPNHATKHO':\r\n            return true;\r\n        case 'CLOSE_CAPNHATKHO':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CAPNHATGIATRIGIAM':\r\n            return true;\r\n        case 'CLOSE_CAPNHATGIATRIGIAM':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_THEM_BAIVIET':\r\n            return true;\r\n        case 'CLOSE_THEM_BAIVIET':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_BAIVIET':\r\n            return true;\r\n        case 'CLOSE_CHITIET_BAIVIET':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_CAUHOI':\r\n            return true;\r\n        case 'CLOSE_CHITIET_CAUHOI':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_CHITIET_COMMENT':\r\n            return true;\r\n        case 'CLOSE_CHITIET_COMMENT':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = '';\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'VALUE_SEARCH':\r\n            return action.valueSearch;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","const initState = false;\r\n\r\nconst noidung = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'SHOW_THEM_VOUCHER':\r\n            return true;\r\n        case 'CLOSE_THEM_VOUCHER':\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default noidung;","import { combineReducers } from 'redux';\r\nimport trangThaiDangNhap from '../reducers/DungChung/trangThaiDaDangNhapThanhCong';\r\nimport showMainComponent from '../reducers/DungChung/showMainComponentAdminReducer';\r\nimport reloadDatabase from '../reducers/DungChung/reloadDatabaseReducer';\r\nimport setSpinner from '../reducers/DungChung/setSpinnerReducer';\r\nimport isAdmin from '../reducers/DungChung/isAdminReducer';\r\nimport objectIDDuocChon from '../reducers/DungChung/objectIDDangDuocChonReducer';\r\nimport showModalThemCategory from '../reducers/DungChung/showModalThemCategoryReducer';\r\nimport showChiTietCategory from '../reducers/DungChung/showChiTietCategoryReducer';\r\nimport setSpinnerChiTietCategory from '../reducers/DungChung/setSpinnerChiTietCategoryReducer';\r\nimport showModalThemBrand from '../reducers/DungChung/showModalThemBrandReducer';\r\nimport showChiTietBrand from '../reducers/DungChung/showChiTietBrandReducer';\r\nimport setSpinnerChiTietBrand from '../reducers/DungChung/setSpinnerChiTietBrandReducer';\r\nimport showChiTietProductAdmin from '../reducers/DungChung/showChiTietProductReducer';\r\nimport tongSoSanPham from '../reducers/DungChung/tongSoSanPhamTrongGioHangReducer';\r\nimport statusThayDoiGioHang from '../reducers/DungChung/statusThayDoiGioHangReducer';\r\nimport showModalDangNhapDangKy from '../reducers/DungChung/showModalDangNhapDangKyReducer';\r\nimport showHeader from '../reducers/DungChung/showHeaderReducer';\r\nimport thongTinDatHang from '../reducers/DungChung/thongTinDatHangKhachHangReducer';\r\nimport thongTinVoucher from '../reducers/DungChung/thongTinVoucherReducer';\r\nimport setKeyMenuBanHang from '../reducers/DungChung/setKeyMenu_BanHangReducer';\r\nimport reloadAnh from '../reducers/DungChung/reloadAnhReducer';\r\nimport showChiTietProduct_ChuShop from '../reducers/DungChung/showChiTietProduct_ChuShopReducer';\r\nimport statusDangXuat from '../reducers/DungChung/statusDangXuatReducer';\r\nimport showChiTietDonHang_ChuShop from '../reducers/DungChung/showChiTietDonHang_ChuShopReducer';\r\nimport showChiTietNguoiDung from '../reducers/DungChung/showChiTietNguoiDungReducer';\r\nimport showModalCapNhatKho from '../reducers/DungChung/showModalCapNhatKhoReducer';\r\nimport showModalCapNhatGiaTriGiam from '../reducers/DungChung/showModalCapNhatGiaTriGiamReducer';\r\nimport showModalThemBaiViet from '../reducers/DungChung/showModalThemBaiVietReducer';\r\nimport showChiTietBaiViet from '../reducers/DungChung/showChiTietBaiVietReducer';\r\nimport showChiTietCauHoi from '../reducers/DungChung/showChiTietCauHoiReducer';\r\nimport showChiTietNhanXet from '../reducers/DungChung/showChiTietNhanXetReducer';\r\nimport valueSearch from '../reducers/DungChung/valueSearchReducer';\r\nimport showModalThemVoucher from '../reducers/DungChung/showModalThemVoucherReducer';\r\n\r\nconst allReducers = combineReducers({\r\n    trangThaiDangNhap,\r\n    showMainComponent,\r\n    reloadDatabase,\r\n    showChiTietCauHoi,\r\n    showChiTietNhanXet,\r\n    setSpinner,\r\n    isAdmin,\r\n    objectIDDuocChon,\r\n    showModalThemCategory,\r\n    showChiTietCategory,\r\n    setSpinnerChiTietCategory,\r\n    showModalThemBrand,\r\n    showChiTietBrand,\r\n    setSpinnerChiTietBrand,\r\n    showChiTietProductAdmin,\r\n    tongSoSanPham,\r\n    statusThayDoiGioHang,\r\n    showModalDangNhapDangKy,\r\n    showHeader,\r\n    thongTinDatHang,\r\n    thongTinVoucher,\r\n    setKeyMenuBanHang,\r\n    reloadAnh,\r\n    showChiTietProduct_ChuShop,\r\n    statusDangXuat,\r\n    showChiTietDonHang_ChuShop,\r\n    showChiTietNguoiDung,\r\n    showModalCapNhatKho,\r\n    showModalCapNhatGiaTriGiam,\r\n    showModalThemBaiViet,\r\n    valueSearch,\r\n    showChiTietBaiViet,\r\n    showModalThemVoucher\r\n})\r\n\r\nexport default allReducers;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'antd/dist/antd.css';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\nimport allReducers from './reducers/index';\r\nimport { createStore } from 'redux';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport { QueryParamProvider } from 'use-query-params';\r\n\r\nconst store = createStore(allReducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nReactDOM.render(\r\n  <CookiesProvider>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <QueryParamProvider ReactRouterRoute={Route}>\r\n          <App />\r\n        </QueryParamProvider>\r\n      </Router>\r\n    </Provider>\r\n  </CookiesProvider>\r\n\r\n  , document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}